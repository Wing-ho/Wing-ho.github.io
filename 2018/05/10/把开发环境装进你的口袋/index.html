<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="msvalidate.01" content="882A4E15FB483D0DD65BAC2CD6F114BD"><meta name="description" content="Wing's Blog"><title>把开发环境装进你的口袋 | Wing</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">把开发环境装进你的口袋</h1><a id="logo" href="/.">Wing</a><p class="description">大道至简</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/books/"><i class="fa fa-book"> 书籍</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">把开发环境装进你的口袋</h1><div class="post-meta">May 10, 2018</div><a class="disqus-comment-count" data-disqus-identifier="2018/05/10/把开发环境装进你的口袋/" href="/2018/05/10/把开发环境装进你的口袋/#disqus_thread"></a><div class="post-content"><div id="content">
<div id="table-of-contents">
<h2>&#x76EE;&#x5F55;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgde72ee6">1. &#x7F16;&#x8BD1;&#x5185;&#x6838;</a>
<ul>
<li><a href="#org0ef48b6">1.1. &#x4E0B;&#x8F7D;android&#x6E90;&#x4EE3;&#x7801;</a></li>
<li><a href="#orgb6eba70">1.2. Debian stretch&#x5B89;&#x88C5;openjdk-7</a></li>
<li><a href="#orge13a923">1.3. &#x5927;&#x795E;&#x7684;&#x4E00;&#x53E5;&#x8BDD;&#xFF0C;&#x9053;&#x7834;&#x4E86;&#x6210;&#x529F;&#x7F16;&#x8BD1;&#x7684;&#x7384;&#x673A;</a></li>
<li><a href="#org1ec4d71">1.4. &#x5236;&#x4F5C;Boot&#x5206;&#x533A;&#x955C;&#x50CF;boot.img</a>
<ul>
<li><a href="#org4813379">1.4.1. &#x89E3;&#x5305;&#x5B98;&#x65B9;Rom&#x4E2D;&#x7684;boot.img</a></li>
<li><a href="#org283b20c">1.4.2. &#x66FF;&#x6362;uImage&#x548C;&#x6DFB;&#x52A0;Ramdisk&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;</a></li>
<li><a href="#org2c5c486">1.4.3. &#x6253;&#x5305;&#x538B;&#x7F29;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org775c03f">2. chroot&#x73AF;&#x5883;&#x4E0B;&#x5B89;&#x88C5;docker</a>
<ul>
<li><a href="#org53e89b6">2.1. &#x5B89;&#x88C5;docker&#x5BA2;&#x6237;&#x7AEF;</a>
<ul>
<li><a href="#orgb0cc601">2.1.1. &#x65B9;&#x6CD5;&#x4E00;</a></li>
<li><a href="#orgf24b01a">2.1.2. &#x65B9;&#x6CD5;&#x4E8C;</a></li>
</ul>
</li>
<li><a href="#org3f1499f">2.2. &#x4E0B;&#x8F7D;docker-machine&#x53CA;qemu&#x9A71;&#x52A8;</a>
<ul>
<li><a href="#org60164e2">2.2.1. &#x4E0B;&#x8F7D;docker-machine</a></li>
<li><a href="#orgba8d681">2.2.2. &#x4FEE;&#x6539;qemu&#x9A71;&#x52A8;</a></li>
</ul>
</li>
<li><a href="#org41497f7">2.3. &#x521B;&#x5EFA;&#x548C;&#x914D;&#x7F6E;&#x865A;&#x62DF;&#x673A;</a>
<ul>
<li><a href="#org063fc93">2.3.1. &#x521B;&#x5EFA;&#x540D;&#x4E3A;default&#x865A;&#x62DF;&#x673A;</a></li>
<li><a href="#orgcb4dbed">2.3.2. &#x914D;&#x7F6E;boot2docker&#x865A;&#x62DF;&#x673A;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org6f7c94d">3. &#x5B89;&#x88C5;Windows&#x7CFB;&#x7EDF;</a></li>
<li><a href="#org5eecaba">4. &#x53C2;&#x8003;&#x6587;&#x7AE0;</a></li>
</ul>
</div>
</div>
<p>
&#x7528;&#x7535;&#x7EB8;&#x4E66;&#x8DD1;&#x4E00;&#x4E9B;&#x5927;&#x4E00;&#x70B9;&#x7684;&#x5E94;&#x7528;&#x5F88;&#x5403;&#x529B;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5F3A;&#x52B2;&#x4E00;&#x70B9;&#x7684;CPU&#xFF0C;&#x6700;&#x597D;&#x662F;Intel&#x7684;CPU&#xFF0C;&#x679C;&#x7136;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x673A;&#x5668;&#xFF0C;&#x8FD8;&#x5341;&#x5206;&#x7B26;&#x5408;&#x6211;&#x7684;&#x8981;&#x6C42;&#x3002;&#x90A3;&#x5C31;&#x662F;&#x534E;&#x7855;&#x7684;zenfone2&#xFF0C;&#x867D;&#x7136;&#x5DF2;&#x7ECF;&#x662F;2015&#x5E74;&#x7684;&#x8BBE;&#x5907;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x914D;&#x7F6E;&#x975E;&#x5E38;&#x7684;&#x8C6A;&#x534E;&#xFF0C;4g&#x7684;&#x5185;&#x5B58;&#xFF0C;16-64G&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;256G&#x7684;&#x7248;&#x672C;&#xFF0C;&#x76EE;&#x524D;&#x6CA1;&#x6709;&#x89C1;&#x8FC7;&#x3002;&#x6211;&#x5728;&#x95F2;&#x9C7C;&#x4E0A;&#x7684;&#x6DD8;&#x4E86;&#x4E00;&#x4E2A;32G&#x7684;&#x7248;&#x672C;&#xFF0C;&#x6709;&#x4E86;Intel&#x7684;CPU&#x518D;&#x52A0;&#x4E0A;KVM&#x5185;&#x6838;&#xFF0C;&#x8DD1;&#x5B8C;&#x6574;&#x7248;&#x672C;&#x7684;windows&#x6216;&#x8005;Linux&#x90FD;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#xFF0C;raw&#x683C;&#x5F0F;&#x662F;&#x6700;&#x5FEB;&#x7684;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x4F1A;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x4E0D;&#x65B9;&#x4FBF;&#x8FDB;&#x884C;&#x8FC1;&#x79FB;&#xFF0C;&#x5B89;&#x88C5;windows&#x7CFB;&#x7EDF;&#xFF0C;&#x6211;&#x4F1A;&#x9009;&#x62E9;&#x7A0D;&#x6162;&#x4E00;&#x70B9;&#x7684;qcow2&#x683C;&#x5F0F;&#x3002;
</p>

<p>
zenfone2&#x5B98;&#x65B9;andorid 5 rom&#x7684;&#x5185;&#x6838;&#x7248;&#x672C;&#x6BD4;&#x8F83;&#x4F4E;&#xFF0C;&#x529F;&#x80FD;&#x4E0A;&#x4F1A;&#x6709;&#x6BD4;&#x8F83;&#x591A;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x7528;&#x865A;&#x62DF;&#x673A;&#x6765;&#x8DD1;Linux&#xFF0C;&#x4F7F;&#x7528;&#x8D77;&#x6765;&#x4F1A;&#x66F4;&#x52A0;&#x65B9;&#x4FBF;&#x3002;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x7684;Linux&#xFF0C;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x4E00;&#x4E2A;&#x50CF;Debian&#x4E00;&#x6837;&#x7684;&#x529F;&#x80FD;&#x5B8C;&#x5907;&#x7684;Linux&#x53D1;&#x884C;&#x7248;&#xFF0C;&#x6700;&#x597D;&#x662F;&#x4E00;&#x4E2A;&#x542F;&#x52A8;&#x8FC5;&#x901F;&#x5C0F;&#x5DE7;&#x7684;&#x53D1;&#x884C;&#x7248;&#xFF0C;&#x4E00;&#x756A;&#x8C03;&#x67E5;&#x5B9E;&#x9A8C;&#x4E0B;&#x6765;&#xFF0C;&#x53D1;&#x73B0;boot2docker&#x662F;&#x6700;&#x4F73;&#x7684;&#x9009;&#x62E9;&#x3002;&#x867D;&#x7136;boot2docker&#x5B98;&#x65B9;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;qemu&#x7684;docker-machine&#x9A71;&#x52A8;&#xFF0C;&#x4F46;github&#x4E0A;&#x6709;&#x4EBA;&#x5F00;&#x53D1;&#x4E86;&#x4E00;&#x4E2A;&#xFF0C;&#x8FD9;&#x4E2A;&#x9A71;&#x52A8;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x7F16;&#x8BD1;&#xFF0C;release&#x7248;&#x672C;&#x529F;&#x80FD;&#x6BD4;&#x8F83;&#x5C11;&#x3002;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x865A;&#x62DF;&#x673A;&#x7684;&#x6027;&#x80FD;&#x91CD;&#x65B0;&#x7F16;&#x8BD1;&#x4E86;android&#x5185;&#x6838;&#xFF0C;&#x6DFB;&#x52A0;kvm&#x3001;9p&#x548C;virtio&#x76F8;&#x5173;&#x7684;&#x5185;&#x6838;&#x6A21;&#x5757;&#xFF0C;9p&#x5185;&#x6838;&#x6A21;&#x5757;&#x53EF;&#x4EE5;&#x5C06;&#x4E3B;&#x673A;&#x7684;&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x5230;Linux&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x3002;
</p>
<div id="outline-container-orgde72ee6" class="outline-2">
<h2 id="orgde72ee6"><span class="section-number-2">1</span> &#x7F16;&#x8BD1;&#x5185;&#x6838;</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org0ef48b6" class="outline-3">
<h3 id="org0ef48b6"><span class="section-number-3">1.1</span> &#x4E0B;&#x8F7D;android&#x6E90;&#x4EE3;&#x7801;</h3>
<div class="outline-text-3" id="text-1-1">
<p>
&#x521A;&#x5F00;&#x59CB;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#x4EE3;&#x7406;&#x6765;&#x4E0B;&#x8F7D;&#xFF0C;&#x5BF9;&#x6BD4;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x7684;&#x6570;&#x91CF;&#x6765;&#x770B;&#xFF0C;&#x4EE3;&#x7406;&#x7684;&#x901F;&#x5EA6;&#x592A;&#x6162;&#x4E86;&#xFF0C;&#x5E78;&#x4E8F;&#x4E2D;&#x79D1;&#x5927;&#x6709;&#x955C;&#x50CF;&#x3002;&#x521A;&#x5F00;&#x59CB;&#x4F7F;&#x7528;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x51FA;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x603B;&#x662F;&#x51FA;&#x9519;&#xFF0C;&#x8FD8;&#x662F;&#x4E2D;&#x79D1;&#x5927;&#x7684;&#x955C;&#x50CF;&#x9760;&#x8C31;&#x4E00;&#x70B9;&#x3002;
&#x6709;&#x4E00;&#x4E2A;&#x53EB;xxx&#x5B50;&#x9879;&#x76EE;&#x662F;&#x4E0D;&#x80FD;&#x540C;&#x6B65;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x91CA;&#x6389;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x3002;
&#x5148;&#x4E0B;&#x8F7D;&#x4E00;&#x4E2A;&#x6253;&#x5305;&#x597D;&#x7684;&#x521D;&#x59CB;&#x955C;&#x50CF;&#xFF0C;&#x89E3;&#x5305;&#x540E;&#xFF0C;&#x518D;&#x8FD0;&#x884C;&#x540C;&#x6B65;&#x547D;&#x4EE4;&#xFF0C;&#x540C;&#x6B65;&#x67D0;&#x4E2A;android&#x7248;&#x672C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BBE;&#x7F6E;shell&#x53D8;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x540C;&#x6B65;&#x4EE3;&#x7801;&#x6E90;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4FEE;&#x6539;repo&#x811A;&#x672C;&#xFF0C;&#x628A; REPO<sub>URL</sub> &#x4E00;&#x884C;&#x66FF;&#x6362;&#x6210;&#x4E0B;&#x9762;&#x7684;&#xFF1A;
## REPO<sub>URL</sub> = &apos;https://gerrit-googlesource.proxy.ustclug.org/git-repo&apos;
</p>
<div class="org-src-container">
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">REPO_URL=<span class="string">&apos;https://gerrit-googlesource.proxy.ustclug.org/git-repo&apos;</span></span><br><span class="line">repo init -u git://mirrors.ustc.edu.cn/aosp/platform/manifest -b android-<span class="number">4.0</span>.<span class="number">1</span>_r1</span><br><span class="line">repo sync</span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
<div id="outline-container-orgb6eba70" class="outline-3">
<h3 id="orgb6eba70"><span class="section-number-3">1.2</span> Debian stretch&#x5B89;&#x88C5;openjdk-7</h3>
<div class="outline-text-3" id="text-1-2">
<p>
&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5B89;&#x88C5;Oracle&#x7684;jdk&#xFF0C;&#x4E0B;&#x8F7D;&#x597D;&#x4E86;&#x4E4B;&#x540E;&#xFF0C;&#x8BBE;&#x7F6E;&#x597D;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x5C31;&#x597D;&#x4E86;&#xFF0C;&#x6211;&#x9700;&#x8981;&#x4F7F;&#x7528;emacs&#x6765;&#x8C03;&#x8BD5;java&#x7A0B;&#x5E8F;&#xFF0C;openjdk&#x53EF;&#x80FD;&#x66F4;&#x52A0;&#x9002;&#x5408;&#x3002;
<a href="https://askubuntu.com/questions/761127/how-do-i-install-openjdk-7-on-ubuntu-16-04-or-higher" target="_blank" rel="noopener">How do I install openjdk 7 on Ubuntu 16.04 or higher?</a>
</p>
</div>
</div>
<div id="outline-container-orge13a923" class="outline-3">
<h3 id="orge13a923"><span class="section-number-3">1.3</span> &#x5927;&#x795E;&#x7684;&#x4E00;&#x53E5;&#x8BDD;&#xFF0C;&#x9053;&#x7834;&#x4E86;&#x6210;&#x529F;&#x7F16;&#x8BD1;&#x7684;&#x7384;&#x673A;</h3>
<div class="outline-text-3" id="text-1-3">
<p>
&#x6211;&#x4E00;&#x76F4;&#x6CA1;&#x6709;&#x6210;&#x529F;&#x4ECE;zenfone2&#x7684;&#x5F00;&#x6E90;&#x5185;&#x6838;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x7F16;&#x8BD1;&#x51FA;bzimage&#xFF0C;&#x5927;&#x795E;&#x7684;&#x4E00;&#x53E5;&#x8BDD;&#x9053;&#x7834;&#x4E86;&#x7384;&#x673A;&#xFF0C;&#x8981;&#x5148;&#x4E0B;&#x8F7D;&#x7B2C;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x7684;&#x5185;&#x6838;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x6700;&#x65B0;&#x7684;&#x7248;&#x672C;&#x8986;&#x76D6;&#x5230;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x624D;&#x80FD;&#x6210;&#x529F;&#x7F16;&#x8BD1;&#xFF0C;&#x4E0D;&#x80FD;&#x4E0B;&#x8F7D;&#x6E90;&#x4EE3;&#x7801;&#x89E3;&#x538B;&#x5C31;&#x76F4;&#x63A5;&#x7F16;&#x8BD1;&#x3002;
<a href="https://forum.xda-developers.com/zenfone2/orig-development/fhd-kernel-ze551-kvm-bridge-compiled-t3145055/page5" target="_blank" rel="noopener">fhd kernel ( ZE551 ) &amp; POSSIBLY hd (ZE550) with KVM &amp; Bridge compiled. <b>need help</b> &#x7B2C;5&#x9875;</a>
</p>
<pre class="example">
You will also want to make sure you untar the first kernel source, Asus left out components in later kernel source so they won&apos;t compile unless you untar them over the first one. </pre>
<p>
xda&#x4E0A;say99&#x4ED6;&#x7684;github&#x4E0A;&#x7684;&#x5185;&#x6838;&#x662F;&#x76F4;&#x63A5;&#x53EF;&#x4EE5;&#x7F16;&#x8BD1;&#x7684;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x5DE8;&#x5927;&#x7684;android&#x6E90;&#x4EE3;&#x7801;&#x3002;
Flare-AEL-X&#x662F;&#x5B98;&#x65B9;&#x7248;&#x672C;android5&#x7684;&#x5185;&#x6838;&#xFF0C;kernel-FlareM&#x662F;&#x5B98;&#x65B9;&#x7248;&#x672C;android6&#x7684;&#x5185;&#x6838;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;aosp&#x7684;&#x5185;&#x6838;&#x3002;
CONFIG<sub>DEBUG</sub><sub>INFO</sub> &#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x4E0D;&#x9009;&#xFF0C;&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x51CF;&#x5C11;&#x5185;&#x6838;&#x548C;&#x5185;&#x6838;&#x6A21;&#x5757;&#x7684;&#x5927;&#x5C0F;&#x3002;
say99&#x5199;&#x7684;&#x7F16;&#x8BD1;&#x5185;&#x6838;&#x6559;&#x7A0B;<a href="https://forum.xda-developers.com/zenfone2/general/compile-kernel-t3307932" target="_blank" rel="noopener">&#x300A;Compile your own kernel&#x300B;</a>
&#x6211;&#x4F30;&#x8BA1;&#x6CA1;&#x51E0;&#x4E2A;&#x4EBA;&#x50CF;&#x6211;&#x8FD9;&#x4E48;&#x6298;&#x817E;&#x7684;&#xFF0C;&#x8BE6;&#x7EC6;&#x7684;&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;&#x5C31;&#x4E0D;&#x518D;&#x53D9;&#x8FF0;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x7F16;&#x8BD1;&#x78B0;&#x5230;&#x56F0;&#x96BE;&#x6216;&#x8005;&#x771F;&#x7684;&#x9700;&#x8981;&#x6211;&#x7684;&#x7F16;&#x8BD1;&#x7684;&#x5185;&#x6838;&#x5C31;&#x7559;&#x8A00;&#x7ED9;&#x6211;&#x5427;&#x3002;
</p>
</div>
</div>
<div id="outline-container-org1ec4d71" class="outline-3">
<h3 id="org1ec4d71"><span class="section-number-3">1.4</span> &#x5236;&#x4F5C;Boot&#x5206;&#x533A;&#x955C;&#x50CF;boot.img</h3>
<div class="outline-text-3" id="text-1-4">
<p>
boot.img&#x7684;&#x89E3;&#x5305;&#x6253;&#x5305;&#x5DE5;&#x5177;<a href="https://github.com/shakalaca/ZenFone2-boot-tools" target="_blank" rel="noopener">https://github.com/shakalaca/ZenFone2-boot-tools</a>
</p>
</div>
<div id="outline-container-org4813379" class="outline-4">
<h4 id="org4813379"><span class="section-number-4">1.4.1</span> &#x89E3;&#x5305;&#x5B98;&#x65B9;Rom&#x4E2D;&#x7684;boot.img</h4>
<div class="outline-text-4" id="text-1-4-1">
<p>
&#x5230;&#x534E;&#x7855;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;Android 5&#x7684;&#x6700;&#x65B0;&#x7248;&#x672C;&#xFF0C;&#x627E;&#x5230;boot.img&#x89E3;&#x538B;&#x51FA;&#x6765;&#x3002;&#x4E3A;&#x4EC0;&#x4E48;&#x9009;&#x62E9;Android 5&#x800C;&#x4E0D;&#x9009;&#x62E9;Android 6&#xFF0C;&#x56E0;&#x4E3A;Android 6&#x4E0B;&#x7684;Linux Deploy&#x4E0D;&#x80FD;&#x5B89;&#x88C5;64&#x4F4D;&#x7684;Linux&#xFF0C;&#x7528;32&#x4F4D;&#x603B;&#x611F;&#x89C9;&#x4F1A;&#x7A0D;&#x6162;&#x4E00;&#x70B9;&#xFF0C;CPU&#x662F;64&#x4F4D;&#x7684;&#xFF0C;&#x5C31;&#x4E0D;&#x8981;&#x6D6A;&#x8D39;&#x5B83;&#x7684;&#x5BFB;&#x5740;&#x80FD;&#x529B;&#x3002;&#x800C;&#x4E14;&#x6211;&#x4E3B;&#x8981;&#x7528;&#x7684;&#x662F;Linux&#x7CFB;&#x7EDF;&#xFF0C;Android&#x7248;&#x672C;&#x5BF9;&#x6211;&#x7684;&#x5F71;&#x54CD;&#x6BD4;&#x8F83;&#x5C0F;&#xFF0C;&#x4F4E;&#x7248;&#x672C;&#x6D88;&#x8017;&#x7684;&#x8D44;&#x6E90;&#x8FD8;&#x66F4;&#x5C0F;&#x4E00;&#x70B9;&#x3002;
</p>
<div class="org-src-container">
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">unpackbootimg -i boot.img</span><br><span class="line"><span class="built_in">cd</span> boot</span><br><span class="line">gunzip ramdisk.cpio.gz</span><br><span class="line">mkdir ramdisk</span><br><span class="line"><span class="built_in">cd</span> ramdisk</span><br><span class="line"><span class="comment">#-i --extract &#x4ECE;&#x5305;&#x4E2D;&#x63D0;&#x53D6;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="comment">#-d --make-directories &#x9700;&#x8981;&#x65F6;&#x521B;&#x5EFA;&#x76EE;&#x5F55;</span></span><br><span class="line"><span class="comment">#-m --preserve-modification-time &#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x65F6;&#x4FDD;&#x7559;&#x4EE5;&#x524D;&#x6587;&#x4EF6;&#x7684;&#x4FEE;&#x6539;&#x65F6;&#x95F4;</span></span><br><span class="line"><span class="comment">#-v --verbose &#x8BE6;&#x7EC6;&#x5217;&#x51FA;&#x5DF2;&#x5904;&#x7406;&#x7684;&#x6587;&#x4EF6;</span></span><br><span class="line">cpio -idmv &lt; ../ramdisk.cpio</span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
<div id="outline-container-org283b20c" class="outline-4">
<h4 id="org283b20c"><span class="section-number-4">1.4.2</span> &#x66FF;&#x6362;uImage&#x548C;&#x6DFB;&#x52A0;Ramdisk&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;</h4>
<div class="outline-text-4" id="text-1-4-2">
<p>
&#x5728;&#x4E0A;&#x4E00;&#x6B65;&#x7684;&#x7F16;&#x8BD1;&#x7ED3;&#x679C;&#x5F53;&#x4E2D;&#x63D0;&#x53D6;uImage&#x5185;&#x6838;,kvm 9p virtio&#x7B49;&#x76F8;&#x5173;&#x5185;&#x6838;&#x6A21;&#x5757;&#x66FF;&#x6362;&#x6389;&#x5B98;&#x65B9;&#x7684;&#x5185;&#x6838;&#x53CA;&#x6A21;&#x5757;&#x3002;&#x4FEE;&#x6539;init.mofd<sub>v1.rc</sub>&#xFF0C;&#x8BA9;&#x5185;&#x6838;&#x80FD;&#x591F;&#x6B63;&#x786E;&#x52A0;&#x8F7D;&#x76F8;&#x5E94;&#x7684;&#x6A21;&#x5757;&#x3002;lib/modules/modules.order&#x4E5F;&#x6709;&#x4FDD;&#x5B58;&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x4F46;&#x597D;&#x50CF;&#x76F4;&#x63A5;&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;&#x4E2D;&#x4F7F;&#x7528;insmod&#x547D;&#x4EE4;&#x5C31;&#x80FD;&#x6B63;&#x786E;&#x52A0;&#x8F7D;&#x5185;&#x6838;&#x6A21;&#x5757;&#xFF0C;&#x8FD9;&#x4E2A;&#x7ED3;&#x8BBA;&#x662F;&#x5426;&#x6B63;&#x786E;&#x8FD8;&#x6709;&#x5F85;&#x9A8C;&#x8BC1;&#x3002;
</p>
<div class="org-src-container">
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim init.mofd_v1.rc</span><br><span class="line"><span class="comment"># line 337 add fallowing line</span></span><br><span class="line"><span class="comment"># load up our kvm stuff</span></span><br><span class="line">insmod /lib/modules/kvm.ko</span><br><span class="line">insmod /lib/modules/kvm-intel.ko</span><br><span class="line">insmod /lib/modules/pci-stub.ko</span><br><span class="line">insmod /lib/modules/font.ko</span><br><span class="line">insmod /lib/modules/sysfillrect.ko</span><br><span class="line">insmod /lib/modules/syscopyarea.ko</span><br><span class="line">insmod /lib/modules/sysimgblt.ko</span><br><span class="line">insmod /lib/modules/fb_sys_fops.ko</span><br><span class="line">insmod /lib/modules/virtio_mmio.ko</span><br><span class="line">insmod /lib/modules/virtio_pci.ko</span><br><span class="line">insmod /lib/modules/virtio_baloon.ko</span><br><span class="line">insmod /lib/modules/virtio_rng.ko</span><br><span class="line">insmod /lib/modules/virtio_console.ko</span><br><span class="line">insmod /lib/modules/virtio_blk.ko</span><br><span class="line">insmod /lib/modules/arizona-i2c.ko</span><br><span class="line">insmod /lib/modules/virtio_net.ko</span><br><span class="line">insmod /lib/modules/vringh.ko</span><br><span class="line">insmod /lib/modules/llc.ko</span><br><span class="line">insmod /lib/modules/bridge.ko</span><br><span class="line">insmod /lib/modules/<span class="number">9</span>pnet.ko</span><br><span class="line">insmod /lib/modules/<span class="number">9</span>pnet_virtio.ko</span><br><span class="line">insmod /lib/modules/<span class="number">9</span>p.ko</span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
<div id="outline-container-org2c5c486" class="outline-4">
<h4 id="org2c5c486"><span class="section-number-4">1.4.3</span> &#x6253;&#x5305;&#x538B;&#x7F29;</h4>
<div class="outline-text-4" id="text-1-4-3">
<p>
zenfone2-boot-tools&#x5F53;&#x4E2D;&#x63D0;&#x4F9B;&#x4E86;&#x6253;&#x5305;&#x811A;&#x672C;&#xFF0C;&#x76F4;&#x63A5;&#x62FF;&#x6765;&#x7528;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x4EE5;&#x540E;&#x4E0D;&#x80FD;&#x7528;&#xFF0C;&#x6211;fork&#x4E86;&#x4E00;&#x4EFD;<a href="https://github.com/wing-ho/ZenFone2-boot-tools" target="_blank" rel="noopener">https://github.com/wing-ho/ZenFone2-boot-tools</a>&#x3002;
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org775c03f" class="outline-2">
<h2 id="org775c03f"><span class="section-number-2">2</span> chroot&#x73AF;&#x5883;&#x4E0B;&#x5B89;&#x88C5;docker</h2>
<div class="outline-text-2" id="text-2">
<p>
&#x5982;&#x679C;&#x6DFB;&#x52A0;docker-ce&#x7684;&#x5B89;&#x88C5;&#x6E90;&#xFF0C;&#x76F4;&#x63A5;&#x5B89;&#x88C5;docker&#xFF0C;dockerd&#x5E76;&#x4E0D;&#x80FD;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;Android&#x5185;&#x6838;&#x662F;&#x88AB;&#x88C1;&#x526A;&#x8FC7;&#x7684;&#xFF0C;&#x53BB;&#x6389;&#x4E86;namespace&#x3001;cgroup&#x3001;overylay&#x7B49;&#x5185;&#x6838;&#x6A21;&#x5757;&#xFF0C;&#x6211;&#x8BD5;&#x8FC7;&#x628A;&#x8FD9;&#x4E9B;&#x6A21;&#x5757;&#x6DFB;&#x52A0;&#x5230;Anroid&#x5185;&#x6838;&#x5F53;&#x4E2D;&#xFF0C;&#x867D;&#x7136;&#x7F16;&#x8BD1;&#x6210;&#x529F;&#xFF0C;&#x4F46;&#x662F;&#x5237;&#x673A;&#x540E;&#xFF0C;Android&#x7CFB;&#x7EDF;&#x5374;&#x65E0;&#x6CD5;&#x542F;&#x52A8;&#xFF0C;&#x6211;&#x53C8;&#x6CA1;&#x6709;&#x76F8;&#x5E94;&#x7684;&#x624B;&#x6BB5;&#x53BB;&#x8C03;&#x8BD5;&#x624B;&#x673A;&#xFF0C;&#x5C31;&#x53EA;&#x80FD;&#x653E;&#x5F03;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x8F6C;&#x800C;&#x4F7F;&#x7528;&#x865A;&#x62DF;&#x673A;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x8FD0;&#x884C;docker&#x3002;docker-machine&#x5C31;&#x662F;&#x7528;&#x6765;&#x7BA1;&#x7406;docker&#x865A;&#x62DF;&#x673A;&#x7684;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;&#x4F7F;&#x7528;virtualbox&#x6765;&#x8FD0;&#x884C;&#x865A;&#x62DF;&#x673A;&#x7684;&#xFF0C;&#x4F46;&#x662F;virtualbox&#x5728;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x4E2D;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x5185;&#x6838;&#x6A21;&#x5757;&#xFF0C;Android&#x7CFB;&#x7EDF;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x8FD9;&#x79CD;&#x66F4;&#x65B0;&#x5185;&#x6838;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x5185;&#x6838;&#x662F;&#x5B58;&#x653E;&#x5728;&#x72EC;&#x7ACB;&#x7684;boot&#x5206;&#x533A;&#x4E2D;&#x7684;&#xFF0C;&#x6240;&#x5E78;&#x6709;&#x57FA;&#x4E8E;&#x547D;&#x4EE4;&#x884C;&#x7684;qemu&#x865A;&#x62DF;&#x673A;&#x3002;
</p>
</div>
<div id="outline-container-org53e89b6" class="outline-3">
<h3 id="org53e89b6"><span class="section-number-3">2.1</span> &#x5B89;&#x88C5;docker&#x5BA2;&#x6237;&#x7AEF;</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-orgb0cc601" class="outline-4">
<h4 id="orgb0cc601"><span class="section-number-4">2.1.1</span> &#x65B9;&#x6CD5;&#x4E00;</h4>
<div class="outline-text-4" id="text-2-1-1">
<div class="org-src-container">
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update </span><br><span class="line">sudo apt-get install </span><br><span class="line">apt-transport-https \</span><br><span class="line">    ca-certificates \</span><br><span class="line">    curl \</span><br><span class="line">    gnupg2 \</span><br><span class="line">    software-properties-common</span><br><span class="line">curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -</span><br><span class="line">sudo add-apt-repository \</span><br><span class="line">     <span class="string">&quot;deb [arch=amd64] https://download.docker.com/linux/debian \</span><br><span class="line">   <span class="variable">$(lsb_release -cs)</span> \</span><br><span class="line">   stable&quot;</span></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install docker-ce</span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
<div id="outline-container-orgf24b01a" class="outline-4">
<h4 id="orgf24b01a"><span class="section-number-4">2.1.2</span> &#x65B9;&#x6CD5;&#x4E8C;</h4>
<div class="outline-text-4" id="text-2-1-2">
<div class="org-src-container">
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl <span class="operator">-f</span>SL -o /tmp/dockerbin.tgz https://download.docker.com/linux/static/edge/x86_64/docker-<span class="number">18.06</span>.<span class="number">0</span>-ce.tgz </span><br><span class="line">tar -zxvf /tmp/dockerbin.tgz -C ~/usr/bin --strip-components=<span class="number">1</span></span><br><span class="line">rm /tmp/dockerbin.tgz</span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>
<div id="outline-container-org3f1499f" class="outline-3">
<h3 id="org3f1499f"><span class="section-number-3">2.2</span> &#x4E0B;&#x8F7D;docker-machine&#x53CA;qemu&#x9A71;&#x52A8;</h3>
<div class="outline-text-3" id="text-2-2">
</div>
<div id="outline-container-org60164e2" class="outline-4">
<h4 id="org60164e2"><span class="section-number-4">2.2.1</span> &#x4E0B;&#x8F7D;docker-machine</h4>
<div class="outline-text-4" id="text-2-2-1">
<div class="org-src-container">
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo curl <span class="operator">-f</span>SL -o /usr/<span class="built_in">local</span>/bin/docker-machine https://github.com/docker/machine/releases/download/v0.<span class="number">15.0</span>/docker-machine-Linux-x86_64</span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-orgba8d681" class="outline-4">
<h4 id="orgba8d681"><span class="section-number-4">2.2.2</span> &#x4FEE;&#x6539;qemu&#x9A71;&#x52A8;</h4>
<div class="outline-text-4" id="text-2-2-2">
<p>
qemu&#x9A71;&#x52A8;&#x4F7F;&#x7528;9p&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6765;&#x53EA;&#x8BFB;&#x6302;&#x8F7D;&#x4E00;&#x4E2A;user<sub>data&#x6587;&#x4EF6;&#x5230;&#x865A;&#x62DF;&#x673A;&#x4E2D;</sub>&#xFF0C;&#x6211;&#x9700;&#x8981;&#x628A;&#x5BBF;&#x4E3B;&#x673A;&#x7684;/home/$USER&#x6302;&#x8F7D;&#x5230;&#x865A;&#x62DF;&#x4E2D;&#x5BF9;&#x5E94;/home/$USER&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x5BF9;qemu&#x9A71;&#x52A8;&#x7A0D;&#x4F5C;&#x4FEE;&#x6539;&#x3002;
</p>
<div class="org-src-container">
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/machine-drivers/docker-machine-driver-qemu.git</span><br><span class="line"><span class="built_in">cd</span> docker-machine-driver</span><br><span class="line">sed -i <span class="string">&apos;s/security_model=passthrough,readonly/security_model=none/;s/mount_tag=config-2/mount_tag=user_home/&apos;</span> qemu.go </span><br><span class="line"><span class="comment"># &#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53BB;&#x914D;&#x7F6E;&#x597D;go&#x8BED;&#x8A00;&#x7684;&#x73AF;&#x5883;</span></span><br><span class="line">go build cmd -o docker-machine-driver-qemu</span><br><span class="line">chmod +x docker-machine-driver-qemu</span><br><span class="line">sudo cp docker-machine-driver-qemu /usr/<span class="built_in">local</span>/bin</span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>
<div id="outline-container-org41497f7" class="outline-3">
<h3 id="org41497f7"><span class="section-number-3">2.3</span> &#x521B;&#x5EFA;&#x548C;&#x914D;&#x7F6E;&#x865A;&#x62DF;&#x673A;</h3>
<div class="outline-text-3" id="text-2-3">
</div>
<div id="outline-container-org063fc93" class="outline-4">
<h4 id="org063fc93"><span class="section-number-4">2.3.1</span> &#x521B;&#x5EFA;&#x540D;&#x4E3A;default&#x865A;&#x62DF;&#x673A;</h4>
<div class="outline-text-4" id="text-2-3-1">
<div class="org-src-container">
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># &#x89E3;&#x51B3;&#x8F93;&#x5165;sudo&#x5E26;&#x6765;&#x7684;&#x627E;&#x4E0D;&#x5230;&#x547D;&#x4EE4;&#x7684;&#x95EE;&#x9898;</span></span><br><span class="line">sudo chown wing:wing /usr/bin/qemu-system-x86_64</span><br><span class="line">sudo chown wing:wing /dev/kvm</span><br><span class="line">useradd <span class="operator">-a</span> -G docker</span><br><span class="line"><span class="comment"># &#x4E0B;&#x8F7D;boot2docker&#x955C;&#x50CF;</span></span><br><span class="line">wget https://github.com/boot2docker/boot2docker/releases/download/v18.<span class="number">06.0</span>-ce/boot2docker.iso</span><br><span class="line">docker-machine create <span class="operator">-d</span> qemu --qemu-boot2docker-url boot2docker2.iso --qemu-virtio-drives --qemu-display --qemu-display-type vnc=:<span class="number">1</span> default </span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
<div id="outline-container-orgcb4dbed" class="outline-4">
<h4 id="orgcb4dbed"><span class="section-number-4">2.3.2</span> &#x914D;&#x7F6E;boot2docker&#x865A;&#x62DF;&#x673A;</h4>
<div class="outline-text-4" id="text-2-3-2">
<div class="org-src-container">
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># &#x914D;&#x7F6E;CloundConfigRoot&#x4E3A;&#x5BBF;&#x4E3B;&#x673A;&#x7684;/home/$USER&#x76EE;&#x5F55;</span></span><br><span class="line">sed -i <span class="string">&apos;s/&quot;CloudConfigRoot&quot;: &quot;&quot;/&quot;CloudConfigRoot&quot;: &quot;/home/wing&quot;/&apos;</span> ~/.docker/machine/machines/default/config.json</span><br><span class="line">docker-machine ssh</span><br><span class="line">sudo <span class="operator">-s</span></span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;&#x81EA;&#x52A8;&#x6302;&#x8F7D;9p&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x811A;&#x672C;&#xFF0C;&#x7C97;&#x7565;&#x6D4B;&#x8BD5;msize&#x4E3A;1M&#x6BD4;&#x8F83;&#x5408;&#x9002;</span></span><br><span class="line">cat &gt; /var/lib/boot2docker/bootlocal.sh &lt;&lt; EOF</span><br><span class="line">mkdir -p /home/wing</span><br><span class="line">sudo mount -t <span class="number">9</span>p -o trans=virtio,version=<span class="number">9</span>p2000.L,msize=<span class="number">1048576</span> user_home /home/wing</span><br><span class="line">EOF</span><br><span class="line">chown +x /var/lib/boot2docker/bootlocal.sh</span><br><span class="line"><span class="comment"># &#x4FEE;&#x6539;docker&#x9ED8;&#x8BA4;&#x5377;&#x9A71;&#x52A8;&#x548C;&#x6DFB;&#x52A0;&#x56FD;&#x5185;&#x52A0;&#x901F;&#x955C;&#x50CF;</span></span><br><span class="line">sed -i <span class="string">&apos;s/DOCKER_STORAGE=aufs/DOCKER_STORAGE=overlay2/;/--label/ a --registry-mirror=https://registry.docker-cn.com&apos;</span>  /var/lib/boot2docker/profile</span><br><span class="line"><span class="comment"># &#x91CD;&#x542F;&#x865A;&#x62DF;&#x673A;</span></span><br><span class="line">sudo shutdown</span><br><span class="line">docker-machine start default</span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org6f7c94d" class="outline-2">
<h2 id="org6f7c94d"><span class="section-number-2">3</span> &#x5B89;&#x88C5;Windows&#x7CFB;&#x7EDF;</h2>
<div class="outline-text-2" id="text-3">
<p>
Windows&#x7CFB;&#x7EDF;&#x5E76;&#x4E0D;&#x662F;&#x6211;&#x7684;&#x4E3B;&#x529B;&#x7CFB;&#x7EDF;&#xFF0C;&#x5C31;&#x662F;&#x7528;&#x6765;&#x8FD0;&#x884C;&#x4E00;&#x4E9B;Windows&#x73AF;&#x5883;&#x7684;&#x8F6F;&#x4EF6;&#x800C;&#x5DF2;&#xFF0C;&#x4E3A;&#x4E86;&#x8282;&#x7701;&#x7A7A;&#x95F4;&#x6211;&#x9009;&#x62E9;&#x4E86;xp&#xFF0C;&#x76EE;&#x524D;xp&#x8FD8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;posReady&#x8865;&#x4E01;&#x6301;&#x7EED;&#x66F4;&#x65B0;&#x5230;2019&#x5E74;4&#x6708;9&#x65E5;&#x3002;Win7&#x3001;Win10&#x5E94;&#x8BE5;&#x4E5F;&#x662F;&#x80FD;&#x591F;&#x6D41;&#x7545;&#x8FD0;&#x884C;&#x7684;&#x3002;&#x8BA9;&#x7CFB;&#x7EDF;&#x6D41;&#x7545;&#x7684;&#x5173;&#x952E;&#x662F;&#x6539;&#x53D8;cpufreq&#x7684;&#x6A21;&#x5F0F;&#x4E3A;ondemand&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;cpu&#x4F1A;&#x5728;&#x606F;&#x5C4F;&#x540E;&#x5C31;&#x4F1A;&#x5DE5;&#x4F5C;&#x5728;interactive&#x6A21;&#x5F0F;&#x4E0B;&#x3002;&#x53E6;&#x5916;&#x7531;&#x4E8E;GPU&#x9A71;&#x52A8;&#x7684;&#x7F18;&#x6545;&#xFF0C;&#x5728;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x770B;&#x7535;&#x5F71;&#xFF0C;&#x4E22;&#x5E27;&#x4F1A;&#x6BD4;&#x8F83;&#x4E25;&#x91CD;&#x7684;&#xFF0C;&#x89C6;&#x9891;&#x6559;&#x7A0B;&#x7B97;&#x662F;&#x52C9;&#x5F3A;&#x53EF;&#x4EE5;&#x770B;&#x7684;&#x3002;&#x771F;&#x7684;&#x9700;&#x8981;&#x770B;&#x89C6;&#x9891;&#x53EF;&#x4EE5;&#x7528;Android&#x7CFB;&#x7EDF;&#x770B;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x662F;&#x865A;&#x62DF;&#x673A;&#x542F;&#x52A8;&#x7684;&#x811A;&#x672C;&#xFF1A;
</p>
<div class="org-src-container">
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">qemu_args=(</span><br><span class="line">    -enable-kvm</span><br><span class="line">    -nodefaults</span><br><span class="line">    -boot menu=on</span><br><span class="line">    -m <span class="number">2048</span> -cpu host</span><br><span class="line">    -smp <span class="number">2</span>,sockets=<span class="number">1</span>,cores=<span class="number">2</span>,threads=<span class="number">1</span> </span><br><span class="line">    -drive <span class="keyword">if</span>=virtio,file=<span class="variable">$HOME</span>/Machines/winxp.qcow2,media=disk</span><br><span class="line">    -cdrom en_windows_xp_professional_with_service_pack_3_x86_<span class="built_in">cd</span>_vl_x14-<span class="number">73974</span>.iso</span><br><span class="line">    <span class="comment"># &#x53EF;&#x4EE5;&#x5C06;usb&#x8BBE;&#x5907;&#x76F4;&#x901A;&#x5230;&#x865A;&#x62DF;&#x673A;&#x4E2D;</span></span><br><span class="line">    -device nec-usb-xhci,id=xhci</span><br><span class="line">    -device usb-host,bus=xhci.<span class="number">0</span>,hostbus=<span class="number">2</span>,hostport=<span class="number">1</span></span><br><span class="line">    -device usb-host,bus=xhci.<span class="number">0</span>,hostbus=<span class="number">3</span>,hostport=<span class="number">1</span></span><br><span class="line">    -localtime</span><br><span class="line">    -usb -usbdevice tablet</span><br><span class="line">    -vga qxl</span><br><span class="line">    -vnc :<span class="number">2</span></span><br><span class="line">    <span class="comment"># &#x5728;&#x5B89;&#x88C5;&#x7CFB;&#x7EDF;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x6253;&#x5F00;vnc&#xFF0C;&#x5B89;&#x88C5;&#x548C;&#x914D;&#x7F6E;&#x597D;&#x7CFB;&#x7EDF;&#x4E4B;&#x540E;&#x5C31;&#x4E0B;&#x9762;&#x7684;&#x9009;&#x9879;&#x5173;&#x95ED;</span></span><br><span class="line">    <span class="comment">#-display none</span></span><br><span class="line">    -monitor telnet:<span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">2023</span>,server,nowait</span><br><span class="line">    -net user,hostfwd=tcp::<span class="number">3389</span>-:<span class="number">3389</span>,smb=<span class="variable">$HOME</span></span><br><span class="line">    -net nic,model=virtio </span><br><span class="line">    -daemonize</span><br><span class="line">)</span><br><span class="line">qemu-system-x86_64 <span class="variable">${qemu_args[@]}</span> </span><br></pre></td></tr></table></figure>
</div>
</div>
</div>
<div id="outline-container-org5eecaba" class="outline-2">
<h2 id="org5eecaba"><span class="section-number-2">4</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;</h2>
<div class="outline-text-2" id="text-4">
<ol class="org-ol">
<li><a href="https://blog.csdn.net/sunweizhong1024/article/details/8055372" target="_blank" rel="noopener">repo&#x7528;&#x6CD5;&#x8BE6; </a></li>
<li><a href="http://whiteboard.ping.se/Android/Debian" target="_blank" rel="noopener">How to run Debian or Ubuntu GNU/Linux on your Android</a></li>
<li><a href="https://wiki.debian.org/ChrootOnAndroid" target="_blank" rel="noopener">Debian Wiki ChrootOnAndroid</a></li>
<li><a href="https://blog.csdn.net/u011001084/article/details/74316735" target="_blank" rel="noopener">&#x80FD;&#x5F53;&#x4E3B;&#x529B;&#xFF0C;&#x80FD;&#x5165;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x8FD8;&#x80FD;&#x968F;&#x65F6;&#x6253;&#x5305;&#x5E26;&#x8D70;&#xFF0C;Linux &#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x5F3A;&#x5927;</a></li>
<li><a href="https://wiki.qemu.org/Documentation/9psetup" target="_blank" rel="noopener">Qemu&#x5B98;&#x65B9;&#x6587;&#x6863;9psetup</a></li>
<li><a href="https://openwrt.org/zh/docs/guide-developer/test-virtual-image-using-armvirt" target="_blank" rel="noopener">&#x4F7F;&#x7528;armvirt&#x67B6;&#x6784;&#x7684;&#x865A;&#x62DF;&#x955C;&#x50CF;&#x6765;&#x6D4B;&#x8BD5;LEDE</a></li>
</ol>
</div>
</div>
</div>
<div id="postamble" class="status">
Last Updated 2018-05-10.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)
</div>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2018/10/02/把镜像从KVM迁移到VirtualBox/">把镜像从KVM迁移到VirtualBox</a><a class="next" href="/2018/05/07/打造兼容BIOS和UEFI的启动盘/">打造兼容BIOS和UEFI的启动盘</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 Disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'http://wing-ho.github.io/2018/05/10/把开发环境装进你的口袋/';
    this.page.identifier = '2018/05/10/把开发环境装进你的口袋/';
    this.page.title = '把开发环境装进你的口袋';
  };</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({
url: 'https://disqus.com/next/config.json',
timeout: 2500,
type: 'GET',
success: function(){
  var d = document;
  var s = d.createElement('script');
  s.src = '//wing-ho.disqus.com/embed.js';
  s.setAttribute('data-timestamp', + new Date());
  (d.head || d.body).appendChild(s);
  $('.disqus_click_btn').css('display', 'none');
},
error: function() {
  $('.disqus_click_btn').css('display', 'block');
}
});</script><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//wing-ho.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://wing-ho.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://wing-ho.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Emacs/">Emacs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Rapberry-Pi/">Rapberry Pi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Router/">Router</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/VirtualBox/">VirtualBox</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/10/03/逆向PT632_G2光猫固件/">逆向PT632 G2光猫固件</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/02/把镜像从KVM迁移到VirtualBox/">把镜像从KVM迁移到VirtualBox</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/10/把开发环境装进你的口袋/">把开发环境装进你的口袋</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/07/打造兼容BIOS和UEFI的启动盘/">打造兼容BIOS和UEFI的启动盘</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/09/批量下载喜马拉雅的免费专辑/">批量下载喜马拉雅的免费专辑</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/29/把电纸书打造成护眼开发神器/">把电纸书打造成护眼开发神器</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/17/Hexo博客集成GitBook/">Hexo博客集成GitBook</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/12/用Wine运行那些你离不开的应用/">用Wine运行那些你离不开的应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/19/将Emacs写作环境转移到Windows/">将Emacs写作环境转移到Windows</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/17/玩转Window 10 Bash/">玩转Window 10 Bash</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//wing-ho.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://blog.csdn.net/genrong" title="本人CSDN博客" target="_blank">本人CSDN博客</a><ul></ul><a href="https://blog.codingnow.com" title="云风" target="_blank">云风</a><ul></ul><a href="http://www.ruanyifeng.com/blog" title="阮一峰" target="_blank">阮一峰</a><ul></ul><a href="http://www.yinwang.org" title="王垠" target="_blank">王垠</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Wing.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script><script type="text/javascript" src="/js/toc4org.js?v=0.0.0"></script></div></body></html>