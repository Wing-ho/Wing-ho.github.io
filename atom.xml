<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Wing</title>
  
  <subtitle>大道至简</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://wing-ho.github.io/"/>
  <updated>2018-10-04T07:41:20.249Z</updated>
  <id>http://wing-ho.github.io/</id>
  
  <author>
    <name>Wing</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>逆向PT632 G2光猫固件</title>
    <link href="http://wing-ho.github.io/2018/10/03/%E9%80%86%E5%90%91PT632_G2%E5%85%89%E7%8C%AB%E5%9B%BA%E4%BB%B6/"/>
    <id>http://wing-ho.github.io/2018/10/03/逆向PT632_G2光猫固件/</id>
    <published>2018-10-03T00:00:00.000Z</published>
    <updated>2018-10-04T07:41:20.249Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#org5551e74">1. &#x63D0;&#x53D6;&#x56FA;&#x4EF6;</a></li><li><a href="#orgf5d0fd6">2. &#x89E3;&#x5305;&#x56FA;&#x4EF6;</a></li><li><a href="#org587e992">3. &#x89E3;&#x538B;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</a></li><li><a href="#orgcec342a">4. &#x6DFB;&#x52A0;&#x8F6F;&#x4EF6;</a><ul><li><a href="#org6c49e9d">4.1. ez-ipupdate</a></li><li><a href="#org9590689">4.2. dropbear</a></li></ul></li><li><a href="#org0bd7998">5. &#x6253;&#x5305;&#x56FA;&#x4EF6;</a></li><li><a href="#org9e8a929">6. &#x5237;&#x673A;</a></li><li><a href="#org1d71aa4">7. &#x53C2;&#x8003;&#x6587;&#x7AE0;</a></li></ul></div></div><p>&#x56FD;&#x5E86;&#x56DE;&#x8001;&#x5BB6;&#xFF0C;&#x770B;&#x5230;&#x7237;&#x7237;&#x4E00;&#x4E2A;&#x4EBA;&#x770B;IPTV&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9065;&#x63A7;&#x6309;&#x9519;&#x4E86;&#x5C31;&#x770B;&#x4E0D;&#x4E86;&#x7535;&#x89C6;&#x4E86;&#xFF0C;&#x7237;&#x7237;&#x5E74;&#x7EAA;&#x5927;&#x4E86;&#xFF0C;&#x8033;&#x6735;&#x4E5F;&#x4E0D;&#x597D;&#x4F7F;&#x4E86;&#xFF0C;&#x7ED9;&#x4ED6;&#x4E70;&#x7684;&#x667A;&#x80FD;&#x624B;&#x673A;&#x4E5F;&#x4E0D;&#x4F1A;&#x6253;&#x7535;&#x8BDD;&#xFF0C;&#x53EA;&#x61C2;&#x5F97;&#x53D1;&#x8D77;&#x5FAE;&#x4FE1;&#x89C6;&#x9891;&#xFF0C;&#x6211;&#x6253;&#x56DE;&#x53BB;&#x8FD8;&#x4E0D;&#x61C2;&#x5982;&#x4F55;&#x63A5;&#xFF0C;&#x6709;&#x65F6;&#x5019;&#x771F;&#x662F;&#x6709;&#x8BDD;&#x90FD;&#x8BF4;&#x4E0D;&#x6E05;&#x695A;&#x3002;&#x8D81;&#x7740;&#x653E;&#x5047;&#x51E0;&#x5929;&#xFF0C;&#x6211;&#x5C31;&#x9006;&#x5411;&#x4E86;PT632 G2&#x5149;&#x732B;&#x7684;&#x56FA;&#x4EF6;&#xFF0C;&#x5B9E;&#x73B0;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x5BB6;&#x91CC;&#x7684;&#x6240;&#x6709;&#x8054;&#x7F51;&#x8BBE;&#x5907;&#xFF0C;&#x4EE5;&#x540E;&#x518D;&#x8DDF;&#x6211;&#x8BF4;&#x7535;&#x89C6;&#x770B;&#x4E0D;&#x4E86;&#xFF0C;&#x6211;&#x76F4;&#x63A5;&#x8FDC;&#x7A0B;&#x64CD;&#x4F5C;&#x4E00;&#x4E0B;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</p><p>&#x6D4B;&#x8BD5;&#x53D1;&#x73B0;&#x4F5B;&#x5C71;&#x7535;&#x4FE1;&#x4F7F;&#x7528;&#x7684;&#x516C;&#x7F51;IP&#xFF0C;&#x4E0D;&#x7528;&#x4F7F;&#x7528;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x52A8;&#x6001;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x5C31;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x8DEF;&#x7531;&#x5668;&#xFF0C;PT632&#x8FD9;&#x4E2A;&#x5149;&#x732B;&#x81EA;&#x5E26;&#x4E86;ez-ipupdate&#x8FD9;&#x4E2A;&#x8F6F;&#x4EF6;&#xFF0C;&#x4F46;&#x662F;&#x5E76;&#x4E0D;&#x652F;&#x6301;3322&#x7684;&#x52A8;&#x6001;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#xFF0C;&#x800C;&#x4E14;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x4E5F;&#x5E76;&#x4E0D;&#x80FD;&#x901A;&#x8FC7;WEB&#x7BA1;&#x7406;&#x9875;&#x9762;&#x5F00;&#x542F;&#x3002;&#x4F7F;&#x7528;ssh&#x7BA1;&#x7406;&#x8DEF;&#x7531;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x8981;&#x63A7;&#x5236;&#x7684;&#x8BBE;&#x5907;&#x8FDB;&#x884C;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#xFF0C;&#x968F;&#x65F6;&#x968F;&#x5730;&#x90FD;&#x80FD;&#x7BA1;&#x7406;&#x7F51;&#x5173;&#x5185;&#x7684;&#x8BBE;&#x5907;&#x3002;</p><p>&#x535A;&#x4E3B;vasvir&#x63D0;&#x4F9B;&#x4E86;&#x7834;&#x89E3;ZTE-H108NS&#x8DEF;&#x7531;&#x5668;&#x7684;&#x601D;&#x8DEF;&#xFF0C;PT632_G2&#x4F7F;&#x7528;&#x7684;&#x662F;tclinux&#xFF0C;&#x6211;&#x662F;&#x901A;&#x8FC7;&#x5173;&#x952E;&#x8BCD;tclinux&#x627E;&#x5230;&#x8FD9;&#x4E2A;&#x535A;&#x5BA2;&#x7684;&#xFF0C;&#x535A;&#x4E3B;&#x5199;&#x4E86;&#x4E09;&#x7BC7;&#x535A;&#x6587;&#x8BE6;&#x7EC6;&#x53D9;&#x8FF0;&#x4E86;&#x4ED6;&#x7684;&#x7834;&#x89E3;&#x8FC7;&#x7A0B;&#x3002;&#x6BCF;&#x4E00;&#x7BC7;&#x6211;&#x90FD;&#x53CD;&#x590D;&#x9605;&#x8BFB;&#x548C;&#x8C03;&#x8BD5;&#xFF0C;&#x624D;&#x786E;&#x8BA4;&#x4ED6;&#x7684;&#x601D;&#x8DEF;&#x540C;&#x6837;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x5230;PT632&#x8FD9;&#x4E2A;&#x7CFB;&#x5217;&#x7684;&#x5149;&#x732B;&#x4E0A;&#x3002;&#x4F46;&#x5B58;&#x5728;&#x4E00;&#x4E9B;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x6BD5;&#x7ADF;&#x4E0D;&#x662F;&#x4E00;&#x6837;&#x7684;&#x8DEF;&#x7531;&#x5668;&#xFF0C;&#x6BD4;&#x5982;&#x63D0;&#x53D6;&#x56FA;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4ED6;&#x662F;&#x76F4;&#x63A5;&#x5728;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x7684;&#xFF0C;&#x6211;&#x662F;&#x7528;netcat dump&#x51FA;&#x6765;&#x7684;&#xFF1B;&#x56FA;&#x4EF6;&#x7684;&#x5934;&#x90E8;&#x6709;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x6709;&#x4E09;&#x4E2A;&#x4FE1;&#x606F;&#x70B9;&#x5FC5;&#x987B;&#x586B;&#x4E0A;&#xFF0C;&#x4E0D;&#x7136;&#x5C31;&#x7B97;&#x901A;&#x8FC7;&#x4E86;CRC&#x6821;&#x9A8C;&#x7B97;&#x6CD5;&#xFF0C;&#x4E5F;&#x4F1A;&#x5237;&#x673A;&#x5931;&#x8D25;&#x7684;&#xFF1B;&#x8FD8;&#x6709;&#x5C31;&#x662F;&#x538B;&#x7F29;&#x548C;&#x89E3;&#x5305;&#x5DE5;&#x5177;&#x4E0D;&#x540C;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7248;&#x672C;&#x4E0D;&#x540C;&#x3002;</p><p>bootloader&#x5206;&#x533A;&#x5C31;&#x4E0D;&#x8981;&#x8F7B;&#x6613;&#x53BB;&#x78B0;&#xFF0C;&#x53D8;&#x7816;&#x4E86;&#x5C31;&#x8981;&#x628A;Flash&#x5439;&#x4E0B;&#x6765;&#x4E0A;&#x7F16;&#x7A0B;&#x5668;&#x3002;&#x52A8;&#x624B;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x5149;&#x732B;&#x7684;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#xFF1A;</p><ol class="org-ol"><li>CPU&#x662F;Ralink MT751020 SOC&#xFF0C;64M&#x5185;&#x5B58;&#xFF0C;64M&#x95EA;&#x5B58;&#xFF0C;&#x5206;&#x533A;&#x60C5;&#x51B5;&#x5982;&#x4E0B;&#x8868;&#x6240;&#x793A;</li><li>Bootloader&#x3001;Web&#x754C;&#x9762;&#x7BA1;&#x7406;&#x7684;&#x4E2D;&#x56FD;&#x7535;&#x4FE1;&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x540D;&#xFF1A;telecomadmin&#xFF0C;&#x5BC6;&#x7801;&#xFF1A;nE7jA%5m</li><li>TTL Text Console&#x3001;Telnet&#x7684;&#x7528;&#x6237;&#x540D;&#xFF1A;admin&#xFF0C;&#x5BC6;&#x7801;&#xFF1A;1234&#x6216;TeleCom_1234</li></ol><p>&#x542F;&#x7528;Telnet&#x670D;&#x52A1;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;&#x767B;&#x5F55;Web&#x7BA1;&#x7406;&#x540E;&#x53F0;&#xFF0C;&#x5728;&#x5730;&#x5740;&#x680F;&#x8F93;&#x5165;<a href="http://192.168.1.1/cgi-bin/telnet.asp%EF%BC%8C%E5%8B%BE%E9%80%89%E5%90%AF%E7%94%A8" target="_blank" rel="noopener">http://192.168.1.1/cgi-bin/telnet.asp&#xFF0C;&#x52FE;&#x9009;&#x542F;&#x7528;</a>&#x3002;</p><table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"><colgroup><col class="org-left"><col class="org-right"><col class="org-right"><col class="org-left"><col class="org-left"></colgroup><tbody><tr><td class="org-left">dev:</td><td class="org-right">size</td><td class="org-right">erasesize</td><td class="org-left">name</td><td class="org-left">&#x8BF4;&#x660E;</td></tr><tr><td class="org-left">mtd0:</td><td class="org-right">40000</td><td class="org-right">20000</td><td class="org-left">bootloader</td><td class="org-left">&#x6700;&#x597D;&#x522B;&#x78B0;&#xFF0C;&#x5C0F;&#x5FC3;&#x53D8;&#x7816;</td></tr><tr><td class="org-left">mtd1:</td><td class="org-right">40000</td><td class="org-right">20000</td><td class="org-left">romfile</td><td class="org-left">&#x4FDD;&#x5B58;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</td></tr><tr><td class="org-left">mtd2:</td><td class="org-right">001614eb</td><td class="org-right">20000</td><td class="org-left">kernel</td><td class="org-left">&#x5185;&#x6838;1</td></tr><tr><td class="org-left">mtd3:</td><td class="org-right">006d0000</td><td class="org-right">20000</td><td class="org-left">rootfs</td><td class="org-left">&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;1</td></tr><tr><td class="org-left">mtd4:</td><td class="org-right">1000000</td><td class="org-right">20000</td><td class="org-left">tclinux</td><td class="org-left">&#x4FDD;&#x5B58;&#x56FA;&#x4EF6;1</td></tr><tr><td class="org-left">mtd5:</td><td class="org-right">001614eb</td><td class="org-right">20000</td><td class="org-left">kernel_slave</td><td class="org-left">&#x5185;&#x6838;2</td></tr><tr><td class="org-left">mtd6:</td><td class="org-right">006d0000</td><td class="org-right">20000</td><td class="org-left">rootfs_slave</td><td class="org-left">&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;2</td></tr><tr><td class="org-left">mtd7:</td><td class="org-right">1000000</td><td class="org-right">20000</td><td class="org-left">tclinux_slave</td><td class="org-left">&#x4FDD;&#x5B58;&#x56FA;&#x4EF6;2</td></tr><tr><td class="org-left">mtd8:</td><td class="org-right">400000</td><td class="org-right">20000</td><td class="org-left">jffs2</td><td class="org-left">&#xA0;</td></tr><tr><td class="org-left">mtd9:</td><td class="org-right">001c0000</td><td class="org-right">20000</td><td class="org-left">reservearea</td><td class="org-left">&#xA0;</td></tr></tbody></table><div id="outline-container-org5551e74" class="outline-2"><h2 id="org5551e74"><span class="section-number-2">1</span> &#x63D0;&#x53D6;&#x56FA;&#x4EF6;</h2><div class="outline-text-2" id="text-1"><p>&#x8FD9;&#x578B;&#x53F7;&#x7684;&#x5149;&#x732B;&#x662F;&#x4E0D;&#x5E26;USB&#x53E3;&#x7684;&#xFF0C;&#x63D0;&#x53D6;&#x56FA;&#x4EF6;&#x9700;&#x8981;&#x7528;netcat&#x5B9E;&#x65F6;&#x4F20;&#x5230;&#x672C;&#x5730;&#x4E3B;&#x673A;&#x3002;darkerego&#x63D0;&#x4F9B;&#x4E86;&#x591A;&#x4E2A;&#x5E38;&#x7528;&#x7684;mips&#x67B6;&#x6784;&#x7684;&#x7A0B;&#x5E8F;&#x3002;&#x5047;&#x5982;&#x672C;&#x673A;&#x5730;&#x5740;&#x4E3A;192.168.1.2</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/darkerego/mips-binaries</span><br><span class="line"><span class="built_in">cd</span> mips-binaries</span><br><span class="line"><span class="comment">#&#x7528;http&#x534F;&#x8BAE;&#x4F20;</span></span><br><span class="line">python -m SimleHTTPServer <span class="number">8000</span> &amp;</span><br><span class="line"><span class="comment">#&#x7528;ftp&#x534F;&#x8BAE;&#x4F20;</span></span><br><span class="line">sudo pip install pyftpdlib</span><br><span class="line"><span class="comment">#ftp&#x670D;&#x52A1;&#x5668;&#x9ED8;&#x8BA4;&#x7684;&#x7AEF;&#x53E3;&#x662F;2121</span></span><br><span class="line">python -m pyftpdlib &amp;</span><br><span class="line">netcat <span class="operator">-l</span> -p <span class="number">7000</span> &gt; tclinux.bin</span><br></pre></td></tr></table></figure></div><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># &#x8DEF;&#x7531;&#x5668;&#x5730;&#x5740;192.168.1.1</span></span><br><span class="line"><span class="built_in">cd</span> /tmp</span><br><span class="line">wget http://<span class="number">192.168</span>.<span class="number">1.1</span>:<span class="number">8000</span>/netcat</span><br><span class="line">ftpget -P <span class="number">2121</span> <span class="number">192.168</span>.<span class="number">1.2</span> netcat /tmp/netcat</span><br><span class="line">chmod +x netcat</span><br><span class="line"><span class="comment">#-c &#x5F53;&#x5230;&#x8FBE;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x7ED3;&#x5C3E;&#x5C31;&#x5173;&#x95ED;&#x8FDE;&#x63A5;</span></span><br><span class="line">dd <span class="keyword">if</span>=/dev/mtd3 | netcat <span class="number">192.168</span>.<span class="number">1.2</span> <span class="number">7000</span> -c</span><br></pre></td></tr></table></figure></div><p>&#x4FDD;&#x9669;&#x8D77;&#x89C1;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x6240;&#x6709;&#x5206;&#x533A;&#x90FD;&#x5907;&#x4EFD;&#x4E0B;&#x6765;&#xFF0C;&#x4E07;&#x4E00;&#x628A;&#x5149;&#x732B;&#x5237;&#x6302;&#x4E86;&#xFF0C;&#x53EF;&#x4EE5;&#x968F;&#x65F6;&#x6062;&#x590D;&#x8FC7;&#x6765;&#x3002;&#x63D0;&#x53D6;&#x5230;tclinux.bin&#x4E4B;&#x540E;&#xFF0C;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x62FF;&#x5230;&#x5B98;&#x65B9;&#x7684;&#x56FA;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E2A;bin&#x6587;&#x4EF6;&#x662F;&#x5206;&#x533A;&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x5E76;&#x975E;&#x5B98;&#x65B9;&#x56FA;&#x4EF6;&#xFF0C;&#x7528;010 Editor&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x56FA;&#x4EF6;&#x7684;&#x5B9E;&#x9645;&#x5927;&#x5C0F;&#x4E3A;0x855A86&#x3002;</p><div class="figure"><p><img src="/2018/10/03/逆向PT632_G2光猫固件/%25E5%25A4%2587%25E4%25BB%25BD%25E7%25BB%2593%25E6%259E%259C.png"></p></div></div></div><div id="outline-container-orgf5d0fd6" class="outline-2"><h2 id="orgf5d0fd6"><span class="section-number-2">2</span> &#x89E3;&#x5305;&#x56FA;&#x4EF6;</h2><div class="outline-text-2" id="text-2"><p>&#x535A;&#x4E3B;vasvir&#x9006;&#x5411;&#x5206;&#x6790;&#x51FA;&#x4E86;tclinux&#x4F7F;&#x7528;&#x7684;CRC&#x7B97;&#x6CD5;&#xFF0C;&#x5199;&#x4E86;&#x4E2A;&#x53EB;<a href="https://github.com/vasvir/tcrevenge" target="_blank" rel="noopener">tcrevenge</a>&#x7A0B;&#x5E8F;&#x653E;&#x5230;&#x4E86;github&#x4E0A;&#xFF0C;&#x6211;&#x4E5F;&#x7528;IDA Pro&#x5206;&#x6790;&#x4E86;&#x4E00;&#x4E0B;&#x53CD;&#x6C47;&#x7F16;&#x4EE3;&#x7801;&#xFF0C;&#x7B97;&#x6CD5;&#x662F;&#x4E00;&#x81F4;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BE5;&#x7A0B;&#x5E8F;&#x8BA1;&#x7B97;&#x63D0;&#x53D6;&#x5230;&#x7684;&#x56FA;&#x4EF6;&#x7684;&#x6821;&#x9A8C;&#x7801;&#xFF0C;&#x6BD4;&#x5BF9;&#x56FA;&#x4EF6;&#x4E2D;&#x7684;&#x6821;&#x9A8C;&#x7801;&#xFF0C;&#x68C0;&#x67E5;&#x4E00;&#x4E0B;CRC&#x7B97;&#x6CD5;&#x662F;&#x5426;&#x6B63;&#x786E;&#xFF0C;&#x7ED3;&#x679C;&#x53D1;&#x73B0;&#x539F;&#x7A0B;&#x5E8F;&#x7F3A;&#x5C11;&#x4E86;&#x4E09;&#x4E2A;&#x4FE1;&#x606F;&#x70B9;&#xFF0C;&#x5BFC;&#x81F4;&#x751F;&#x6210;&#x7684;&#x6821;&#x9A8C;&#x7801;&#x4E0D;&#x4E00;&#x81F4;&#x3002;</p><p>&#x7528;010 Editor&#x67E5;&#x770B;&#x63D0;&#x53D6;&#x5230;&#x7684;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;1614EB.squashfs&#xFF0C;&#x53D1;&#x73B0;&#x5B83;&#x662F;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x538B;&#x7F29;&#x751F;&#x6210;&#x7684;&#x3002;&#x4F46;&#x662F;&#x6211;&#x539F;&#x5C01;&#x4E0D;&#x52A8;&#xFF0C;&#x4EC5;&#x4EC5;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x538B;&#x7F29;&#xFF0C;&#x6253;&#x5305;&#x51FA;&#x6765;&#x7684;squashfs-root.sq&#x6BD4;&#x539F;&#x6765;&#x7684;&#x5927;&#xFF0C;&#x539F;&#x672C;&#x7684;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5DEE;&#x4E0D;&#x591A;&#x628A;&#x5206;&#x533A;&#x90FD;&#x5360;&#x6EE1;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x91CD;&#x65B0;&#x6253;&#x5305;&#x6587;&#x4EF6;&#x5927;&#x4E86;&#xFF0C;&#x5C31;&#x585E;&#x4E0D;&#x4E0B;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;&#x8F6F;&#x4EF6;&#x4E86;&#xFF0C;&#x8FD9;&#x8BA9;&#x6211;&#x7EA0;&#x7ED3;&#x4E86;&#x597D;&#x4E45;&#x3002;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;squashfs&#x5404;&#x4E2A;&#x7248;&#x672C;&#x7684;&#x538B;&#x7F29;&#x5DE5;&#x5177;&#x53BB;&#x6253;&#x5305;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x90FD;&#x6CA1;&#x6709;&#x53D1;&#x73B0;&#x80FD;&#x6253;&#x5305;&#x6210;&#x540C;&#x6837;&#x5927;&#x5C0F;&#x7684;&#x3002;&#x6211;&#x9009;&#x62E9;&#x4E86;squashfs 3.0&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5DE5;&#x5177;&#x53BB;&#x6253;&#x5305;&#xFF0C;&#x6253;&#x5305;&#x51FA;&#x6765;&#x7684;&#x6587;&#x4EF6;&#x5C31;&#x6BD4;&#x539F;&#x6765;&#x7684;&#x5C0F;&#x4E00;&#x70B9;&#xFF0C;&#x6211;&#x89C9;&#x5F97;&#x65E7;&#x7684;&#x538B;&#x7F29;&#x683C;&#x5F0F;&#x53EF;&#x80FD;&#x4E5F;&#x80FD;&#x517C;&#x5BB9;&#xFF0C;&#x4F46;&#x5F88;&#x4E0D;&#x5E78;&#x5237;&#x8FDB;&#x53BB;&#x5C31;&#x6302;&#x6389;&#x4E86;&#xFF0C;&#x6700;&#x7EC8;&#x8FD8;&#x662F;&#x6446;&#x8131;&#x4E0D;&#x4E86;&#x4F7F;&#x7528;&#x8C03;&#x8BD5;&#x7EBF;&#x6551;&#x7816;&#x3002;</p><div class="figure"><p><img src="/2018/10/03/逆向PT632_G2光猫固件/PT632_G2_Board.png"></p></div><p>&#x6709;&#x4E86;&#x8C03;&#x8BD5;&#x7EBF;&#x7684;&#x5E2E;&#x52A9;&#xFF0C;&#x5728;&#x6DFB;&#x52A0;&#x8F6F;&#x4EF6;&#x5B9A;&#x5236;&#x56FA;&#x4EF6;&#x524D;&#xFF0C;&#x53EF;&#x4EE5;&#x5927;&#x80C6;&#x5730;&#x5148;&#x8FDB;&#x884C;&#x4E00;&#x4E9B;&#x9A8C;&#x8BC1;&#x6027;&#x7684;&#x8BD5;&#x9A8C;&#xFF1A;</p><ol class="org-ol"><li>&#x7528;&#x63D0;&#x53D6;&#x5230;&#x7684;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;1614EB.squashfs&#x3001;kernel&#x548C;tcrevenge&#x751F;&#x6210;header&#x91CD;&#x65B0;&#x6253;&#x5305;&#x56FA;&#x4EF6;&#xFF0C;&#x6BD4;&#x5BF9;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x662F;&#x5426;&#x4E00;&#x81F4;&#xFF0C;&#x9A8C;&#x8BC1;tcrevenge&#x7A0B;&#x5E8F;&#x7684;&#x6B63;&#x786E;&#x6027;&#x3002;</li><li><p>&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x538B;&#x7F29;&#x53C2;&#x6570;&#x91CD;&#x65B0;&#x6253;&#x5305;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x7528;&#x4FEE;&#x6539;&#x597D;&#x7684;tcrevenge&#x7A0B;&#x5E8F;&#x751F;&#x6210;&#x65B0;&#x7684;&#x56FA;&#x4EF6;&#xFF0C;&#x8BD5;&#x5237;&#x56FA;&#x4EF6;&#xFF0C;&#x9A8C;&#x8BC1;&#x5B9A;&#x5236;&#x56FA;&#x4EF6;&#x7684;&#x53EF;&#x884C;&#x6027;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dd <span class="keyword">if</span>=tclinux.bin of=tclinux.bin.orig bs=<span class="number">1</span> count=$((<span class="number">0</span>x855A86))</span><br><span class="line">sudo apt-get install binwalk squashfs-tools</span><br><span class="line"><span class="comment">#&#x9700;&#x8981;&#x7528;root&#x6743;&#x9650;&#x6267;&#x884C;&#xFF0C;&#x89E3;&#x5305;&#x7684;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x5305;&#x542B;&#x8BBE;&#x5907;&#x6587;&#x4EF6;</span></span><br><span class="line">sudo binwalk <span class="operator">-e</span> tclinux.bin.orig</span><br><span class="line"><span class="comment">#&#x63D0;&#x53D6;kernel</span></span><br><span class="line"><span class="built_in">cd</span> _tclinux.bin.org.extracted</span><br><span class="line"><span class="comment">#&#x751F;&#x6210;&#x7684;&#x538B;&#x7F29;&#x6587;&#x4EF6;&#x8DDF;&#x539F;&#x6765;&#x7684;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5C1D;&#x8BD5;&#x8FC7;&#x591A;&#x4E2A;&#x7248;&#x672C;&#x7684;&#x538B;&#x7F29;&#x5DE5;&#x5177;&#xFF0C;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x538B;&#x7F29;&#x7ED3;&#x679C;&#x4E00;&#x81F4;&#x7684;&#xFF0C;&#x8FD9;&#x4E00;&#x6B65;&#x7EA0;&#x7ED3;&#x4E86;&#x5F88;&#x4E45;</span></span><br><span class="line">mksquashfs squashfs-root squashfs-root.sq -comp lzma    </span><br><span class="line"><span class="comment">#&#x91CD;&#x65B0;&#x6253;&#x5305;&#x56FA;&#x4EF6;</span></span><br><span class="line">dd <span class="keyword">if</span>=../tclinux.bin.orig of=kernel skip=<span class="number">256</span> count=`binwalk ../tclinux.bin.orig | awk <span class="string">&apos;/Squash/ {print $1 - 256;}&apos;</span>` bs=<span class="number">1</span></span><br><span class="line">tcrevenge -k kernel <span class="operator">-s</span> <span class="number">1614</span>EB.squashfs -o header</span><br><span class="line"><span class="comment">#&#x7528;010 Editor&#x5BF9;&#x6BD4;&#x751F;&#x6210;&#x7684;&#x56FA;&#x4EF6;&#x548C;&#x63D0;&#x53D6;&#x7684;&#x56FA;&#x4EF6;&#xFF0C;&#x53D1;&#x73B0;&#x4E86;&#x6821;&#x9A8C;&#x5934;&#x6587;&#x4EF6;&#x4E2D;&#x5C11;3&#x4E2A;&#x4FE1;&#x606F;&#x70B9;&#xFF0C;&#x4FEE;&#x6539;tcrevenge&#x7A0B;&#x5E8F;</span></span><br><span class="line">cat header kernel squashfs-root.sq padding &gt; tclinux.bin.new</span><br><span class="line"><span class="comment">#&#x7528;&#x538B;&#x7F29;&#x6BD4;&#x66F4;&#x9AD8;&#x7684;&#x53C2;&#x6570;&#x538B;&#x7F29;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x751F;&#x6210;&#x65B0;&#x7684;&#x56FA;&#x4EF6;&#xFF0C;&#x6210;&#x529F;&#x5237;&#x5165;&#x5149;&#x732B;&#x4E2D;</span></span><br><span class="line">mksquashfs squashfs-root squashfs-root.sq -comp lzma -b <span class="number">524288</span></span><br><span class="line">tcrevenge -k kernel <span class="operator">-s</span> squashfs-root.sq -o header</span><br><span class="line">cat header kernel squashfs-root.sq padding &gt; tclinux.bin.new</span><br></pre></td></tr></table></figure></div></li></ol><div class="figure"><p><img src="/2018/10/03/逆向PT632_G2光猫固件/%25E6%2596%25B0%25E5%259B%25BA%25E4%25BB%25B6%25E5%2592%258C%25E5%258E%259F%25E5%259B%25BA%25E4%25BB%25B6%25E5%25AF%25B9%25E6%25AF%2594.png"></p></div></div></div><div id="outline-container-org587e992" class="outline-2"><h2 id="org587e992"><span class="section-number-2">3</span> &#x89E3;&#x538B;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</h2><div class="outline-text-2" id="text-3"><p>&#x7279;&#x522B;&#x8981;&#x6CE8;&#x610F;&#xFF0C;&#x89E3;&#x538B;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x521B;&#x5EFA;&#x8BBE;&#x5907;&#x6587;&#x4EF6;&#xFF0C;&#x9700;&#x8981;root&#x6743;&#x9650;&#xFF0C;&#x5728;&#x4E0A;&#x4E00;&#x6B65;&#x4E2D;&#x5FD8;&#x8BB0;&#x4F7F;&#x7528;root&#x6743;&#x9650;&#x8FD0;&#x884C;binwalk -e&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;squashfs-root&#x6587;&#x4EF6;&#x5939;&#x5220;&#x6389;&#xFF0C;&#x7528;unsquashfs&#x91CD;&#x65B0;&#x89E3;&#x538B;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x3002;</p><pre class="example">sudo rm -rf squashfs-rootsudo unsquashfs 1614EB.squashfs</pre><div class="figure"><p><img src="/2018/10/03/逆向PT632_G2光猫固件/extracted.png"></p></div></div></div><div id="outline-container-orgcec342a" class="outline-2"><h2 id="orgcec342a"><span class="section-number-2">4</span> &#x6DFB;&#x52A0;&#x8F6F;&#x4EF6;</h2><div class="outline-text-2" id="text-4"><p>&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x7A7A;&#x95F4;&#x5341;&#x5206;&#x6709;&#x9650;&#xFF0C;&#x6211;&#x53EA;&#x4E3A;&#x8DEF;&#x7531;&#x5668;&#x6DFB;&#x52A0;&#x7528;&#x4E8E;&#x52A8;&#x6001;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x7684;ez-ipupdate&#x548C;&#x7528;&#x4E8E;sshd&#x670D;&#x52A1;&#x7684;dropbear&#xFF0C;&#x5149;&#x732B;&#x4E0A;&#x81EA;&#x5E26;&#x4E86;ez-ipupdate&#x7A0B;&#x5E8F;&#xFF0C;&#x5374;&#x65E0;&#x6CD5;&#x901A;&#x8FC7;WEB&#x7BA1;&#x7406;&#x754C;&#x9762;&#x542F;&#x7528;ddns&#x670D;&#x52A1;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x652F;&#x6301;3322&#x52A8;&#x6001;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x670D;&#x52A1;&#xFF0C;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x7F16;&#x8BD1;3322&#x63D0;&#x4F9B;&#x7684;ez-ipupdate&#x6E90;&#x4EE3;&#x7801;&#x3002;&#x6211;&#x4E5F;&#x61D2;&#x5F97;&#x4FEE;&#x6539;cgi&#x7A0B;&#x5E8F;&#x4EE5;&#x652F;&#x6301;Web&#x7BA1;&#x7406;&#xFF0C;&#x76F4;&#x63A5;&#x628A;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x653E;&#x5728;&#x4E86;&#x56FA;&#x4EF6;&#x5F53;&#x4E2D;&#x3002;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5B9E;&#x5728;&#x6CA1;&#x6709;&#x7A7A;&#x95F4;&#x653E;&#x4E0B;sshd&#xFF0C;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x529F;&#x80FD;&#x7A0D;&#x5F31;&#x4E00;&#x70B9;&#x7684;dropbear&#xFF0C;&#x6709;&#x4E86;&#x8FD9;&#x4E24;&#x4E2A;&#x8F6F;&#x4EF6;&#x5C31;&#x5DF2;&#x7ECF;&#x80FD;&#x6EE1;&#x8DB3;&#x6211;&#x7684;&#x9700;&#x6C42;&#x4E86;&#x3002;</p></div><div id="outline-container-org6c49e9d" class="outline-3"><h3 id="org6c49e9d"><span class="section-number-3">4.1</span> ez-ipupdate</h3><div class="outline-text-3" id="text-4-1"><p>&#x8BBE;&#x7F6E;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x94FE;&#x5F88;&#x9EBB;&#x70E6;&#xFF0C;uClibc.org&#x63D0;&#x4F9B;&#x4E86;&#x5305;&#x542B;mips&#xFF0C;arm&#xFF0C;amd64&#x7B49;&#x591A;&#x79CD;Qemu&#x7684;&#x865A;&#x62DF;&#x673A;&#x955C;&#x50CF;&#xFF0C;&#x7CFB;&#x7EDF;&#x91CC;&#x5305;&#x542B;&#x5B8C;&#x6574;&#x7684;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x94FE;&#xFF0C;&#x514D;&#x53BB;&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x9EBB;&#x70E6;&#xFF0C;&#x7F3A;&#x70B9;&#x5C31;&#x662F;&#x7F16;&#x8BD1;&#x7684;&#x901F;&#x5EA6;&#x7A0D;&#x6162;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://uclibc.org/downloads/binaries/<span class="number">0.9</span>.<span class="number">30</span>/system-image-mips.tar.bz2</span><br><span class="line">tar xvf system-image-mips.tar.bz2</span><br><span class="line"><span class="built_in">cd</span> system-image-mips</span><br><span class="line"><span class="comment"># &#x7ED9;&#x865A;&#x62DF;&#x673A;&#x65B0;&#x589E;&#x4E00;&#x4E2A;ext2&#x955C;&#x50CF;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F1A;&#x6302;&#x8F7D;&#x5230;/home&#x76EE;&#x5F55;</span></span><br><span class="line">qemu-img create <span class="operator">-f</span> raw disk.ext2 <span class="number">2</span>G</span><br><span class="line">sudo losetup /dev/loop0 hardisk.ext2</span><br><span class="line">sudo mkfs.ext2 /dev/loop0</span><br><span class="line">sudo mount /dev/loop0 /mnt</span><br><span class="line">sed <span class="string">&apos;s/$/&amp; -hdb disk.ext2/&apos;</span> -i run-emulator.sh</span><br><span class="line"><span class="comment">#&#x4E0B;&#x8F7D;3322&#x63D0;&#x4F9B;&#x7684;&#x6E90;&#x4EE3;&#x7801;</span></span><br><span class="line">sudo curl http://img.pubyun.com/download/ez-ipupdate-<span class="number">3.0</span>.<span class="number">11</span>b8.tar.gz -o /mnt/ez-ipupdate.tar.gz</span><br><span class="line">sudo tar xvf /mnt/ez-ipupdate.tar.gz -C /mnt</span><br><span class="line">sudo umount /mnt</span><br><span class="line">sudo losetup <span class="operator">-d</span> /dev/loop0</span><br><span class="line"><span class="comment">#&#x542F;&#x52A8;&#x865A;&#x62DF;&#x673A;</span></span><br><span class="line">./run-emulator.sh</span><br><span class="line"><span class="comment">#&#x7F16;&#x8BD1;ez-ipupdate</span></span><br><span class="line"><span class="built_in">cd</span> /home/ez-ipupdate-<span class="number">3.0</span>.<span class="number">11</span>b8/ </span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line"><span class="comment">#&#x590D;&#x5236;&#x7F16;&#x8BD1;&#x7ED3;&#x679C;ez-ipupdate&#x5230;&#x4E3B;&#x673A;&#x4E0A;</span></span><br><span class="line">scp ez-ipupdate wing@<span class="number">10.0</span>.<span class="number">2.2</span>:/home/wing/Workspace/pt632_g2/_tclinux.bin.orig.extracted/squashfs-root/usr/bin/</span><br><span class="line"><span class="comment">#&#x6DFB;&#x52A0;ez-ipupdate&#x914D;&#x7F6E;&#x6587;&#x4EF6;qdns.conf</span></span><br><span class="line"><span class="built_in">cd</span> /home/wing/Workspace/pt632_g2/_tclinux.bin.orig.extracted/squashfs-root/usr/etc</span><br><span class="line"><span class="variable">$username</span>=</span><br><span class="line"><span class="variable">$passswd</span>=</span><br><span class="line"><span class="variable">$your_ddns_domain</span>=</span><br><span class="line">sudo cat &gt; qdns.conf &lt;&lt; EOF</span><br><span class="line">service-type=qdns</span><br><span class="line">user=<span class="variable">$username</span>:<span class="variable">$passwd</span></span><br><span class="line">host=<span class="variable">$your_ddns_domain</span></span><br><span class="line">interface=ppp24</span><br><span class="line">max-interval=<span class="number">2073600</span></span><br><span class="line">cache-file=/tmp/ez-ipupdate.cache</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org9590689" class="outline-3"><h3 id="org9590689"><span class="section-number-3">4.2</span> dropbear</h3><div class="outline-text-3" id="text-4-2"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/wing/Workspace/pt632_g2/_tclinux.bin.orig.extracted/squashfs-root/usr</span><br><span class="line">sudo <span class="operator">-s</span></span><br><span class="line">curl https://raw.githubusercontent.com/darkerego/mips-binaries/master/dropbearmulti -o bin/dropbear </span><br><span class="line">mkdir etc/dropbear</span><br><span class="line"><span class="comment">#&#x751F;&#x6210;host_key</span></span><br><span class="line">ssh-keygen -t dss <span class="operator">-f</span> etc/dropbear/dropbear_dss_host_key</span><br><span class="line">ssh-keygen -t rsa <span class="operator">-f</span> etc/dropbear/dropbear_rsa_host_key</span><br><span class="line">ssh-keygen -t ecdsa <span class="operator">-f</span> etc/cdropbear/dropbear_ecdsa_host_key</span><br><span class="line"><span class="comment">#&#x6DFB;&#x52A0;authorized_keys</span></span><br><span class="line">mkdir etc/.ssh</span><br><span class="line">cat /home/wing/.ssh/id_rsa.pub &gt;&gt; etc/.ssh/authorized_keys</span><br><span class="line">touch etc/script/dropbear.sh</span><br><span class="line">chmod +x etc/script/dropbear.sh</span><br><span class="line">cat &gt; script/dropbear.sh &lt;&lt; EOF</span><br><span class="line"><span class="shebang">#!/bin/sh</span></span><br><span class="line">/sbin/arp <span class="operator">-s</span> <span class="number">192.168</span>.<span class="number">1.254</span> FF:FF:FF:FF:FF:FF</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;wing:x:0:0:root:/tmp:/bin/sh&quot;</span> &gt;&gt; /tmp/etc/passwd</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export PATH=/userfs/bin:/usr/sbin:/bin:/usr/bin:/sbin&quot;</span> &gt; /tmp/.profile</span><br><span class="line">/bin/mkdir -m <span class="number">0700</span> -p /tmp/.ssh</span><br><span class="line">cat /usr/etc/.ssh/authorized_keys &gt; /tmp/.ssh/authorized_keys</span><br><span class="line">/bin/chmod <span class="number">600</span> /tmp/.ssh/authorized_keys</span><br><span class="line"><span class="comment">#-s &#x7981;&#x6B62;&#x5BC6;&#x7801;&#x767B;&#x5F55;</span></span><br><span class="line"><span class="comment">#-a &#x8FDC;&#x7A0B;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x76D1;&#x542C;&#x6240;&#x6709;&#x63A5;&#x53E3;</span></span><br><span class="line">/usr/bin/dropbear <span class="operator">-s</span> <span class="operator">-a</span></span><br><span class="line">/userfs/bin/ez-ipupdate <span class="operator">-d</span> -c /etc/qdns.conf</span><br><span class="line">EOF</span><br><span class="line"><span class="comment">#&#x5F00;&#x673A;&#x81EA;&#x52A8;&#x8FD0;&#x884C;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;/usr/script/dropbear.sh&quot;</span> &gt;&gt; etc/init.d/rcS</span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org0bd7998" class="outline-2"><h2 id="org0bd7998"><span class="section-number-2">5</span> &#x6253;&#x5305;&#x56FA;&#x4EF6;</h2><div class="outline-text-2" id="text-5"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># &#x538B;&#x7F29;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</span></span><br><span class="line">mksquashfs squashfs-root squashfs-root.sq -comp lzma -b <span class="number">524288</span></span><br><span class="line"><span class="comment"># &#x751F;&#x6210;CRC&#x6821;&#x9A8C;&#x5934;</span></span><br><span class="line">tcrevenge -k kernel <span class="operator">-s</span> squashfs-root.sq -o header</span><br><span class="line"><span class="comment"># &#x5408;&#x5E76;header&#x3001;kernel&#x548C;root.squashfs</span></span><br><span class="line">cat header kernel squashfs-root.sq padding &gt; tclinux.bin.new</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org9e8a929" class="outline-2"><h2 id="org9e8a929"><span class="section-number-2">6</span> &#x5237;&#x673A;</h2><div class="outline-text-2" id="text-6"><div class="figure"><p><img src="/2018/10/03/逆向PT632_G2光猫固件/upgrade.png"></p></div></div></div><div id="outline-container-org1d71aa4" class="outline-2"><h2 id="org1d71aa4"><span class="section-number-2">7</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;</h2><div class="outline-text-2" id="text-7"><ol class="org-ol"><li><a href="https://vasvir.wordpress.com/2015/03/08/reverse-engineering-trendchip-firmware-zte-h108ns-part-i/" target="_blank" rel="noopener">&#x9006;&#x5411;&#x56FA;&#x4EF6;&#x7684;&#x57FA;&#x672C;&#x65B9;&#x6CD5;&#x548C;&#x5DE5;&#x5177;&#xFF08;&#x82F1;&#x6587;&#xFF09;</a></li><li><a href="https://vasvir.wordpress.com/2015/03/29/trendchip-firmware-xor-checksum-algorithm-disassembly/" target="_blank" rel="noopener">trendchip&#x53CD;&#x7F16;&#x8BD1;&#x56FA;&#x4EF6;&#x6821;&#x9A8C;&#x7B97;&#x6CD5;&#xFF08;&#x82F1;&#x6587;&#xFF09;</a></li><li><a href="https://vasvir.wordpress.com/2015/04/16/trendchip-firmware-zte-h108ns-build-custom-software-add-namecheap-ddns-support/#comments" target="_blank" rel="noopener">&#x7F16;&#x8BD1;ez-ipupdate&#x7684;&#x65B9;&#x6CD5;&#xFF08;&#x82F1;&#x6587;&#xFF09;</a></li></ol></div></div></div><div id="postamble" class="status">Last Updated 2018-10-03.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#org5551e74&quot;&gt;1
      
    
    </summary>
    
      <category term="Linux" scheme="http://wing-ho.github.io/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>把镜像从KVM迁移到VirtualBox</title>
    <link href="http://wing-ho.github.io/2018/10/02/%E6%8A%8A%E9%95%9C%E5%83%8F%E4%BB%8EKVM%E8%BF%81%E7%A7%BB%E5%88%B0VirtualBox/"/>
    <id>http://wing-ho.github.io/2018/10/02/把镜像从KVM迁移到VirtualBox/</id>
    <published>2018-10-02T00:00:00.000Z</published>
    <updated>2018-10-03T05:02:52.843Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#org1fedc0d">1. &#x66F4;&#x65B0;ACPI&#x5C5E;&#x6027;</a></li><li><a href="#orgfeab3df">2. &#x66F4;&#x65B0;IDE&#x63A7;&#x5236;&#x5668;&#x5C5E;&#x6027;</a></li><li><a href="#orgafde619">3. &#x5220;&#x9664;&#x666E;&#x901A;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;</a></li><li><a href="#org45cf7ef">4. &#x8F6C;&#x6362;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x7684;&#x683C;&#x5F0F;</a></li><li><a href="#org8c6e6d5">5. &#x5C01;&#x88C5;&#x6210;&#x901A;&#x7528;Ghost&#x955C;&#x50CF;</a></li><li><a href="#org80bb262">6. &#x53C2;&#x8003;&#x6587;&#x7AE0;</a></li></ul></div></div><p>Qemu&#x662F;&#x4F7F;&#x7528;KVM&#x5185;&#x6838;&#x6A21;&#x5757;&#x52A0;&#x901F;&#x7684;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x7528;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x9886;&#x57DF;&#x6027;&#x80FD;&#x975E;&#x5E38;&#x4E0D;&#x9519;&#xFF0C;&#x8D44;&#x6E90;&#x6D88;&#x8017;&#x8FD8;&#x5F88;&#x5C0F;&#xFF0C;&#x53EF;&#x662F;&#x56FE;&#x5F62;&#x663E;&#x793A;&#x4E00;&#x76F4;&#x662F;&#x4E2A;&#x7F3A;&#x9677;&#x3002;Linux&#x684C;&#x9762;&#x73AF;&#x5883;&#x4E0B;&#xFF0C;&#x603B;&#x514D;&#x4E0D;&#x4E86;&#x8981;&#x5F00;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#x4F7F;&#x7528;Windows&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x65E0;&#x8BBA;&#x4F7F;&#x7528;spice&#x3001;vnc&#x6216;&#x8005;rdesktop&#x534F;&#x8BAE;&#x6765;&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F7F;&#x7528;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x65F6;&#x603B;&#x611F;&#x89C9;&#x4E0D;&#x591F;&#x6D41;&#x7545;&#x3002;&#x800C;VirtualBox&#x5BF9;&#x56FE;&#x5F62;&#x663E;&#x793A;&#x505A;&#x4E86;&#x4F18;&#x5316;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x65E0;&#x7F1D;&#x6A21;&#x5F0F;&#xFF0C;Windows&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#x8D77;&#x6765;&#x66F4;&#x52A0;&#x65B9;&#x4FBF;&#x3002;&#x672C;&#x6587;&#x7684;&#x65B9;&#x6CD5;&#x4E5F;&#x9002;&#x7528;&#x4E8E;&#x8FC1;&#x79FB;&#x5230;Parallels Desktop&#x3001;Vmware&#x6216;&#x8005;&#x7269;&#x7406;&#x673A;&#x7B49;&#x73AF;&#x5883;&#x4E2D;&#x3002;</p><div id="outline-container-org1fedc0d" class="outline-2"><h2 id="org1fedc0d"><span class="section-number-2">1</span> &#x66F4;&#x65B0;ACPI&#x5C5E;&#x6027;</h2><div class="outline-text-2" id="text-1"><p>&#x628A;&#x8BA1;&#x7B97;&#x673A;&#x7684;ACPI&#x5C5E;&#x6027;&#x66F4;&#x6539;&#x4E3A;Standard PC&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5982;&#x679C;&#x76EE;&#x6807;&#x8BA1;&#x7B97;&#x673A;&#x4E2D;&#x6709;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;ACPI&#xFF0C;&#x5219;&#x8FC1;&#x79FB;&#x5230;&#x65B0;&#x865A;&#x62DF;&#x673A;&#x73AF;&#x5883;&#x540E;&#x5C31;&#x65E0;&#x6CD5;&#x5B9E;&#x73B0;&#x7535;&#x8111;&#x8F6F;&#x5173;&#x673A;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x80FD;&#x4F1A;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x542F;&#x52A8;&#x540E;&#x5D29;&#x6E83;&#xFF01;&#x66F4;&#x6539;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A;</p><ol class="org-ol"><li>&#x5728;&#x201C;&#x8FD0;&#x884C;&#x201D;&#x5BF9;&#x8BDD;&#x6846;&#x91CC;&#x8F93;&#x4EBA;&#x201C;devmgrnt.rnsc&#x201D;&#x5E76;&#x56DE;&#x8F66;&#xFF0C;&#x6253;&#x5F00;&#x201C;&#x8BBE;&#x5907;&#x7BA1;&#x7406;&#x5668;&#x201D;&#x63A7;&#x5236;&#x53F0;&#x7A97;&#x53E3;&#x3002;</li><li>&#x5728;&#x8BBE;&#x5907;&#x7BA1;&#x7406;&#x5668;&#x63A7;&#x5236;&#x53F0;&#x7A97;&#x53E3;&#x7528;&#x9F20;&#x6807;&#x53F3;&#x952E;&#x5355;&#x51FB;&#x201C;&#x8BA1;&#x7B97;&#x673A;&#x201D;&#x2192;&#x201C;ACPI Uniprocessor PC&#x201D;&#xFF0C;&#x5728;&#x5F39;&#x51FA;&#x83DC;&#x5355;&#x4E0A;&#x5355;&#x51FB;&#x201C;&#x66F4;&#x65B0;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x201D;&#x83DC;&#x5355;&#x9879;&#xFF1B;</li><li>&#x5728;&#x6253;&#x5F00;&#x7684;&#x201C;&#x786C;&#x4EF6;&#x66F4;&#x65B0;&#x5411;&#x5BFC;&#x201D;&#x5BF9;&#x8BDD;&#x6846;&#x91CC;&#x9009;&#x4E2D;&#x201C;&#x4ECE;&#x5217;&#x8868;&#x6216;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x5B89;&#x88C5;&#xFF08;&#x9AD8;&#x7EA7;&#xFF09;&#x201D;&#x9009;&#x9879;&#xFF0C;&#x5E76;&#x5355;&#x51FB;&#x201C;&#x4E0B;&#x4E00;&#x6B65;&#x201D;&#x6309;&#x94AE;&#xFF1B;</li><li>&#x5728;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x9875;&#x9762;&#x91CC;&#x9009;&#x4E2D;&#x201C;&#x4E0D;&#x8981;&#x641C;&#x7D22;&#xFF0C;&#x6211;&#x8981;&#x81EA;&#x5DF1;&#x9009;&#x62E9;&#x8981;&#x5B89;&#x88C5;&#x7684;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x201D;&#x9009;&#x9879;&#xFF0C;&#x5E76;&#x5355;&#x51FB;&#x201C;&#x4E0B;&#x4E00;&#x6B65;&#x201D;&#x6309;&#x94AE;&#xFF1B;</li><li>&#x7136;&#x540E;&#x9009;&#x62E9;&#x201C;Standsrd PC&#x201D;&#x9009;&#x9879;&#xFF0C;&#x5E76;&#x6839;&#x636E;&#x5C4F;&#x5E55;&#x63D0;&#x793A;&#x4E00;&#x8DEF;Next, &#x53EA;&#x662F;&#x6700;&#x540E;&#x63D0;&#x793A;&#x662F;&#x5426;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x4E00;&#x5B9A;&#x4E0D;&#x8981;&#x91CD;&#x542F;&#xFF01;</li></ol></div></div><div id="outline-container-orgfeab3df" class="outline-2"><h2 id="orgfeab3df"><span class="section-number-2">2</span> &#x66F4;&#x65B0;IDE&#x63A7;&#x5236;&#x5668;&#x5C5E;&#x6027;</h2><div class="outline-text-2" id="text-2"><p>&#x5BF9;&#x8BBE;&#x5907;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x7684;&#x6700;&#x540E;&#x4E00;&#x6B65;&#x624B;&#x672F;&#x662F;&#x66F4;&#x6539;IDE ATA / ATAPI &#x63A7;&#x5236;&#x5668;&#x3002;&#x8FD9;&#x4E00;&#x6B65;&#x975E;&#x5E38;&#x91CD;&#x8981;&#xFF0C;&#x56E0;&#x4E3A;&#x5927;&#x5BB6;&#x77E5;&#x9053;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x4E3B;&#x677F;&#xFF0C;&#x4F8B;&#x5982;Intel&#x3001;Nforce 2&#x3001;VIA&#x7B49;&#x4E3B;&#x677F;&#xFF0C;&#x5176;IDE ATA / ATAPI&#x63A7;&#x5236;&#x5668;&#x7684;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x6709;&#x5F88;&#x5927;&#x7684;&#x5DEE;&#x522B;&#xFF0C;&#x6839;&#x672C;&#x65E0;&#x6CD5;&#x901A;&#x7528;&#xFF01;&#x5178;&#x578B;&#x7684;&#x73B0;&#x8C61;&#x5C31;&#x662F;&#x4E00;&#x5F00;&#x673A;&#x5C31;&#x84DD;&#x5C4F;&#xFF0C;&#x63D0;&#x793A;STOP: 0x0000007B&#x9519;&#x8BEF;&#x3002;</p><ol class="org-ol"><li>&#x5728;&#x8BBE;&#x5907;&#x7BA1;&#x7406;&#x5668;&#x63A7;&#x5236;&#x53F0;&#x7A97;&#x53E3;&#x7528;&#x9F20;&#x6807;&#x53F3;&#x952E;&#x5355;&#x51FB;IDE ATA / ATAPI&#x63A7;&#x5236;&#x5668;&#x3001;Intel (r) 82371 AB / EB Bus Master IDE Controller&#xFF0C;&#x5728;&#x5F39;&#x51FA;&#x83DC;&#x5355;&#x4E0A;&#x5355;&#x51FB;&#x201C;&#x66F4;&#x65B0;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x201D;&#x83DC;&#x5355;&#x9879;&#xFF1B;</li><li>&#x5728;&#x6253;&#x5F00;&#x7684;&#x201C;&#x786C;&#x4EF6;&#x66F4;&#x65B0;&#x5411;&#x5BFC;&#x201D;&#x5BF9;&#x8BDD;&#x6846;&#x91CC;&#x9009;&#x4E2D;&#x201C;&#x4ECE;&#x5217;&#x8868;&#x6216;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x5B89;&#x88C5;&#xFF08;&#x9AD8;&#x7EA7;&#xFF09;&#x201D;&#x9009;&#x9879;&#xFF0C;&#x5E76;&#x5355;&#x51FB;&#x201C;&#x4E0B;&#x4E00;&#x6B65;&#x201D;&#x6309;&#x94AE;&#xFF1B;</li><li>&#x5728;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x9875;&#x9762;&#x91CC;&#x9009;&#x4E2D;&#x201C;&#x4E0D;&#x8981;&#x641C;&#x7D22;&#xFF0C;&#x6211;&#x81EA;&#x5DF1;&#x9009;&#x62E9;&#x8981;&#x5B89;&#x88C5;&#x7684;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x201D;&#x9009;&#x9879;&#xFF0C;&#x5E76;&#x5355;&#x51FB;&#x201C;&#x4E0B;&#x4E00;&#x6B65;&#x201D;&#x6309;&#x94AE;&#xFF1B;</li><li>&#x7136;&#x540E;&#x9009;&#x62E9;&#x201C;&#x6807;&#x51C6;&#x7684;&#x53CC;&#x901A;&#x9053;PCI IDE&#x63A7;&#x5236;&#x5668;&#x201D;&#x9009;&#x9879;&#xFF0C;&#x5E76;&#x6839;&#x636E;&#x5C4F;&#x5E55;&#x63D0;&#x793A;&#x4E00;&#x8DEF;Next&#xFF0C;&#x53EA;&#x662F;&#x6700;&#x540E;&#x63D0;&#x793A;&#x662F;&#x5426;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x4E00;&#x5B9A;&#x4E0D;&#x8981;&#x91CD;&#x542F;&#xFF01;</li></ol><p>&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53EA;&#x8981;&#x5B8C;&#x6210;&#x524D;&#x4E24;&#x6B65;&#x64CD;&#x4F5C;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5BFC;&#x5165;&#x5230;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#xFF0C;&#x7CFB;&#x7EDF;&#x5C31;&#x80FD;&#x6B63;&#x5E38;&#x542F;&#x52A8;&#x4E86;&#xFF0C;&#x767B;&#x5F55;&#x540E;&#x7B49;&#x5F85;&#x9A71;&#x52A8;&#x81EA;&#x52A8;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x518D;&#x5B89;&#x88C5;&#x865A;&#x62DF;&#x673A;&#x589E;&#x5F3A;&#x5DE5;&#x5177;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</p></div></div><div id="outline-container-orgafde619" class="outline-2"><h2 id="orgafde619"><span class="section-number-2">3</span> &#x5220;&#x9664;&#x666E;&#x901A;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;</h2><div class="outline-text-2" id="text-3"><ol class="org-ol"><li>&#x627E;&#x5230;&#x7F51;&#x7EDC;&#x9002;&#x914D;&#x5668;&#xFF0C;&#x9F20;&#x6807;&#x53F3;&#x952E;&#x5355;&#x51FB;&#x5176;&#x4E0B;&#x7684;&#x7F51;&#x5361;&#x8BBE;&#x5907;&#x540D;&#x79F0;&#xFF0C;&#x5728;&#x5F39;&#x51FA;&#x83DC;&#x5355;&#x4E0A;&#x5355;&#x51FB;&#x201C;&#x5378;&#x8F7D;&#x201D;&#x83DC;&#x5355;&#x9879;&#x3002;</li><li>&#x518D;&#x7528;&#x7C7B;&#x4F3C;&#x7684;&#x65B9;&#x6CD5;&#x5378;&#x8F7D;&#x901A;&#x7528;&#x4E32;&#x884C;&#x603B;&#x7EBF;&#x63A7;&#x5236;&#x5668;&#x3001;&#x89C6;&#x9891;&#x6E38;&#x620F;&#x63A7;&#x5236;&#x5668;&#x3001;&#x663E;&#x5361;&#x3001;&#x58F0;&#x5361;&#x7B49;&#x8BBE;&#x5907;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x3002;&#x8FD9;&#x91CC;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x7CFB;&#x7EDF;&#x63D0;&#x793A;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#xFF0C;&#x4E00;&#x5B9A;&#x4E0D;&#x8981;&#x91CD;&#x542F;&#x673A;&#x5668;&#xFF0C;&#x4EE5;&#x514D;&#x7CFB;&#x7EDF;&#x81EA;&#x4F5C;&#x4E3B;&#x5F20;&#xFF0C;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x3002;</li></ol></div></div><div id="outline-container-org45cf7ef" class="outline-2"><h2 id="org45cf7ef"><span class="section-number-2">4</span> &#x8F6C;&#x6362;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x7684;&#x683C;&#x5F0F;</h2><div class="outline-text-2" id="text-4"><p>VirtualBox&#x5DF2;&#x7ECF;&#x652F;&#x6301;&#x76F4;&#x63A5;&#x652F;&#x6301;qcow&#x7684;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x3002;<img src="/2018/10/02/把镜像从KVM迁移到VirtualBox/vb_winxp.png"></p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#-p &#x663E;&#x793A;&#x8FDB;&#x5EA6;</span></span><br><span class="line"><span class="comment">#-O &#x8F6C;&#x6362;&#x76EE;&#x6807;&#x683C;&#x5F0F;</span></span><br><span class="line">qemu-img convert -p -O vdi vda.qcow2 vda.vdi</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org8c6e6d5" class="outline-2"><h2 id="org8c6e6d5"><span class="section-number-2">5</span> &#x5C01;&#x88C5;&#x6210;&#x901A;&#x7528;Ghost&#x955C;&#x50CF;</h2><div class="outline-text-2" id="text-5"><ol class="org-ol"><li>&#x4F7F;&#x7528;&#x201C;&#x7CFB;&#x7EDF;&#x51C6;&#x5907;&#x5DE5;&#x5177;&#x201D;sysprep.exe&#xFF0C;&#x4F4D;&#x7F6E;&#xFF1A;X:\SUPPORT\TOOLS\DEPLOY.CAB&#x538B;&#x7F29;&#x6587;&#x4EF6;&#x4E2D;&#x3002;&#x89E3;&#x538B;&#x5230;c:\sysprep&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x3002;</li><li>&#x8FD0;&#x884C;&#x540E;&#xFF0C;&#x9700;&#x52FE;&#x9009;&#x754C;&#x9762;&#x4E0B;&#x65B9;&#x7684;minisetup&#x548C;pnp&#x3002;minisetup&#x662F;&#x8BA9;windows&#x4E0B;&#x6B21;&#x5F00;&#x673A;&#x91CD;&#x65B0;&#x4EA7;&#x751F;&#x5B89;&#x5168;&#x8BC6;&#x522B;&#x7801;(SID)&#xFF0C;&#x7136;&#x540E;&#x70B9;&#x51FB;&#x91CD;&#x65B0;&#x5C01;&#x88C5;&#x5373;&#x53EF;&#x3002;&#x63A5;&#x7740;&#x8DF3;&#x51FA;&#x8B66;&#x544A;&#x7A97;&#x53E3;&#x70B9;&#x201C;&#x662F;&#x201D;&#x7EE7;&#x7EED;&#x3002;&#x7136;&#x540E;&#x7535;&#x8111;&#x5C31;shutdown&#x4E86;&#x3002;</li><li>&#x7528;&#x8BE5;ghost&#x505A;&#x597D;&#x7684;&#x955C;&#x50CF;&#x542F;&#x52A8;&#x7535;&#x8111;&#x540E;&#x51FA;&#x73B0;&#x68C0;&#x6D4B;&#x5373;&#x63D2;&#x5373;&#x7528;&#x7684;&#x8BBE;&#x5907;&#xFF0C;&#x7136;&#x540E;&#x51FA;&#x73B0;&#x4EE5;&#x4E0B;&#x6B65;&#x9AA4;&#xFF1A;</li><li>&#x63A5;&#x53D7;eula&#x3002;2.&#x4F7F;&#x7528;&#x8005;&#x540D;&#x5B57;&#x3002;3.&#x57DF;&#x6216;&#x5DE5;&#x4F5C;&#x7EC4;&#x3002;4.&#x4F7F;&#x7528;&#x8005;&#x5730;&#x533A;&#x3002;5.&#x7F51;&#x7EDC;&#x534F;&#x8BAE;&#x3002;6.&#x5220;&#x9664;c:\sysprep&#x3002;7.&#x91CD;&#x542F;&#x7535;&#x8111;&#x3002;</li><li>&#x7CFB;&#x7EDF;&#x4EA7;&#x751F;&#x65B0;&#x7684;sid&#x3002;ok&#xFF0C;&#x7ED3;&#x675F;&#x3002;</li></ol><p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;setupmgr.exe&#x6765;&#x5B9E;&#x73B0;sysprep&#x7684;&#x5B89;&#x88C5;&#xFF0C;&#x5C31;&#x662F;&#x7B2C;&#x56DB;&#x5927;&#x6B65;&#x4E2D;&#x7684;&#x5177;&#x4F53;&#x7684;&#x5C0F;&#x6B65;&#x9AA4;&#x3002;   &#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x7684;&#x603B;&#x7684;&#x6B65;&#x9AA4;&#x5C31;&#x662F;&#x5148;&#x6267;&#x884C;setupmgr.exe&#x4EA7;&#x751F;sysprep.inf&#x6587;&#x4EF6;&#xFF0C;&#x653E;&#x5728;sysprep&#x6587;&#x4EF6;&#x5939;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;sysprep.exe&#x91CD;&#x65B0;&#x5C01;&#x88C5;&#x3002;&#x9700;&#x8981;&#x8BF4;&#x660E;&#x7684;&#x662F;setupmgr.exe&#x65E2;&#x53EF;&#x4EE5;&#x7528;&#x5728;windows&#x7684;&#x81EA;&#x52A8;&#x5B89;&#x88C5;&#x4E0A;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x5728;sysprep.exe&#x7684;&#x81EA;&#x52A8;&#x5B89;&#x88C5;&#x4E0A;&#x3002;</p></div></div><div id="outline-container-org80bb262" class="outline-2"><h2 id="org80bb262"><span class="section-number-2">6</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;</h2><div class="outline-text-2" id="text-6"><ol class="org-ol"><li><a href="http://blog.sina.com.cn/s/blog_7221b7540100m7do.html" target="_blank" rel="noopener">WindowsXP&#x7684;&#x91CD;&#x65B0;&#x5C01;&#x88C5;</a></li><li><a href="http://0x0badc0de.blogspot.com/2013/05/converting-windows-virtual-machine-from.html" target="_blank" rel="noopener">Converting a Windows Virtual Machine from VirtualBox to QEMU and KVM using libguestfs tools</a></li><li><a href="http://nickberardi.com/dealing-with-0x0000007b-blue-screen-in-virtualbox/" target="_blank" rel="noopener">Dealing With 0x0000007B Blue Screen in VirtualBox</a></li></ol></div></div></div><div id="postamble" class="status">Last Updated 2018-10-02.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#org1fedc0d&quot;&gt;1
      
    
    </summary>
    
      <category term="Linux" scheme="http://wing-ho.github.io/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>把开发环境装进你的口袋</title>
    <link href="http://wing-ho.github.io/2018/05/10/%E6%8A%8A%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E8%A3%85%E8%BF%9B%E4%BD%A0%E7%9A%84%E5%8F%A3%E8%A2%8B/"/>
    <id>http://wing-ho.github.io/2018/05/10/把开发环境装进你的口袋/</id>
    <published>2018-05-10T00:00:00.000Z</published>
    <updated>2018-10-01T10:08:11.503Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#orge39aa87">1. &#x7F16;&#x8BD1;&#x5185;&#x6838;</a><ul><li><a href="#orgb71c661">1.1. &#x4E0B;&#x8F7D;android&#x6E90;&#x4EE3;&#x7801;</a></li><li><a href="#org3d75ed7">1.2. Debian stretch&#x5B89;&#x88C5;openjdk-7</a></li><li><a href="#org413ff0e">1.3. &#x5927;&#x795E;&#x7684;&#x4E00;&#x53E5;&#x8BDD;&#xFF0C;&#x9053;&#x7834;&#x4E86;&#x6210;&#x529F;&#x7F16;&#x8BD1;&#x7684;&#x7384;&#x673A;</a></li><li><a href="#org3449b2c">1.4. &#x5236;&#x4F5C;Boot&#x5206;&#x533A;&#x955C;&#x50CF;boot.img</a><ul><li><a href="#org5dd90a2">1.4.1. &#x89E3;&#x5305;&#x5B98;&#x65B9;Rom&#x4E2D;&#x7684;boot.img</a></li><li><a href="#org0d21f7a">1.4.2. &#x66FF;&#x6362;uImage&#x548C;&#x6DFB;&#x52A0;Ramdisk&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;</a></li><li><a href="#orgaebca07">1.4.3. &#x6253;&#x5305;&#x538B;&#x7F29;</a></li></ul></li></ul></li><li><a href="#org7dd6764">2. chroot&#x73AF;&#x5883;&#x4E0B;&#x5B89;&#x88C5;docker</a><ul><li><a href="#org6ffb85d">2.1. &#x5B89;&#x88C5;docker&#x5BA2;&#x6237;&#x7AEF;</a><ul><li><a href="#orge37ac59">2.1.1. &#x65B9;&#x6CD5;&#x4E00;</a></li><li><a href="#org0c793b8">2.1.2. &#x65B9;&#x6CD5;&#x4E8C;</a></li></ul></li><li><a href="#org7e2f03b">2.2. &#x4E0B;&#x8F7D;docker-machine&#x53CA;qemu&#x9A71;&#x52A8;</a><ul><li><a href="#orga5b55ff">2.2.1. &#x4E0B;&#x8F7D;docker-machine</a></li><li><a href="#org7f1a14c">2.2.2. &#x4FEE;&#x6539;qemu&#x9A71;&#x52A8;</a></li></ul></li><li><a href="#org8effe75">2.3. &#x521B;&#x5EFA;&#x548C;&#x914D;&#x7F6E;&#x865A;&#x62DF;&#x673A;</a><ul><li><a href="#orge0b31c6">2.3.1. &#x521B;&#x5EFA;&#x540D;&#x4E3A;default&#x865A;&#x62DF;&#x673A;</a></li><li><a href="#org536e810">2.3.2. &#x914D;&#x7F6E;boot2docker&#x865A;&#x62DF;&#x673A;</a></li></ul></li></ul></li><li><a href="#org4155ba3">3. &#x5B89;&#x88C5;Windows&#x7CFB;&#x7EDF;</a></li><li><a href="#orga0d7fa6">4. &#x53C2;&#x8003;&#x6587;&#x7AE0;</a></li></ul></div></div><p>&#x7528;&#x7535;&#x7EB8;&#x4E66;&#x8DD1;&#x4E00;&#x4E9B;&#x5927;&#x4E00;&#x70B9;&#x7684;&#x5E94;&#x7528;&#x5F88;&#x5403;&#x529B;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5F3A;&#x52B2;&#x4E00;&#x70B9;&#x7684;CPU&#xFF0C;&#x6700;&#x597D;&#x662F;Intel&#x7684;CPU&#xFF0C;&#x679C;&#x7136;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x673A;&#x5668;&#xFF0C;&#x8FD8;&#x5341;&#x5206;&#x7B26;&#x5408;&#x6211;&#x7684;&#x8981;&#x6C42;&#x3002;&#x90A3;&#x5C31;&#x662F;&#x534E;&#x7855;&#x7684;zenfone2&#xFF0C;&#x867D;&#x7136;&#x5DF2;&#x7ECF;&#x662F;2015&#x5E74;&#x7684;&#x8BBE;&#x5907;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x914D;&#x7F6E;&#x975E;&#x5E38;&#x7684;&#x8C6A;&#x534E;&#xFF0C;4g&#x7684;&#x5185;&#x5B58;&#xFF0C;16-64G&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;256G&#x7684;&#x7248;&#x672C;&#xFF0C;&#x76EE;&#x524D;&#x6CA1;&#x6709;&#x89C1;&#x8FC7;&#x3002;&#x6211;&#x5728;&#x95F2;&#x9C7C;&#x4E0A;&#x7684;&#x6DD8;&#x4E86;&#x4E00;&#x4E2A;32G&#x7684;&#x7248;&#x672C;&#xFF0C;&#x6709;&#x4E86;Intel&#x7684;CPU&#x518D;&#x52A0;&#x4E0A;KVM&#x5185;&#x6838;&#xFF0C;&#x8DD1;&#x5B8C;&#x6574;&#x7248;&#x672C;&#x7684;windows&#x6216;&#x8005;Linux&#x90FD;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#xFF0C;raw&#x683C;&#x5F0F;&#x662F;&#x6700;&#x5FEB;&#x7684;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x4F1A;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x4E0D;&#x65B9;&#x4FBF;&#x8FDB;&#x884C;&#x8FC1;&#x79FB;&#xFF0C;&#x5B89;&#x88C5;windows&#x7CFB;&#x7EDF;&#xFF0C;&#x6211;&#x4F1A;&#x9009;&#x62E9;&#x7A0D;&#x6162;&#x4E00;&#x70B9;&#x7684;qcow2&#x683C;&#x5F0F;&#x3002;</p><p>zenfone2&#x5B98;&#x65B9;andorid 5 rom&#x7684;&#x5185;&#x6838;&#x7248;&#x672C;&#x6BD4;&#x8F83;&#x4F4E;&#xFF0C;&#x529F;&#x80FD;&#x4E0A;&#x4F1A;&#x6709;&#x6BD4;&#x8F83;&#x591A;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x7528;&#x865A;&#x62DF;&#x673A;&#x6765;&#x8DD1;Linux&#xFF0C;&#x4F7F;&#x7528;&#x8D77;&#x6765;&#x4F1A;&#x66F4;&#x52A0;&#x65B9;&#x4FBF;&#x3002;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x7684;Linux&#xFF0C;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x4E00;&#x4E2A;&#x50CF;Debian&#x4E00;&#x6837;&#x7684;&#x529F;&#x80FD;&#x5B8C;&#x5907;&#x7684;Linux&#x53D1;&#x884C;&#x7248;&#xFF0C;&#x6700;&#x597D;&#x662F;&#x4E00;&#x4E2A;&#x542F;&#x52A8;&#x8FC5;&#x901F;&#x5C0F;&#x5DE7;&#x7684;&#x53D1;&#x884C;&#x7248;&#xFF0C;&#x4E00;&#x756A;&#x8C03;&#x67E5;&#x5B9E;&#x9A8C;&#x4E0B;&#x6765;&#xFF0C;&#x53D1;&#x73B0;boot2docker&#x662F;&#x6700;&#x4F73;&#x7684;&#x9009;&#x62E9;&#x3002;&#x867D;&#x7136;boot2docker&#x5B98;&#x65B9;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;qemu&#x7684;docker-machine&#x9A71;&#x52A8;&#xFF0C;&#x4F46;github&#x4E0A;&#x6709;&#x4EBA;&#x5F00;&#x53D1;&#x4E86;&#x4E00;&#x4E2A;&#xFF0C;&#x8FD9;&#x4E2A;&#x9A71;&#x52A8;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x7F16;&#x8BD1;&#xFF0C;release&#x7248;&#x672C;&#x529F;&#x80FD;&#x6BD4;&#x8F83;&#x5C11;&#x3002;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x865A;&#x62DF;&#x673A;&#x7684;&#x6027;&#x80FD;&#x91CD;&#x65B0;&#x7F16;&#x8BD1;&#x4E86;android&#x5185;&#x6838;&#xFF0C;&#x6DFB;&#x52A0;kvm&#x3001;9p&#x548C;virtio&#x76F8;&#x5173;&#x7684;&#x5185;&#x6838;&#x6A21;&#x5757;&#xFF0C;9p&#x5185;&#x6838;&#x6A21;&#x5757;&#x53EF;&#x4EE5;&#x5C06;&#x4E3B;&#x673A;&#x7684;&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x5230;Linux&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x3002;</p><div id="outline-container-orge39aa87" class="outline-2"><h2 id="orge39aa87"><span class="section-number-2">1</span> &#x7F16;&#x8BD1;&#x5185;&#x6838;</h2><div class="outline-text-2" id="text-1"></div><div id="outline-container-orgb71c661" class="outline-3"><h3 id="orgb71c661"><span class="section-number-3">1.1</span> &#x4E0B;&#x8F7D;android&#x6E90;&#x4EE3;&#x7801;</h3><div class="outline-text-3" id="text-1-1"><p>&#x521A;&#x5F00;&#x59CB;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#x4EE3;&#x7406;&#x6765;&#x4E0B;&#x8F7D;&#xFF0C;&#x5BF9;&#x6BD4;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x7684;&#x6570;&#x91CF;&#x6765;&#x770B;&#xFF0C;&#x4EE3;&#x7406;&#x7684;&#x901F;&#x5EA6;&#x592A;&#x6162;&#x4E86;&#xFF0C;&#x5E78;&#x4E8F;&#x4E2D;&#x79D1;&#x5927;&#x6709;&#x955C;&#x50CF;&#x3002;&#x521A;&#x5F00;&#x59CB;&#x4F7F;&#x7528;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x51FA;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x603B;&#x662F;&#x51FA;&#x9519;&#xFF0C;&#x8FD8;&#x662F;&#x4E2D;&#x79D1;&#x5927;&#x7684;&#x955C;&#x50CF;&#x9760;&#x8C31;&#x4E00;&#x70B9;&#x3002;&#x6709;&#x4E00;&#x4E2A;&#x53EB;xxx&#x5B50;&#x9879;&#x76EE;&#x662F;&#x4E0D;&#x80FD;&#x540C;&#x6B65;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x91CA;&#x6389;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x3002;&#x5148;&#x4E0B;&#x8F7D;&#x4E00;&#x4E2A;&#x6253;&#x5305;&#x597D;&#x7684;&#x521D;&#x59CB;&#x955C;&#x50CF;&#xFF0C;&#x89E3;&#x5305;&#x540E;&#xFF0C;&#x518D;&#x8FD0;&#x884C;&#x540C;&#x6B65;&#x547D;&#x4EE4;&#xFF0C;&#x540C;&#x6B65;&#x67D0;&#x4E2A;android&#x7248;&#x672C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BBE;&#x7F6E;shell&#x53D8;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x540C;&#x6B65;&#x4EE3;&#x7801;&#x6E90;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4FEE;&#x6539;repo&#x811A;&#x672C;&#xFF0C;&#x628A; REPO<sub>URL</sub> &#x4E00;&#x884C;&#x66FF;&#x6362;&#x6210;&#x4E0B;&#x9762;&#x7684;&#xFF1A;## REPO<sub>URL</sub> = &apos;https://gerrit-googlesource.proxy.ustclug.org/git-repo&apos;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">REPO_URL=<span class="string">&apos;https://gerrit-googlesource.proxy.ustclug.org/git-repo&apos;</span></span><br><span class="line">repo init -u git://mirrors.ustc.edu.cn/aosp/platform/manifest -b android-<span class="number">4.0</span>.<span class="number">1</span>_r1</span><br><span class="line">repo sync</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org3d75ed7" class="outline-3"><h3 id="org3d75ed7"><span class="section-number-3">1.2</span> Debian stretch&#x5B89;&#x88C5;openjdk-7</h3><div class="outline-text-3" id="text-1-2"><p>&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5B89;&#x88C5;Oracle&#x7684;jdk&#xFF0C;&#x4E0B;&#x8F7D;&#x597D;&#x4E86;&#x4E4B;&#x540E;&#xFF0C;&#x8BBE;&#x7F6E;&#x597D;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x5C31;&#x597D;&#x4E86;&#xFF0C;&#x6211;&#x9700;&#x8981;&#x4F7F;&#x7528;emacs&#x6765;&#x8C03;&#x8BD5;java&#x7A0B;&#x5E8F;&#xFF0C;openjdk&#x53EF;&#x80FD;&#x66F4;&#x52A0;&#x9002;&#x5408;&#x3002;<a href="https://askubuntu.com/questions/761127/how-do-i-install-openjdk-7-on-ubuntu-16-04-or-higher" target="_blank" rel="noopener">How do I install openjdk 7 on Ubuntu 16.04 or higher?</a></p></div></div><div id="outline-container-org413ff0e" class="outline-3"><h3 id="org413ff0e"><span class="section-number-3">1.3</span> &#x5927;&#x795E;&#x7684;&#x4E00;&#x53E5;&#x8BDD;&#xFF0C;&#x9053;&#x7834;&#x4E86;&#x6210;&#x529F;&#x7F16;&#x8BD1;&#x7684;&#x7384;&#x673A;</h3><div class="outline-text-3" id="text-1-3"><p>&#x6211;&#x4E00;&#x76F4;&#x6CA1;&#x6709;&#x6210;&#x529F;&#x4ECE;zenfone2&#x7684;&#x5F00;&#x6E90;&#x5185;&#x6838;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x7F16;&#x8BD1;&#x51FA;bzimage&#xFF0C;&#x5927;&#x795E;&#x7684;&#x4E00;&#x53E5;&#x8BDD;&#x9053;&#x7834;&#x4E86;&#x7384;&#x673A;&#xFF0C;&#x8981;&#x5148;&#x4E0B;&#x8F7D;&#x7B2C;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x7684;&#x5185;&#x6838;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x6700;&#x65B0;&#x7684;&#x7248;&#x672C;&#x8986;&#x76D6;&#x5230;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x624D;&#x80FD;&#x6210;&#x529F;&#x7F16;&#x8BD1;&#xFF0C;&#x4E0D;&#x80FD;&#x4E0B;&#x8F7D;&#x6E90;&#x4EE3;&#x7801;&#x89E3;&#x538B;&#x5C31;&#x76F4;&#x63A5;&#x7F16;&#x8BD1;&#x3002;<a href="https://forum.xda-developers.com/zenfone2/orig-development/fhd-kernel-ze551-kvm-bridge-compiled-t3145055/page5" target="_blank" rel="noopener">fhd kernel ( ZE551 ) &amp; POSSIBLY hd (ZE550) with KVM &amp; Bridge compiled. <b>need help</b> &#x7B2C;5&#x9875;</a></p><pre class="example">You will also want to make sure you untar the first kernel source, Asus left out components in later kernel source so they won&apos;t compile unless you untar them over the first one. </pre><p>xda&#x4E0A;say99&#x4ED6;&#x7684;github&#x4E0A;&#x7684;&#x5185;&#x6838;&#x662F;&#x76F4;&#x63A5;&#x53EF;&#x4EE5;&#x7F16;&#x8BD1;&#x7684;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x5DE8;&#x5927;&#x7684;android&#x6E90;&#x4EE3;&#x7801;&#x3002;Flare-AEL-X&#x662F;&#x5B98;&#x65B9;&#x7248;&#x672C;android5&#x7684;&#x5185;&#x6838;&#xFF0C;kernel-FlareM&#x662F;&#x5B98;&#x65B9;&#x7248;&#x672C;android6&#x7684;&#x5185;&#x6838;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;aosp&#x7684;&#x5185;&#x6838;&#x3002;CONFIG<sub>DEBUG</sub><sub>INFO</sub> &#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x4E0D;&#x9009;&#xFF0C;&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x51CF;&#x5C11;&#x5185;&#x6838;&#x548C;&#x5185;&#x6838;&#x6A21;&#x5757;&#x7684;&#x5927;&#x5C0F;&#x3002;say99&#x5199;&#x7684;&#x7F16;&#x8BD1;&#x5185;&#x6838;&#x6559;&#x7A0B;<a href="https://forum.xda-developers.com/zenfone2/general/compile-kernel-t3307932" target="_blank" rel="noopener">&#x300A;Compile your own kernel&#x300B;</a>&#x6211;&#x4F30;&#x8BA1;&#x6CA1;&#x51E0;&#x4E2A;&#x4EBA;&#x50CF;&#x6211;&#x8FD9;&#x4E48;&#x6298;&#x817E;&#x7684;&#xFF0C;&#x8BE6;&#x7EC6;&#x7684;&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;&#x5C31;&#x4E0D;&#x518D;&#x53D9;&#x8FF0;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x7F16;&#x8BD1;&#x78B0;&#x5230;&#x56F0;&#x96BE;&#x6216;&#x8005;&#x771F;&#x7684;&#x9700;&#x8981;&#x6211;&#x7684;&#x7F16;&#x8BD1;&#x7684;&#x5185;&#x6838;&#x5C31;&#x7559;&#x8A00;&#x7ED9;&#x6211;&#x5427;&#x3002;</p></div></div><div id="outline-container-org3449b2c" class="outline-3"><h3 id="org3449b2c"><span class="section-number-3">1.4</span> &#x5236;&#x4F5C;Boot&#x5206;&#x533A;&#x955C;&#x50CF;boot.img</h3><div class="outline-text-3" id="text-1-4"><p>boot.img&#x7684;&#x89E3;&#x5305;&#x6253;&#x5305;&#x5DE5;&#x5177;<a href="https://github.com/shakalaca/ZenFone2-boot-tools" target="_blank" rel="noopener">https://github.com/shakalaca/ZenFone2-boot-tools</a></p></div><div id="outline-container-org5dd90a2" class="outline-4"><h4 id="org5dd90a2"><span class="section-number-4">1.4.1</span> &#x89E3;&#x5305;&#x5B98;&#x65B9;Rom&#x4E2D;&#x7684;boot.img</h4><div class="outline-text-4" id="text-1-4-1"><p>&#x5230;&#x534E;&#x7855;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;Android 5&#x7684;&#x6700;&#x65B0;&#x7248;&#x672C;&#xFF0C;&#x627E;&#x5230;boot.img&#x89E3;&#x538B;&#x51FA;&#x6765;&#x3002;&#x4E3A;&#x4EC0;&#x4E48;&#x9009;&#x62E9;Android 5&#x800C;&#x4E0D;&#x9009;&#x62E9;Android 6&#xFF0C;&#x56E0;&#x4E3A;Android 6&#x4E0B;&#x7684;Linux Deploy&#x4E0D;&#x80FD;&#x5B89;&#x88C5;64&#x4F4D;&#x7684;Linux&#xFF0C;&#x7528;32&#x4F4D;&#x603B;&#x611F;&#x89C9;&#x4F1A;&#x7A0D;&#x6162;&#x4E00;&#x70B9;&#xFF0C;CPU&#x662F;64&#x4F4D;&#x7684;&#xFF0C;&#x5C31;&#x4E0D;&#x8981;&#x6D6A;&#x8D39;&#x5B83;&#x7684;&#x5BFB;&#x5740;&#x80FD;&#x529B;&#x3002;&#x800C;&#x4E14;&#x6211;&#x4E3B;&#x8981;&#x7528;&#x7684;&#x662F;Linux&#x7CFB;&#x7EDF;&#xFF0C;Android&#x7248;&#x672C;&#x5BF9;&#x6211;&#x7684;&#x5F71;&#x54CD;&#x6BD4;&#x8F83;&#x5C0F;&#xFF0C;&#x4F4E;&#x7248;&#x672C;&#x6D88;&#x8017;&#x7684;&#x8D44;&#x6E90;&#x8FD8;&#x66F4;&#x5C0F;&#x4E00;&#x70B9;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">unpackbootimg -i boot.img</span><br><span class="line"><span class="built_in">cd</span> boot</span><br><span class="line">gunzip ramdisk.cpio.gz</span><br><span class="line">mkdir ramdisk</span><br><span class="line"><span class="built_in">cd</span> ramdisk</span><br><span class="line"><span class="comment">#-i --extract &#x4ECE;&#x5305;&#x4E2D;&#x63D0;&#x53D6;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="comment">#-d --make-directories &#x9700;&#x8981;&#x65F6;&#x521B;&#x5EFA;&#x76EE;&#x5F55;</span></span><br><span class="line"><span class="comment">#-m --preserve-modification-time &#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x65F6;&#x4FDD;&#x7559;&#x4EE5;&#x524D;&#x6587;&#x4EF6;&#x7684;&#x4FEE;&#x6539;&#x65F6;&#x95F4;</span></span><br><span class="line"><span class="comment">#-v --verbose &#x8BE6;&#x7EC6;&#x5217;&#x51FA;&#x5DF2;&#x5904;&#x7406;&#x7684;&#x6587;&#x4EF6;</span></span><br><span class="line">cpio -idmv &lt; ../ramdisk.cpio</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org0d21f7a" class="outline-4"><h4 id="org0d21f7a"><span class="section-number-4">1.4.2</span> &#x66FF;&#x6362;uImage&#x548C;&#x6DFB;&#x52A0;Ramdisk&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;</h4><div class="outline-text-4" id="text-1-4-2"><p>&#x5728;&#x4E0A;&#x4E00;&#x6B65;&#x7684;&#x7F16;&#x8BD1;&#x7ED3;&#x679C;&#x5F53;&#x4E2D;&#x63D0;&#x53D6;uImage&#x5185;&#x6838;,kvm 9p virtio&#x7B49;&#x76F8;&#x5173;&#x5185;&#x6838;&#x6A21;&#x5757;&#x66FF;&#x6362;&#x6389;&#x5B98;&#x65B9;&#x7684;&#x5185;&#x6838;&#x53CA;&#x6A21;&#x5757;&#x3002;&#x4FEE;&#x6539;init.mofd<sub>v1.rc</sub>&#xFF0C;&#x8BA9;&#x5185;&#x6838;&#x80FD;&#x591F;&#x6B63;&#x786E;&#x52A0;&#x8F7D;&#x76F8;&#x5E94;&#x7684;&#x6A21;&#x5757;&#x3002;lib/modules/modules.order&#x4E5F;&#x6709;&#x4FDD;&#x5B58;&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x4F46;&#x597D;&#x50CF;&#x76F4;&#x63A5;&#x521D;&#x59CB;&#x5316;&#x811A;&#x672C;&#x4E2D;&#x4F7F;&#x7528;insmod&#x547D;&#x4EE4;&#x5C31;&#x80FD;&#x6B63;&#x786E;&#x52A0;&#x8F7D;&#x5185;&#x6838;&#x6A21;&#x5757;&#xFF0C;&#x8FD9;&#x4E2A;&#x7ED3;&#x8BBA;&#x662F;&#x5426;&#x6B63;&#x786E;&#x8FD8;&#x6709;&#x5F85;&#x9A8C;&#x8BC1;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim init.mofd_v1.rc</span><br><span class="line"><span class="comment"># line 337 add fallowing line</span></span><br><span class="line"><span class="comment"># load up our kvm stuff</span></span><br><span class="line">insmod /lib/modules/kvm.ko</span><br><span class="line">insmod /lib/modules/kvm-intel.ko</span><br><span class="line">insmod /lib/modules/pci-stub.ko</span><br><span class="line">insmod /lib/modules/font.ko</span><br><span class="line">insmod /lib/modules/sysfillrect.ko</span><br><span class="line">insmod /lib/modules/syscopyarea.ko</span><br><span class="line">insmod /lib/modules/sysimgblt.ko</span><br><span class="line">insmod /lib/modules/fb_sys_fops.ko</span><br><span class="line">insmod /lib/modules/virtio_mmio.ko</span><br><span class="line">insmod /lib/modules/virtio_pci.ko</span><br><span class="line">insmod /lib/modules/virtio_baloon.ko</span><br><span class="line">insmod /lib/modules/virtio_rng.ko</span><br><span class="line">insmod /lib/modules/virtio_console.ko</span><br><span class="line">insmod /lib/modules/virtio_blk.ko</span><br><span class="line">insmod /lib/modules/arizona-i2c.ko</span><br><span class="line">insmod /lib/modules/virtio_net.ko</span><br><span class="line">insmod /lib/modules/vringh.ko</span><br><span class="line">insmod /lib/modules/llc.ko</span><br><span class="line">insmod /lib/modules/bridge.ko</span><br><span class="line">insmod /lib/modules/<span class="number">9</span>pnet.ko</span><br><span class="line">insmod /lib/modules/<span class="number">9</span>pnet_virtio.ko</span><br><span class="line">insmod /lib/modules/<span class="number">9</span>p.ko</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgaebca07" class="outline-4"><h4 id="orgaebca07"><span class="section-number-4">1.4.3</span> &#x6253;&#x5305;&#x538B;&#x7F29;</h4><div class="outline-text-4" id="text-1-4-3"><p>zenfone2-boot-tools&#x5F53;&#x4E2D;&#x63D0;&#x4F9B;&#x4E86;&#x6253;&#x5305;&#x811A;&#x672C;&#xFF0C;&#x76F4;&#x63A5;&#x62FF;&#x6765;&#x7528;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x4EE5;&#x540E;&#x4E0D;&#x80FD;&#x7528;&#xFF0C;&#x6211;fork&#x4E86;&#x4E00;&#x4EFD;<a href="https://github.com/wing-ho/ZenFone2-boot-tools" target="_blank" rel="noopener">https://github.com/wing-ho/ZenFone2-boot-tools</a>&#x3002;</p></div></div></div></div><div id="outline-container-org7dd6764" class="outline-2"><h2 id="org7dd6764"><span class="section-number-2">2</span> chroot&#x73AF;&#x5883;&#x4E0B;&#x5B89;&#x88C5;docker</h2><div class="outline-text-2" id="text-2"><p>&#x5982;&#x679C;&#x6DFB;&#x52A0;docker-ce&#x7684;&#x5B89;&#x88C5;&#x6E90;&#xFF0C;&#x76F4;&#x63A5;&#x5B89;&#x88C5;docker&#xFF0C;dockerd&#x5E76;&#x4E0D;&#x80FD;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;Android&#x5185;&#x6838;&#x662F;&#x88AB;&#x88C1;&#x526A;&#x8FC7;&#x7684;&#xFF0C;&#x53BB;&#x6389;&#x4E86;namespace&#x3001;cgroup&#x3001;overylay&#x7B49;&#x5185;&#x6838;&#x6A21;&#x5757;&#xFF0C;&#x6211;&#x8BD5;&#x8FC7;&#x628A;&#x8FD9;&#x4E9B;&#x6A21;&#x5757;&#x6DFB;&#x52A0;&#x5230;Anroid&#x5185;&#x6838;&#x5F53;&#x4E2D;&#xFF0C;&#x867D;&#x7136;&#x7F16;&#x8BD1;&#x6210;&#x529F;&#xFF0C;&#x4F46;&#x662F;&#x5237;&#x673A;&#x540E;&#xFF0C;Android&#x7CFB;&#x7EDF;&#x5374;&#x65E0;&#x6CD5;&#x542F;&#x52A8;&#xFF0C;&#x6211;&#x53C8;&#x6CA1;&#x6709;&#x76F8;&#x5E94;&#x7684;&#x624B;&#x6BB5;&#x53BB;&#x8C03;&#x8BD5;&#x624B;&#x673A;&#xFF0C;&#x5C31;&#x53EA;&#x80FD;&#x653E;&#x5F03;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x8F6C;&#x800C;&#x4F7F;&#x7528;&#x865A;&#x62DF;&#x673A;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x8FD0;&#x884C;docker&#x3002;docker-machine&#x5C31;&#x662F;&#x7528;&#x6765;&#x7BA1;&#x7406;docker&#x865A;&#x62DF;&#x673A;&#x7684;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;&#x4F7F;&#x7528;virtualbox&#x6765;&#x8FD0;&#x884C;&#x865A;&#x62DF;&#x673A;&#x7684;&#xFF0C;&#x4F46;&#x662F;virtualbox&#x5728;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x4E2D;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x5185;&#x6838;&#x6A21;&#x5757;&#xFF0C;Android&#x7CFB;&#x7EDF;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x8FD9;&#x79CD;&#x66F4;&#x65B0;&#x5185;&#x6838;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x5185;&#x6838;&#x662F;&#x5B58;&#x653E;&#x5728;&#x72EC;&#x7ACB;&#x7684;boot&#x5206;&#x533A;&#x4E2D;&#x7684;&#xFF0C;&#x6240;&#x5E78;&#x6709;&#x57FA;&#x4E8E;&#x547D;&#x4EE4;&#x884C;&#x7684;qemu&#x865A;&#x62DF;&#x673A;&#x3002;</p></div><div id="outline-container-org6ffb85d" class="outline-3"><h3 id="org6ffb85d"><span class="section-number-3">2.1</span> &#x5B89;&#x88C5;docker&#x5BA2;&#x6237;&#x7AEF;</h3><div class="outline-text-3" id="text-2-1"></div><div id="outline-container-orge37ac59" class="outline-4"><h4 id="orge37ac59"><span class="section-number-4">2.1.1</span> &#x65B9;&#x6CD5;&#x4E00;</h4><div class="outline-text-4" id="text-2-1-1"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update </span><br><span class="line">sudo apt-get install </span><br><span class="line">apt-transport-https \</span><br><span class="line">    ca-certificates \</span><br><span class="line">    curl \</span><br><span class="line">    gnupg2 \</span><br><span class="line">    software-properties-common</span><br><span class="line">curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -</span><br><span class="line">sudo add-apt-repository \</span><br><span class="line">     <span class="string">&quot;deb [arch=amd64] https://download.docker.com/linux/debian \</span><br><span class="line">   <span class="variable">$(lsb_release -cs)</span> \</span><br><span class="line">   stable&quot;</span></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install docker-ce</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org0c793b8" class="outline-4"><h4 id="org0c793b8"><span class="section-number-4">2.1.2</span> &#x65B9;&#x6CD5;&#x4E8C;</h4><div class="outline-text-4" id="text-2-1-2"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl <span class="operator">-f</span>SL -o /tmp/dockerbin.tgz https://download.docker.com/linux/static/edge/x86_64/docker-<span class="number">18.06</span>.<span class="number">0</span>-ce.tgz </span><br><span class="line">tar -zxvf /tmp/dockerbin.tgz -C ~/usr/bin --strip-components=<span class="number">1</span></span><br><span class="line">rm /tmp/dockerbin.tgz</span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org7e2f03b" class="outline-3"><h3 id="org7e2f03b"><span class="section-number-3">2.2</span> &#x4E0B;&#x8F7D;docker-machine&#x53CA;qemu&#x9A71;&#x52A8;</h3><div class="outline-text-3" id="text-2-2"></div><div id="outline-container-orga5b55ff" class="outline-4"><h4 id="orga5b55ff"><span class="section-number-4">2.2.1</span> &#x4E0B;&#x8F7D;docker-machine</h4><div class="outline-text-4" id="text-2-2-1"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo curl <span class="operator">-f</span>SL -o /usr/<span class="built_in">local</span>/bin/docker-machine https://github.com/docker/machine/releases/download/v0.<span class="number">15.0</span>/docker-machine-Linux-x86_64</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org7f1a14c" class="outline-4"><h4 id="org7f1a14c"><span class="section-number-4">2.2.2</span> &#x4FEE;&#x6539;qemu&#x9A71;&#x52A8;</h4><div class="outline-text-4" id="text-2-2-2"><p>qemu&#x9A71;&#x52A8;&#x4F7F;&#x7528;9p&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6765;&#x53EA;&#x8BFB;&#x6302;&#x8F7D;&#x4E00;&#x4E2A;user<sub>data&#x6587;&#x4EF6;&#x5230;&#x865A;&#x62DF;&#x673A;&#x4E2D;</sub>&#xFF0C;&#x6211;&#x9700;&#x8981;&#x628A;&#x5BBF;&#x4E3B;&#x673A;&#x7684;/home/$USER&#x6302;&#x8F7D;&#x5230;&#x865A;&#x62DF;&#x4E2D;&#x5BF9;&#x5E94;/home/$USER&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x5BF9;qemu&#x9A71;&#x52A8;&#x7A0D;&#x4F5C;&#x4FEE;&#x6539;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/machine-drivers/docker-machine-driver-qemu.git</span><br><span class="line"><span class="built_in">cd</span> docker-machine-driver</span><br><span class="line">sed -i <span class="string">&apos;s/security_model=passthrough,readonly/security_model=none/;s/mount_tag=config-2/mount_tag=user_home/&apos;</span> qemu.go </span><br><span class="line"><span class="comment"># &#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53BB;&#x914D;&#x7F6E;&#x597D;go&#x8BED;&#x8A00;&#x7684;&#x73AF;&#x5883;</span></span><br><span class="line">go build cmd -o docker-machine-driver-qemu</span><br><span class="line">chmod +x docker-machine-driver-qemu</span><br><span class="line">sudo cp docker-machine-driver-qemu /usr/<span class="built_in">local</span>/bin</span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org8effe75" class="outline-3"><h3 id="org8effe75"><span class="section-number-3">2.3</span> &#x521B;&#x5EFA;&#x548C;&#x914D;&#x7F6E;&#x865A;&#x62DF;&#x673A;</h3><div class="outline-text-3" id="text-2-3"></div><div id="outline-container-orge0b31c6" class="outline-4"><h4 id="orge0b31c6"><span class="section-number-4">2.3.1</span> &#x521B;&#x5EFA;&#x540D;&#x4E3A;default&#x865A;&#x62DF;&#x673A;</h4><div class="outline-text-4" id="text-2-3-1"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># &#x89E3;&#x51B3;&#x8F93;&#x5165;sudo&#x5E26;&#x6765;&#x7684;&#x627E;&#x4E0D;&#x5230;&#x547D;&#x4EE4;&#x7684;&#x95EE;&#x9898;</span></span><br><span class="line">sudo chown wing:wing /usr/bin/qemu-system-x86_64</span><br><span class="line">sudo chown wing:wing /dev/kvm</span><br><span class="line">useradd <span class="operator">-a</span> -G docker</span><br><span class="line"><span class="comment"># &#x4E0B;&#x8F7D;boot2docker&#x955C;&#x50CF;</span></span><br><span class="line">wget https://github.com/boot2docker/boot2docker/releases/download/v18.<span class="number">06.0</span>-ce/boot2docker.iso</span><br><span class="line">docker-machine create <span class="operator">-d</span> qemu --qemu-boot2docker-url boot2docker2.iso --qemu-virtio-drives --qemu-display --qemu-display-type vnc=:<span class="number">1</span> default </span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org536e810" class="outline-4"><h4 id="org536e810"><span class="section-number-4">2.3.2</span> &#x914D;&#x7F6E;boot2docker&#x865A;&#x62DF;&#x673A;</h4><div class="outline-text-4" id="text-2-3-2"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># &#x914D;&#x7F6E;CloundConfigRoot&#x4E3A;&#x5BBF;&#x4E3B;&#x673A;&#x7684;/home/$USER&#x76EE;&#x5F55;</span></span><br><span class="line">sed -i <span class="string">&apos;s/&quot;CloudConfigRoot&quot;: &quot;&quot;/&quot;CloudConfigRoot&quot;: &quot;/home/wing&quot;/&apos;</span> ~/.docker/machine/machines/default/config.json</span><br><span class="line">docker-machine ssh</span><br><span class="line">sudo <span class="operator">-s</span></span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;&#x81EA;&#x52A8;&#x6302;&#x8F7D;9p&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x811A;&#x672C;&#xFF0C;&#x7C97;&#x7565;&#x6D4B;&#x8BD5;msize&#x4E3A;1M&#x6BD4;&#x8F83;&#x5408;&#x9002;</span></span><br><span class="line">cat &gt; /var/lib/boot2docker/bootlocal.sh &lt;&lt; EOF</span><br><span class="line">mkdir -p /home/wing</span><br><span class="line">sudo mount -t <span class="number">9</span>p -o trans=virtio,version=<span class="number">9</span>p2000.L,msize=<span class="number">1048576</span> user_home /home/wing</span><br><span class="line">EOF</span><br><span class="line">chown +x /var/lib/boot2docker/bootlocal.sh</span><br><span class="line"><span class="comment"># &#x4FEE;&#x6539;docker&#x9ED8;&#x8BA4;&#x5377;&#x9A71;&#x52A8;&#x548C;&#x6DFB;&#x52A0;&#x56FD;&#x5185;&#x52A0;&#x901F;&#x955C;&#x50CF;</span></span><br><span class="line">sed -i <span class="string">&apos;s/DOCKER_STORAGE=aufs/DOCKER_STORAGE=overlay2/;/--label/ a --registry-mirror=https://registry.docker-cn.com&apos;</span>  /var/lib/boot2docker/profile</span><br><span class="line"><span class="comment"># &#x91CD;&#x542F;&#x865A;&#x62DF;&#x673A;</span></span><br><span class="line">sudo shutdown</span><br><span class="line">docker-machine start default</span><br></pre></td></tr></table></figure></div></div></div></div></div><div id="outline-container-org4155ba3" class="outline-2"><h2 id="org4155ba3"><span class="section-number-2">3</span> &#x5B89;&#x88C5;Windows&#x7CFB;&#x7EDF;</h2><div class="outline-text-2" id="text-3"><p>Windows&#x7CFB;&#x7EDF;&#x5E76;&#x4E0D;&#x662F;&#x6211;&#x7684;&#x4E3B;&#x529B;&#x7CFB;&#x7EDF;&#xFF0C;&#x5C31;&#x662F;&#x7528;&#x6765;&#x8FD0;&#x884C;&#x4E00;&#x4E9B;Windows&#x73AF;&#x5883;&#x7684;&#x8F6F;&#x4EF6;&#x800C;&#x5DF2;&#xFF0C;&#x4E3A;&#x4E86;&#x8282;&#x7701;&#x7A7A;&#x95F4;&#x6211;&#x9009;&#x62E9;&#x4E86;xp&#xFF0C;&#x76EE;&#x524D;xp&#x8FD8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;posReady&#x8865;&#x4E01;&#x6301;&#x7EED;&#x66F4;&#x65B0;&#x5230;2019&#x5E74;4&#x6708;9&#x65E5;&#x3002;Win7&#x3001;Win10&#x5E94;&#x8BE5;&#x4E5F;&#x662F;&#x80FD;&#x591F;&#x6D41;&#x7545;&#x8FD0;&#x884C;&#x7684;&#x3002;&#x8BA9;&#x7CFB;&#x7EDF;&#x6D41;&#x7545;&#x7684;&#x5173;&#x952E;&#x662F;&#x6539;&#x53D8;cpufreq&#x7684;&#x6A21;&#x5F0F;&#x4E3A;ondemand&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;cpu&#x4F1A;&#x5728;&#x606F;&#x5C4F;&#x540E;&#x5C31;&#x4F1A;&#x5DE5;&#x4F5C;&#x5728;interactive&#x6A21;&#x5F0F;&#x4E0B;&#x3002;&#x53E6;&#x5916;&#x7531;&#x4E8E;GPU&#x9A71;&#x52A8;&#x7684;&#x7F18;&#x6545;&#xFF0C;&#x5728;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x770B;&#x7535;&#x5F71;&#xFF0C;&#x4E22;&#x5E27;&#x4F1A;&#x6BD4;&#x8F83;&#x4E25;&#x91CD;&#x7684;&#xFF0C;&#x89C6;&#x9891;&#x6559;&#x7A0B;&#x7B97;&#x662F;&#x52C9;&#x5F3A;&#x53EF;&#x4EE5;&#x770B;&#x7684;&#x3002;&#x771F;&#x7684;&#x9700;&#x8981;&#x770B;&#x89C6;&#x9891;&#x53EF;&#x4EE5;&#x7528;Android&#x7CFB;&#x7EDF;&#x770B;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x662F;&#x865A;&#x62DF;&#x673A;&#x542F;&#x52A8;&#x7684;&#x811A;&#x672C;&#xFF1A;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">qemu_args=(</span><br><span class="line">    -enable-kvm</span><br><span class="line">    -nodefaults</span><br><span class="line">    -boot menu=on</span><br><span class="line">    -m <span class="number">2048</span> -cpu host</span><br><span class="line">    -smp <span class="number">2</span>,sockets=<span class="number">1</span>,cores=<span class="number">2</span>,threads=<span class="number">1</span> </span><br><span class="line">    -drive <span class="keyword">if</span>=virtio,file=<span class="variable">$HOME</span>/Machines/winxp.qcow2,media=disk</span><br><span class="line">    -cdrom en_windows_xp_professional_with_service_pack_3_x86_<span class="built_in">cd</span>_vl_x14-<span class="number">73974</span>.iso</span><br><span class="line">    <span class="comment"># &#x53EF;&#x4EE5;&#x5C06;usb&#x8BBE;&#x5907;&#x76F4;&#x901A;&#x5230;&#x865A;&#x62DF;&#x673A;&#x4E2D;</span></span><br><span class="line">    -device nec-usb-xhci,id=xhci</span><br><span class="line">    -device usb-host,bus=xhci.<span class="number">0</span>,hostbus=<span class="number">2</span>,hostport=<span class="number">1</span></span><br><span class="line">    -device usb-host,bus=xhci.<span class="number">0</span>,hostbus=<span class="number">3</span>,hostport=<span class="number">1</span></span><br><span class="line">    -localtime</span><br><span class="line">    -usb -usbdevice tablet</span><br><span class="line">    -vga qxl</span><br><span class="line">    -vnc :<span class="number">2</span></span><br><span class="line">    <span class="comment"># &#x5728;&#x5B89;&#x88C5;&#x7CFB;&#x7EDF;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x6253;&#x5F00;vnc&#xFF0C;&#x5B89;&#x88C5;&#x548C;&#x914D;&#x7F6E;&#x597D;&#x7CFB;&#x7EDF;&#x4E4B;&#x540E;&#x5C31;&#x4E0B;&#x9762;&#x7684;&#x9009;&#x9879;&#x5173;&#x95ED;</span></span><br><span class="line">    <span class="comment">#-display none</span></span><br><span class="line">    -monitor telnet:<span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">2023</span>,server,nowait</span><br><span class="line">    -net user,hostfwd=tcp::<span class="number">3389</span>-:<span class="number">3389</span>,smb=<span class="variable">$HOME</span></span><br><span class="line">    -net nic,model=virtio </span><br><span class="line">    -daemonize</span><br><span class="line">)</span><br><span class="line">qemu-system-x86_64 <span class="variable">${qemu_args[@]}</span> </span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orga0d7fa6" class="outline-2"><h2 id="orga0d7fa6"><span class="section-number-2">4</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;</h2><div class="outline-text-2" id="text-4"><ol class="org-ol"><li><a href="https://blog.csdn.net/sunweizhong1024/article/details/8055372" target="_blank" rel="noopener">repo&#x7528;&#x6CD5;&#x8BE6; </a></li><li><a href="http://whiteboard.ping.se/Android/Debian" target="_blank" rel="noopener">How to run Debian or Ubuntu GNU/Linux on your Android</a></li><li><a href="https://wiki.debian.org/ChrootOnAndroid" target="_blank" rel="noopener">Debian Wiki ChrootOnAndroid</a></li><li><a href="https://blog.csdn.net/u011001084/article/details/74316735" target="_blank" rel="noopener">&#x80FD;&#x5F53;&#x4E3B;&#x529B;&#xFF0C;&#x80FD;&#x5165;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x8FD8;&#x80FD;&#x968F;&#x65F6;&#x6253;&#x5305;&#x5E26;&#x8D70;&#xFF0C;Linux &#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x5F3A;&#x5927;</a></li><li><a href="https://wiki.qemu.org/Documentation/9psetup" target="_blank" rel="noopener">Qemu&#x5B98;&#x65B9;&#x6587;&#x6863;9psetup</a></li><li><a href="https://openwrt.org/zh/docs/guide-developer/test-virtual-image-using-armvirt" target="_blank" rel="noopener">&#x4F7F;&#x7528;armvirt&#x67B6;&#x6784;&#x7684;&#x865A;&#x62DF;&#x955C;&#x50CF;&#x6765;&#x6D4B;&#x8BD5;LEDE</a></li></ol></div></div></div><div id="postamble" class="status">Last Updated 2018-05-10.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#orge39aa87&quot;&gt;1
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>打造兼容BIOS和UEFI的启动盘</title>
    <link href="http://wing-ho.github.io/2018/05/07/%E6%89%93%E9%80%A0%E5%85%BC%E5%AE%B9BIOS%E5%92%8CUEFI%E7%9A%84%E5%90%AF%E5%8A%A8%E7%9B%98/"/>
    <id>http://wing-ho.github.io/2018/05/07/打造兼容BIOS和UEFI的启动盘/</id>
    <published>2018-05-07T00:00:00.000Z</published>
    <updated>2018-10-01T10:13:14.395Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#org1482b10">1. &#x7528;Qemu&#x6D4B;&#x8BD5;&#x542F;&#x52A8;&#x76D8;</a></li><li><a href="#orge7a5143">2. &#x5206;&#x533A;&#x548C;&#x5B89;&#x88C5;grub2</a></li><li><a href="#org327722c">3. &#x914D;&#x7F6E;&#x542F;&#x52A8;&#x83DC;&#x5355;grub.cfg</a></li><li><a href="#orga9d2ab1">4. &#x51C6;&#x5907;&#x7CFB;&#x7EDF;&#x955C;&#x50CF;</a><ul><li><a href="#org02896be">4.1. &#x6DFB;&#x52A0;loop&#x548C;nbd&#x5185;&#x6838;&#x6A21;&#x5757;</a></li><li><a href="#org80d8bda">4.2. &#x5236;&#x4F5C;LVM&#x7BA1;&#x7406;&#x5206;&#x533A;&#x7684;Debian&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#xFF08;&#x9AD8;&#x7EA7;&#x505A;&#x6CD5;&#xFF09;</a><ul><li><a href="#orgdbd8664">4.2.1. &#x5148;&#x51C6;&#x5907;&#x597D;&#x5185;&#x6838;Ramdisk&#x4E2D;&#x7684;&#x6302;&#x8F7D;&#x7684;&#x811A;&#x672C;</a></li><li><a href="#org85d3fc1">4.2.2. &#x521B;&#x5EFA;&#x955C;&#x50CF;&#x3001;&#x6302;&#x8F7D;&#x5206;&#x533A;&#x548C;&#x5B89;&#x88C5;&#x7CFB;&#x7EDF;</a></li><li><a href="#org601d479">4.2.3. &#x8C03;&#x6574;&#x955C;&#x50CF;&#x5BB9;&#x91CF;</a></li></ul></li><li><a href="#orge353067">4.3. &#x5236;&#x4F5C;&#x666E;&#x901A;&#x5206;&#x533A;&#x7684;Debian&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#xFF08;&#x4E00;&#x822C;&#x505A;&#x6CD5;&#xFF09;</a><ul><li><a href="#orgaa15709">4.3.1. &#x5148;&#x51C6;&#x5907;&#x597D;&#x5185;&#x6838;Ramdisk&#x4E2D;&#x7684;&#x6302;&#x8F7D;&#x7684;&#x811A;&#x672C;</a></li><li><a href="#orgc2e9beb">4.3.2. &#x521B;&#x5EFA;&#x955C;&#x50CF;&#x3001;&#x5206;&#x533A;&#x3001;&#x6302;&#x8F7D;&#x5206;&#x533A;&#x548C;&#x5B89;&#x88C5;&#x7CFB;&#x7EDF;</a></li><li><a href="#orgb7f480d">4.3.3. &#x8C03;&#x6574;&#x955C;&#x50CF;&#x5BB9;&#x91CF;</a></li></ul></li><li><a href="#org5bcf93b">4.4. &#x5236;&#x4F5C;&#x517C;&#x5BB9;UEFI&#x548C;BIOS&#x542F;&#x52A8;&#x7684;Windows 10&#x7CFB;&#x7EDF;&#x955C;&#x50CF;</a></li></ul></li><li><a href="#org03e9550">5. &#x53C2;&#x8003;&#x6587;&#x7AE0;</a></li></ul></div></div><p>&#x6211;&#x5E76;&#x4E0D;&#x559C;&#x6B22;&#x6253;&#x6E38;&#x620F;&#xFF0C;&#x968F;&#x7740;&#x6211;&#x5BF9;Linux&#x7684;&#x6DF1;&#x5165;&#x4E86;&#x89E3;&#xFF0C;Windows&#x5BF9;&#x6211;&#x7684;&#x5438;&#x5F15;&#x529B;&#x8D8A;&#x6765;&#x8D8A;&#x5C11;&#xFF0C;&#x4F46;&#x662F;&#x603B;&#x514D;&#x4E0D;&#x4E86;&#x9700;&#x8981;&#x7528;&#x5230;Office&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x7528;&#x4E00;&#x4E0B;Office&#x6216;&#x8005;Photoshop&#x800C;&#x5360;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x5206;&#x533A;&#xFF0C;&#x5B9E;&#x5728;&#x662F;&#x6709;&#x70B9;&#x6D6A;&#x8D39;&#x7A7A;&#x95F4;&#xFF0C;&#x6211;&#x7684;&#x786C;&#x76D8;&#x4E00;&#x822C;&#x53EA;&#x5206;&#x51FA;&#x6765;EFI&#x548C;ext4&#x4E24;&#x4E2A;&#x5206;&#x533A;&#xFF0C;&#x6839;&#x672C;&#x4E0D;&#x5FC5;&#x62C5;&#x5FC3;&#x4F1A;&#x6709;&#x9700;&#x8981;&#x91CD;&#x88C5;&#x7CFB;&#x7EDF;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x800C;Windows&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x662F;&#x6253;&#x5F00;Qemu&#x865A;&#x62DF;&#x673A;&#x6765;&#x4E34;&#x65F6;&#x7528;&#x4E00;&#x4E0B;&#x3002;&#x5929;&#x6709;&#x4E0D;&#x6D4B;&#x4E4B;&#x98CE;&#x4E91;&#x554A;&#xFF0C;&#x7CFB;&#x7EDF;&#x6CA1;&#x6709;&#x53D1;&#x751F;&#x6545;&#x969C;&#xFF0C;&#x7B14;&#x8BB0;&#x672C;&#x7684;&#x56FA;&#x6001;&#x786C;&#x76D8;&#x574F;&#x4E86;&#xFF0C;&#x5E78;&#x597D;&#x7B14;&#x8BB0;&#x672C;&#x8FD8;&#x5728;&#x4FDD;&#x4FEE;&#x671F;&#x5185;&#xFF0C;&#x53EF;&#x4EE5;&#x514D;&#x8D39;&#x66F4;&#x6362;&#x4E00;&#x5757;&#x65B0;&#x7684;&#x786C;&#x76D8;&#xFF0C;&#x4F46;&#x662F;&#x7CFB;&#x7EDF;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x91CD;&#x505A;&#x7684;&#xFF0C;&#x90E8;&#x5206;&#x8D44;&#x6599;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x5907;&#x4EFD;&#x4E5F;&#x4E22;&#x5931;&#x4E86;&#xFF0C;&#x5728;&#x7B14;&#x8BB0;&#x672C;&#x9001;&#x4FEE;&#x7684;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x91CC;&#xFF0C;&#x6211;&#x7528;&#x65E7;&#x7684;&#x7B14;&#x8BB0;&#x672C;&#x5148;&#x628A;&#x7CFB;&#x7EDF;&#x5B89;&#x88C5;&#x597D;&#xFF0C;&#x56DE;&#x6765;&#x518D;&#x6062;&#x590D;&#x4E00;&#x4E0B;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x4E8E;&#x662F;&#x5C31;&#x72E0;&#x72E0;&#x5730;&#x6298;&#x817E;&#x4E86;&#x4E00;&#x628A;Linux&#x5404;&#x79CD;&#x5B89;&#x88C5;&#x65B9;&#x6CD5;&#x3002;&#x5BF9;&#x4E8E;&#x542F;&#x52A8;&#x76D8;&#xFF0C;&#x6211;&#x9700;&#x8981;&#x6EE1;&#x8DB3;&#x4E00;&#x4E0B;&#x7684;&#x8981;&#x6C42;&#xFF1A;</p><ol class="org-ol"><li>&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x652F;&#x6301;BIOS&#x548C;UEFI&#x542F;&#x52A8;&#x3002;</li><li>&#x5F15;&#x5BFC;&#x5404;&#x79CD;&#x7248;&#x672C;&#x7684;Linux Live CD&#x3002;</li><li>&#x5F15;&#x5BFC;&#x53EF;&#x8BFB;&#x5199;&#x7684;Debian Linux&#x7684;img&#x955C;&#x50CF;&#x3002;</li><li>&#x76F4;&#x63A5;&#x52A0;&#x8F7D;Win PE&#x955C;&#x50CF;&#xFF0C;&#x514D;&#x53BB;&#x6BCF;&#x6B21;&#x5236;&#x4F5C;Windows&#x542F;&#x52A8;&#x76D8;&#x90FD;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x70E7;&#x5F55;U&#x76D8;&#x3002;</li><li>&#x5F15;&#x5BFC;Windows 10 LTSB&#x7684;vhd&#x955C;&#x50CF;&#x3002;</li><li>Linux&#x548C;Windows&#x955C;&#x50CF;&#x65E2;&#x53EF;&#x4EE5;&#x5728;&#x771F;&#x673A;&#x4E0A;&#x542F;&#x52A8;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;Qemu&#x865A;&#x62DF;&#x673A;&#x542F;&#x52A8;&#x3002;</li></ol><p>&#x8FD9;&#x4E48;&#x590D;&#x6742;&#x548C;&#x5947;&#x8469;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x5F53;&#x7136;&#x5C31;&#x6CA1;&#x6709;&#x73B0;&#x6210;&#x7684;&#x53EF;&#x4EE5;&#x4E0B;&#x8F7D;&#xFF0C;&#x53EA;&#x80FD;&#x81EA;&#x5DF1;&#x52A8;&#x624B;&#x505A;&#x5566;&#x3002;&#x5199;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x82B1;&#x8D39;&#x4E86;&#x4E0D;&#x5C11;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5982;&#x679C;&#x53EA;&#x662F;&#x505A;&#x4E00;&#x4E2A;&#x53EF;&#x7528;&#x7684;&#x542F;&#x52A8;&#x76D8;&#xFF0C;&#x662F;&#x7528;&#x4E0D;&#x4E86;&#x591A;&#x5C11;&#x65F6;&#x95F4;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E3A;&#x4E86;&#x628A;&#x6BCF;&#x4E00;&#x6B65;&#x90FD;&#x641E;&#x660E;&#x767D;&#xFF0C;&#x4F7F;&#x7528;&#x865A;&#x62DF;&#x673A;&#x505A;&#x4E86;&#x5F88;&#x591A;&#x5B9E;&#x9A8C;&#xFF0C;Debian&#x548C;Windows&#x90FD;&#x91CD;&#x590D;&#x5B89;&#x88C5;&#x4E86;&#x51E0;&#x904D;&#xFF0C;&#x5199;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x9001;&#x4FEE;&#x7684;&#x7B14;&#x8BB0;&#x672C;&#x62FF;&#x56DE;&#x6765;&#x4E86;&#xFF0C;&#x5374;&#x770B;&#x5230;&#x8FDC;&#x666F;&#x7684;&#x5E16;&#x5B50;&#x4E0A;&#x6709;&#x4EBA;&#x5728;&#x6211;&#x8FD9;&#x4E2A;&#x7B14;&#x8BB0;&#x672C;&#x578B;&#x53F7;&#x4E0A;&#x6210;&#x529F;&#x5B89;&#x88C5;&#x4E86;macOS&#xFF0C;&#x7ACB;&#x523B;&#x5C31;&#x5FC3;&#x52A8;&#x4E86;&#xFF0C;&#x8DD1;&#x53BB;&#x6298;&#x817E;&#x9ED1;&#x82F9;&#x679C;&#x7684;&#x5B89;&#x88C5;&#x65B9;&#x6CD5;&#xFF0C;&#x6240;&#x4EE5;&#x4E4B;&#x540E;&#x6211;&#x4E5F;&#x4F1A;&#x5199;&#x4E00;&#x7BC7;&#x5173;&#x4E8E;HP ENVY AS110TU&#x5B89;&#x88C5;macOS&#x7684;&#x6587;&#x7AE0;&#x3002;&#x672C;&#x6587;&#x5199;&#x4F5C;&#x524D;&#x671F;&#x662F;&#x4F7F;&#x7528;Linux&#xFF0C;&#x6D4B;&#x8BD5;&#x542F;&#x52A8;&#x76D8;&#x4E3B;&#x8981;&#x662F;&#x4F7F;&#x7528;Qemu&#xFF0C;&#x4E5F;&#x56E0;&#x6B64;&#x5BF9;Qemu&#x6709;&#x4E86;&#x6DF1;&#x5165;&#x7684;&#x4E86;&#x89E3;&#xFF0C;&#x540E;&#x671F;&#x662F;&#x5728;macOS&#x4E0B;&#x5B8C;&#x6210;&#x7684;&#xFF0C;&#x4F46;Qemu for macOS&#x4E0D;&#x80FD;&#x4F7F;&#x7528;USB Passthrough&#xFF0C;&#x6539;&#x7528;Parallels Desktop&#x3002;&#x5B89;&#x88C5;macOS&#x4E4B;&#x540E;&#xFF0C;&#x7B14;&#x8BB0;&#x672C;&#x7684;&#x7EED;&#x822A;&#x65F6;&#x95F4;&#x5C45;&#x7136;&#x53D8;&#x957F;&#x4E86;&#xFF0C;&#x540E;&#x6765;&#x53D1;&#x73B0;&#x662F;Firefox&#x60F9;&#x7684;&#x7978;&#xFF0C;&#x76F8;&#x5BF9;&#x4E8E;Chrome&#xFF0C;&#x7528;Firefox&#x65F6;CPU&#x4F7F;&#x7528;&#x7387;&#x957F;&#x671F;&#x504F;&#x9AD8;&#xFF0C;&#x6539;&#x7528;chrome&#x6D4F;&#x89C8;&#x5668;&#x4E4B;&#x540E;CPU&#x53D1;&#x70ED;&#x53D8;&#x5C0F;&#x4E86;&#xFF0C;&#x7EED;&#x822A;&#x4E5F;&#x5C31;&#x53D8;&#x957F;&#x4E86;&#xFF0C;&#x7EED;&#x822A;&#x65F6;&#x95F4;&#x77ED;&#x5E94;&#x8BE5;&#x4E0D;&#x662F;&#x56E0;&#x4E3A;&#x4F7F;&#x7528;Linux&#x7684;&#x7F18;&#x6545;&#x3002;&#x4F7F;&#x7528;macOS&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x51B3;&#x5B9A;&#x4E0D;&#x518D;&#x6362;&#x56DE;Linux&#x7CFB;&#x7EDF;&#x4E86;&#xFF0C;Linux&#x4E0B;&#x592A;&#x7F3A;&#x4E4F;&#x5E94;&#x7528;&#x4E86;&#xFF0C;&#x800C;&#x4E14;&#x7528;docker&#x5C31;&#x53EF;&#x4EE5;&#x6EE1;&#x8DB3;&#x57FA;&#x672C;&#x7684;&#x5F00;&#x53D1;&#x9700;&#x6C42;&#x3002;&#x6211;&#x662F;&#x7528;SSD&#x7684;&#x79FB;&#x52A8;&#x786C;&#x76D8;&#x5236;&#x4F5C;&#x542F;&#x52A8;&#x76D8;&#x7684;&#xFF0C;&#x611F;&#x89C9;&#x8FD8;&#x662F;&#x4E0D;&#x591F;&#x65B9;&#x4FBF;&#xFF0C;&#x5C31;&#x60F3;&#x628A;&#x62FF;&#x4E2A;&#x5927;&#x5BB9;&#x91CF;&#x7684;u&#x76D8;&#x6765;&#x8BD5;&#x8BD5;&#xFF0C;Linux&#x7684;&#x542F;&#x52A8;&#x5F53;&#x7136;&#x5C31;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x4F46;&#x662F;windows&#x7684;vhd&#x955C;&#x50CF;&#xFF0C;&#x5C31;&#x4E0D;&#x597D;&#x505A;&#x4E86;&#xFF0C;Windows To Go&#x7684;&#x529F;&#x80FD;&#x662F;&#x5BF9;U&#x76D8;&#x662F;&#x6709;&#x8981;&#x6C42;&#x7684;&#xFF0C;Removable media&#x7C7B;&#x578B;&#x662F;Fixed&#x7684;&#x624D;&#x80FD;&#x591F;&#x5B89;&#x88C5;&#xFF0C;&#x867D;&#x7136;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;cfadisk&#x9A71;&#x52A8;&#x6765;&#x6539;&#x53D8;Removable Media&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x4F46;&#x9700;&#x8981;&#x5BF9;&#x9A71;&#x52A8;&#x8FDB;&#x884C;&#x7B7E;&#x540D;&#xFF0C;&#x5426;&#x5219;&#x6BCF;&#x6B21;&#x5F00;&#x673A;&#x90FD;&#x63D0;&#x793A;&#x4F60;&#x9A71;&#x52A8;&#x6CA1;&#x6709;&#x7B7E;&#x540D;&#xFF0C;&#x9700;&#x8981;&#x4FEE;&#x6539;BCD&#x542F;&#x52A8;&#x6587;&#x4EF6;&#x5173;&#x95ED;&#x9A71;&#x52A8;&#x7B7E;&#x540D;&#x624D;&#x80FD;&#x542F;&#x52A8;&#xFF0C;&#x4EE5;&#x4E0B;&#x5C31;&#x662F;&#x5236;&#x4F5C;&#x8FC7;&#x7A0B;&#x3002;</p><div id="outline-container-org1482b10" class="outline-2"><h2 id="org1482b10"><span class="section-number-2">1</span> &#x7528;Qemu&#x6D4B;&#x8BD5;&#x542F;&#x52A8;&#x76D8;</h2><div class="outline-text-2" id="text-1"><p>&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x6D4B;&#x8BD5;&#x9700;&#x8981;&#x6253;&#x5F00;&#x548C;&#x5173;&#x95ED;&#x76F8;&#x5E94;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;Qemu&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x5730;&#x5C06;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x67D0;&#x4E2A;&#x63D2;&#x53E3;&#x76F4;&#x901A;&#x5230;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#xFF0C;&#x6709;&#x4E86;&#x8FD9;&#x4E2A;&#x5B83;&#xFF0C;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x91CD;&#x542F;&#x6765;&#x6D4B;&#x8BD5;&#x542F;&#x52A8;&#x76D8;&#x4E86;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># &#x4FDD;&#x5B58;CD&#x955C;&#x50CF;&#x8DEF;&#x5F84;&#x7684;&#x53D8;&#x91CF;</span></span><br><span class="line">ISO_Debian=debian-<span class="number">9.4</span>.<span class="number">0</span>-amd64-netinst.iso</span><br><span class="line">ISO_LTSB=cn_windows_10_enterprise_2016_ltsb_x64_dvd_9060409.iso</span><br><span class="line"><span class="comment"># &#x6570;&#x7EC4;&#x4FDD;&#x5B58;qemu&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#xFF0C;&#x901A;&#x8FC7;&#x6CE8;&#x91CA;&#x968F;&#x65F6;&#x6253;&#x5F00;&#x548C;&#x5173;&#x95ED;&#x76F8;&#x5E94;&#x7684;&#x529F;&#x80FD;</span></span><br><span class="line">BOOT_USB=(</span><br><span class="line"><span class="comment"># &#x7B49;&#x540C;&#x4E8E;-enable-kvm&#xFF0C;macOS&#x4E0B;accel=hvf</span></span><br><span class="line">-machine accel=kvm</span><br><span class="line"><span class="comment"># &#x8BBE;&#x7F6E;&#x5185;&#x5B58;&#x5BB9;&#x91CF;</span></span><br><span class="line">-m <span class="number">1</span>G</span><br><span class="line"><span class="comment"># &#x8BBE;&#x7F6E;cpu</span></span><br><span class="line">-cpu host</span><br><span class="line"><span class="comment"># &#x6253;&#x5F00;&#x542F;&#x52A8;&#x83DC;&#x5355;</span></span><br><span class="line">-boot menu=on</span><br><span class="line"><span class="comment"># UEFI&#x56FA;&#x4EF6;</span></span><br><span class="line"><span class="comment">#-drive if=pflash,format=raw,readonly,file=/usr/share/ovmf/OVMF.fd</span></span><br><span class="line"><span class="comment">#-drive file=$HOME/.config/qemu.nvram,if=pflash,format=raw,unit=1</span></span><br><span class="line"><span class="comment"># &#x786C;&#x4EF6;&#x65F6;&#x95F4;</span></span><br><span class="line">-rtc clock=host,base=utc</span><br><span class="line"><span class="comment"># usb 2.0&#x63A7;&#x5236;&#x5668;</span></span><br><span class="line"><span class="comment">#-device usb-ehci,id=ehci</span></span><br><span class="line"><span class="comment"># windows&#x7CFB;&#x7EDF;&#x542F;&#x52A8;&#x7528;&#x8BE5;&#x9009;&#x9879;</span></span><br><span class="line"><span class="comment">#-device usb-tablet,bus=usb-bus.0</span></span><br><span class="line"><span class="comment"># usb 3.0&#x63A7;&#x5236;&#x5668;</span></span><br><span class="line">-device nec-usb-xhci,id=xhci</span><br><span class="line"><span class="comment"># &#x53EF;&#x4EE5;&#x5C06;&#x67D0;&#x4E2A;&#x63D2;&#x53E3;&#x76F4;&#x901A;&#x7ED9;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x5728;&#x865A;&#x62DF;&#x673A;&#x63A7;&#x5236;&#x53F0;&#x901A;&#x8FC7;info usbhost&#x547D;&#x4EE4;&#x67E5;&#x770B;</span></span><br><span class="line">-device usb-host,bus=xhci.<span class="number">0</span>,hostbus=<span class="number">3</span>,hostport=<span class="number">1</span>,id=usb-driver</span><br><span class="line"><span class="comment"># &#x4F7F;&#x7528;&#x5F53;&#x524D;&#x7684;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;&#x505A;&#x4E3A;&#x63A7;&#x5236;&#x53F0;</span></span><br><span class="line"><span class="comment">#-monitor stdio</span></span><br><span class="line"><span class="comment"># &#x4F7F;&#x7528;telnet Server&#x4F5C;&#x4E3A;&#x63A7;&#x5236;&#x53F0;</span></span><br><span class="line">-monitor telnet:<span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">23</span>,server,nowait</span><br><span class="line"><span class="comment"># &#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x5185;&#x6838;&#x542F;&#x52A8;</span></span><br><span class="line"><span class="comment">#-kernel vmlinuz</span></span><br><span class="line"><span class="comment">#-initrd initrd.img</span></span><br><span class="line"><span class="comment"># &#x4EE5;&#x4E0B;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x865A;&#x62DF;&#x673A;&#x63A5;&#x7BA1;&#x5F53;&#x524D;console</span></span><br><span class="line"><span class="comment">#-append &quot;&apos;root=/dev/sda3 ro single console=ttyS0&apos;&quot;</span></span><br><span class="line"><span class="comment">#-nographic</span></span><br><span class="line"><span class="comment">#-serial mon:stdio</span></span><br><span class="line"><span class="comment"># ide&#x63A7;&#x5236;&#x5668;</span></span><br><span class="line"><span class="comment">#-drive if=none,file=/home/wing/machines/win10.vhd,format=vpc,id=system</span></span><br><span class="line">-device ide-hd,drive=system,bus=ide.<span class="number">1</span>,unit=<span class="number">0</span></span><br><span class="line"><span class="comment"># scsi&#x70ED;&#x63D2;&#x62D4;</span></span><br><span class="line"><span class="comment">#-device scsi-hd,drive=system,bus=scsi0.0,scsi-id=0</span></span><br><span class="line"><span class="comment">#-device virtio-scsi-pci,id=scsi0,bus=pci.0,addr=0x8 </span></span><br><span class="line">-drive <span class="keyword">if</span>=none,file=debian.img,format=raw,id=system</span><br><span class="line"><span class="comment"># virtio&#x9A71;&#x52A8;</span></span><br><span class="line"><span class="comment">#-drive if=virtio,format=raw,file=debian.img,id=system</span></span><br><span class="line"><span class="comment"># &#x5149;&#x9A71;</span></span><br><span class="line"><span class="comment">#-drive file=$ISO_LTSB,media=cdrom,index=0</span></span><br><span class="line">-drive file=<span class="variable">$ISO_Debian</span>,media=cdrom,index=<span class="number">0</span></span><br><span class="line"><span class="comment"># 9p&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x628A;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x76F4;&#x901A;&#x5230;&#x865A;&#x62DF;&#x673A;&#x4E2D;</span></span><br><span class="line"><span class="comment">#-fsdev local,id=home_dev,path=/home/wing,security_model=passthrough</span></span><br><span class="line"><span class="comment">#-device virtio-9p-pci,fsdev=home_dev,mount_tag=home_mount</span></span><br><span class="line"><span class="comment"># &#x7F51;&#x5361;&#x4F7F;&#x7528;virtio&#x9A71;&#x52A8;</span></span><br><span class="line"><span class="comment">#-net nic,model=virtio</span></span><br><span class="line"><span class="comment"># &#x7F51;&#x7EDC;&#x4F7F;&#x7528;qemu&#x5185;&#x7F6E;&#x6A21;&#x5F0F;&#xFF0C;hostfwd&#x8BBE;&#x7F6E;&#x7AEF;&#x53E3;&#x6620;&#x5C04;</span></span><br><span class="line"><span class="comment">#-net user,hostfwd=tcp::2222-:22</span></span><br><span class="line"><span class="comment"># smb&#x5171;&#x4EAB;&#x76EE;&#x5F55;</span></span><br><span class="line"><span class="comment">#-netdev type=user,id=net0,smb=/home/wing</span></span><br><span class="line"><span class="comment"># &#x7528;&#x4E8E;&#x66F4;&#x6539;&#x7F51;&#x5361;&#x578B;&#x53F7;</span></span><br><span class="line"><span class="comment">#-device e1000,netdev=net0</span></span><br><span class="line"><span class="comment"># UEFI&#x542F;&#x52A8;&#x9700;&#x8981;&#x4F7F;&#x7528;qxl&#x9A71;&#x52A8;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x82B1;&#x5C4F;</span></span><br><span class="line"><span class="comment">#-vga qxl</span></span><br><span class="line"><span class="comment"># &#x4F7F;&#x7528;vnc&#x534F;&#x8BAE;&#x8FDE;&#x63A5;&#x865A;&#x62DF;&#x673A;</span></span><br><span class="line"><span class="comment">#-vnc :1</span></span><br><span class="line"><span class="comment"># &#x4F7F;&#x7528;spice&#x534F;&#x8BAE;&#x94FE;&#x63A5;&#x865A;&#x62DF;&#x673A;</span></span><br><span class="line"><span class="comment">#-spice port=5900,addr=127.0.0.1,disable-ticketing</span></span><br><span class="line"><span class="comment"># &#x8BBE;&#x7F6E;&#x5171;&#x4EAB;&#x7C98;&#x8D34;&#x677F;</span></span><br><span class="line"><span class="comment">#-device virtio-serial-pci -device virtserialport,chardev=spicechannel0,name=com.redhat.spice.0 -chardev spicevmc,id=spicechannel0,name=vdagent</span></span><br><span class="line">)</span><br><span class="line">sudo qemu-system-x86_64 <span class="string">&quot;<span class="variable">${BOOT_USB[@]}</span>&quot;</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orge7a5143" class="outline-2"><h2 id="orge7a5143"><span class="section-number-2">2</span> &#x5206;&#x533A;&#x548C;&#x5B89;&#x88C5;grub2</h2><div class="outline-text-2" id="text-2"><p>&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;qemu-img&#x6240;&#x652F;&#x6301;&#x7684;&#x955C;&#x50CF;&#x683C;&#x5F0F;qemu&#x90FD;&#x80FD;&#x76F4;&#x63A5;&#x652F;&#x6301;&#xFF0C;&#x4F46;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F7F;&#x7528;qemu-nbd&#x547D;&#x4EE4;&#x6302;&#x8F7D;&#xFF0C;&#x63D0;&#x4F9B;&#x95F4;&#x63A5;&#x7684;&#x652F;&#x6301;&#xFF0C;vhd&#x683C;&#x5F0F;qemu&#x80FD;&#x591F;&#x76F4;&#x63A5;&#x652F;&#x6301;&#x6240;&#x4EE5;&#x5C31;&#x4E0D;&#x9009;&#x6700;&#x65B0;&#x7684;vhdx&#x683C;&#x5F0F;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x4F7F;&#x7528;vhdx&#x683C;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x5148;&#x7528;qemu-nbd -t -k soket-file-path vhdx-file&#x6302;&#x8F7D;&#xFF0C;&#x7136;&#x540E;&#x4EE5;qemu-system-x86_64 -hda -hda nbd:unix:/soket-file-path&#x542F;&#x52A8;&#x865A;&#x62DF;&#x673A;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># &#x521B;&#x5EFA;vhd&#x955C;&#x50CF;&#x6587;&#x4EF6;</span></span><br><span class="line">qemu-img create <span class="operator">-f</span> vpc -o subformat=dynamic win10.vhd <span class="number">60</span>G</span><br><span class="line"><span class="comment"># &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;nbd&#x7684;&#x5206;&#x533A;&#x529F;&#x80FD;&#x662F;&#x5173;&#x95ED;&#x7684;&#xFF0C;&#x9700;&#x8981;max_part&#x53C2;&#x6570;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x8BE5;&#x6A21;&#x5757;</span></span><br><span class="line">rmmod nbd</span><br><span class="line">modprobe nbd max_part=<span class="number">8</span></span><br><span class="line"><span class="comment">#&#x6302;&#x8F7D;vhd</span></span><br><span class="line">qemu-nbd -c /dev/nbd0 win10.vhd</span><br><span class="line"><span class="comment"># -o, --clear &#x6E05;&#x9664;&#x5206;&#x533A;&#x8868; </span></span><br><span class="line"><span class="comment"># -n, --new=partnum:start:end partnum=0 &#x8868;&#x793A;&#x7B2C;&#x4E00;&#x4E2A;&#x53EF;&#x7528;&#x7684;&#x5206;&#x533A;&#x53F7; start=0&#x6216;&#x5FFD;&#x7565; &#x8868;&#x793A;&#x7B2C;&#x4E00;&#x4E2A;&#x53EF;&#x7528;&#x7684;&#x5730;&#x5740; end=0&#x6216;&#x5FFD;&#x7565; &#x8868;&#x793A;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x53EF;&#x7528;&#x7684;&#x5730;&#x5740; </span></span><br><span class="line"><span class="comment"># -h, --hybrid=partnum[:partnum...] &#x521B;&#x5EFA;hybrid MBR</span></span><br><span class="line"><span class="comment"># hydrid MBR&#x5206;&#x533A;&#x65B9;&#x6848;&#x4E2D;&#x53EF;&#x4EE5;&#x5C06;bootmgr&#x5B89;&#x88C5;&#x5230;efi&#x5206;&#x533A;&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x6709;&#x66F4;&#x597D;&#x7684;&#x65B9;&#x6848;&#xFF0C;&#x4E0D;&#x518D;&#x5BF9;&#x8FD9;&#x4E2A;&#x5206;&#x6848;&#x8FDB;&#x884C;&#x6DF1;&#x5165;&#x63A2;&#x7D22;</span></span><br><span class="line"><span class="comment">#sgdisk --clear -n 0::+1m -t 1:EF02 -n 0::+100m -t 2:EF00 -n 0:: -t 3:0700 -h 2:3 -p /dev/sda</span></span><br><span class="line">sgdisk --clear -n <span class="number">0</span>::+<span class="number">1</span>m -t <span class="number">1</span>:EF02 -n <span class="number">0</span>::+<span class="number">100</span>m -t <span class="number">2</span>:EF00 -n <span class="number">0</span>:: -t <span class="number">3</span>:<span class="number">0700</span> -p /dev/sdb</span><br><span class="line"><span class="comment">#-F fat-size</span></span><br><span class="line">mkfs.fat -F32 /dev/sdb2</span><br><span class="line"><span class="comment">#-f, --fast or -Q, --quick &#x5FEB;&#x901F;&#x683C;&#x5F0F;&#x5316;</span></span><br><span class="line">mkfs.ntfs -Q /dev/sdb3</span><br><span class="line"><span class="comment">#&#x6302;&#x8F7D;efi&#x5206;&#x533A;/dev/sda1&#x5230;/mnt,uid&#x548C;gid&#x53C2;&#x6570;&#x662F;&#x4E3A;&#x4E86;&#x7F16;&#x8F91;&#x6587;&#x4EF6;&#x4E0D;&#x9700;&#x8981;sudo</span></span><br><span class="line">mount /dev/sdb2 /mnt -o uid=<span class="variable">$UID</span>,gid=<span class="variable">$GID</span></span><br><span class="line">mkdir -p /mnt/boot</span><br><span class="line">apt-get install grub-pc grub-efi-amd64</span><br><span class="line"><span class="comment"># grub&#x5B89;&#x88C5;&#x5230;MBR</span></span><br><span class="line">grub-install --target=i386-pc --recheck --boot-directory=/mnt/boot /dev/sdb</span><br><span class="line"><span class="comment"># grub&#x5B89;&#x88C5;&#x5230;ESP,&#x7279;&#x522B;&#x6CE8;&#x610F;--removable&#x53C2;&#x6570;&#xFF0C;&#x5B89;&#x88C5;&#x5230;&#x79FB;&#x52A8;&#x8BBE;&#x5907;&#x4E0A;&#x4E00;&#x5B9A;&#x8981;&#x7528;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;</span></span><br><span class="line">grub-install --target=x86_64-efi --efi-directory=/mnt --boot-directory=/mnt/boot --removable</span><br></pre></td></tr></table></figure></div><p>bios_grub&#x5206;&#x533A;&#x662F;&#x7528;&#x4E8E;&#x5B58;&#x653E;core.img&#xFF0C;&#x7279;&#x522B;&#x5F3A;&#x8C03;bios_grub&#x6807;&#x8BB0;&#x7684;&#x5206;&#x533A;&#x5FC5;&#x987B;&#x5B58;&#x5728;&#xFF0C;&#x5426;&#x5219;BIOS&#x6A21;&#x5F0F;&#x4E0B;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#xFF0C;&#x5206;&#x533A;&#x4E3A;1M&#x5BB9;&#x91CF;&#xFF0C;&#x56E0;&#x4E3A;1M&#x662F;&#x4FDD;&#x8BC1;&#x6247;&#x533A;&#x80FD;&#x591F;&#x5BF9;&#x9F50;&#x7684;&#x6700;&#x4F4E;&#x5BB9;&#x91CF;&#x3002;</p></div></div><div id="outline-container-org327722c" class="outline-2"><h2 id="org327722c"><span class="section-number-2">3</span> &#x914D;&#x7F6E;&#x542F;&#x52A8;&#x83DC;&#x5355;grub.cfg</h2><div class="outline-text-2" id="text-3"><p>&#x628A;grub.cfg&#x4FDD;&#x5B58;&#x5230;/mnt/boot/grub/grub.cfg&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Qemu&#x6765;&#x6D4B;&#x8BD5;&#x79FB;&#x52A8;&#x786C;&#x76D8;&#x4E86;&#xFF0C;&#x770B;&#x662F;&#x5426;&#x80FD;&#x770B;&#x5230;&#x83DC;&#x5355;&#x3002;grub.cfg&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x662F;&#x4E3B;&#x8981;&#x662F;&#x53C2;&#x8003;&#x300A;How to create an Hybrid UEFI GPT + BIOS GPT/MBR boot USB disk&#x300B;&#x548C;&#x300A;U&#x76D8;&#x5F15;&#x5BFC;&#x591A;&#x4E2A;linux&#x955C;&#x50CF;&#x5B89;&#x88C5;,&#x540C;&#x65F6;&#x652F;&#x6301;BIOS&#x548C;UEFI&#x6A21;&#x5F0F;&#x300B;&#x4E24;&#x7BC7;&#x6587;&#x7AE0;&#x3002;</p><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line"># path to the partition holding ISO images (using UUID)</span><br><span class="line">#probe -u $root --set=rootuuid</span><br><span class="line">set rootuuid=&apos;2DF7-3C9E&apos;</span><br><span class="line">set imgdevuuid=&apos;73790BC06D97FEEC&apos;</span><br><span class="line"></span><br><span class="line"># define globally (i.e outside any menuentry)</span><br><span class="line">insmod search_fs_uuid</span><br><span class="line">search --no-floppy --set=root --fs-uuid $rootuuid</span><br><span class="line">search --no-floppy --set=imgdev --fs-uuid $imgdevuuid</span><br><span class="line">set imgpath=($imgdev)/image # &#x5B9A;&#x4E49;iso&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x7684;&#x8DEF;&#x5F84;</span><br><span class="line"></span><br><span class="line"># &#x5B9A;&#x4E49;&#x5404;&#x79CD;&#x8981;&#x542F;&#x52A8;&#x7684;iso&#x955C;&#x50CF;&#x540D;</span><br><span class="line">set ubuntu=ubuntu-16.04.1-desktop-amd64.iso                  # ubuntu&#x684C;&#x9762;&#x7248;&#x955C;&#x50CF;,&#x652F;&#x6301;12.04-16.04</span><br><span class="line">set ubuntuserver=ubuntu-16.04.1-server-amd64.iso             # ubuntu&#x670D;&#x52A1;&#x5668;&#x7248;&#x955C;&#x50CF;,&#x652F;&#x6301;14.04-16.04</span><br><span class="line">set debianlive=debian-live-8.6.0-amd64-gnome-desktop.iso     # debian livecd&#x955C;&#x50CF;,&#x652F;&#x6301;debian8</span><br><span class="line">set deepin15=deepin-15.3-amd64.iso                           # deepin15&#x955C;&#x50CF;</span><br><span class="line">set linuxmint=linuxmint-18.1-cinnamon-64bit.iso              # linuxmint&#x955C;&#x50CF;,&#x652F;&#x6301;17-18</span><br><span class="line">set ubuntukylin=ubuntukylin-16.04.1-desktop-amd64.iso        # ubuntukylin&#x955C;&#x50CF;,&#x652F;&#x6301;14.04-16.04</span><br><span class="line">set centosdvd=CentOS-7-x86_64-Minimal-1511.iso               # centos DVD&#x7248;&#x955C;&#x50CF;,&#x5305;&#x62EC;DVD/Everything/Minimal/Netinstall&#x955C;&#x50CF;,&#x652F;&#x6301;6-7</span><br><span class="line">set centoslive=CentOS-7-x86_64-LiveGNOME-1511.iso            # centos livecd&#x955C;&#x50CF;,&#x5305;&#x62EC;livecd/livedvd&#xFF0C;&#x652F;&#x6301;7(6&#x4F3C;&#x4E4E;&#x4E0D;&#x652F;&#x6301;&#x76F4;&#x63A5;&#x5F15;&#x5BFC;ISO,&#x671F;&#x5F85;PR&#x89E3;&#x51B3;)</span><br><span class="line"></span><br><span class="line"># grub&#x6A21;&#x5757;&#x914D;&#x7F6E;</span><br><span class="line">set lang=zh_CN</span><br><span class="line">insmod part_msdos</span><br><span class="line">insmod xfs</span><br><span class="line">insmod loopback</span><br><span class="line">insmod iso9660</span><br><span class="line">insmod ntfs</span><br><span class="line"></span><br><span class="line"># Setup video</span><br><span class="line">if [ &quot;$grub_platform&quot; = &quot;efi&quot; ]</span><br><span class="line">then</span><br><span class="line">    insmod efi_gop</span><br><span class="line">    insmod efi_uga</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ &quot;$grub_platform&quot; = &quot;pc&quot; ]</span><br><span class="line">then</span><br><span class="line">    insmod vbe</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># Setup font</span><br><span class="line">insmod font</span><br><span class="line"></span><br><span class="line">if loadfont ${prefix}/fonts/unicode.pf2</span><br><span class="line">then</span><br><span class="line">    insmod gfxterm</span><br><span class="line">    set gfxmode=auto</span><br><span class="line">    set gfxpayload=keep</span><br><span class="line">    terminal_output gfxterm</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># Setup GRUB Screen</span><br><span class="line">insmod jpeg</span><br><span class="line">if background_image /boot/grub/grub_bg.jpg ; then</span><br><span class="line">    set color_normal=white/black</span><br><span class="line">    set color_highlight=white/green</span><br><span class="line">else</span><br><span class="line">    set menu_color_normal=white/black</span><br><span class="line">    set menu_color_highlight=black/light-gray</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">menuentry &apos;Boot From Local Disk&apos; {</span><br><span class="line">  chainloader +1</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">menuentry &apos;Debian GNU/Linux In Image With LVM2&apos; {</span><br><span class="line">  set root=$imgdev</span><br><span class="line">  insmod lvm</span><br><span class="line">  loopback loop /image/debian_lvm_vg_system.img</span><br><span class="line">  echo  &apos;Loading Linux 4.9.0-6-amd64 ...&apos;</span><br><span class="line">  linux (lvm/vg_system-lv_root)/vmlinuz root=/dev/mapper/vg_system-lv_root hostdev=$imgdevuuid ro quiet</span><br><span class="line">  echo  &apos;Loading initial ramdisk ...&apos;</span><br><span class="line">  initrd  (lvm/vg_system-lv_root)/initrd.img</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">if [ &quot;$grub_platform&quot; = &quot;efi&quot; ]; then</span><br><span class="line">  menuentry &apos;Win 10 Enterprise In  VHD (UEFI)&apos; {</span><br><span class="line">    chainloader /EFI/Microsoft/Boot/bootmgfw.efi</span><br><span class="line">  }</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ &quot;$grub_platform&quot; = &quot;pc&quot; ]; then</span><br><span class="line">  menuentry &quot;Win 10 Enterprise In VHD (Legacy)&quot; {</span><br><span class="line">    # apt install syslinux; cp /usr/share/syslinux/memdisk ${efi_mount_point}/boot/syslinux/memdisk</span><br><span class="line">    linux16 /boot/syslinux/memdisk raw</span><br><span class="line">    initrd16 /boot/bootmgr.vhd</span><br><span class="line">  }</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">menuentry &apos;Win10 pe&apos; {</span><br><span class="line">  linux16 /boot/syslinux/memdisk iso</span><br><span class="line">  set root=$imgdev</span><br><span class="line">  initrd16 /image/win10pe.iso</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">if [ -f &quot;$imgpath/$linuxmint&quot; ]; then</span><br><span class="line">  menuentry &quot;Linux Mint ISO&quot; {</span><br><span class="line">    loopback loop &quot;$imgpath/$linuxmint&quot;</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;Linux Mint ...&apos;</span><br><span class="line">    linux (loop)/casper/vmlinuz file=/cdrom/preseed/linuxmint.seed boot=casper iso-scan/filename=$isofile noeject noprompt splash locale=zh_CN.UTF-8 --</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;&#x521D;&#x59CB;&#x5316;&#x5185;&#x5B58;&#x76D8; ...&apos;</span><br><span class="line">    initrd (loop)/casper/initrd.lz</span><br><span class="line">  }</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -f &quot;$imgpath/$ubuntu&quot; ]; then</span><br><span class="line">  menuentry &quot;Ubuntu Desktop ISO&quot; {</span><br><span class="line">    loopback loop &quot;$imgpath/$ubuntu&quot;</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;Ubuntu Desktop ...&apos;</span><br><span class="line">    linux (loop)/casper/vmlinuz.efi file=/cdrom/preseed/ubuntu.seed boot=casper iso-scan/filename=$isofile noeject noprompt splash locale=zh_CN.UTF-8 --</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;&#x521D;&#x59CB;&#x5316;&#x5185;&#x5B58;&#x76D8; ...&apos;</span><br><span class="line">    initrd (loop)/casper/initrd.lz</span><br><span class="line">  }</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -f &quot;$imgpath/$ubuntukylin&quot; ]; then</span><br><span class="line">  menuentry &quot;UbuntuKylin Desktop ISO&quot; {</span><br><span class="line">    loopback loop &quot;$imgpath/$ubuntukylin&quot;</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;UbuntuKylin Desktop ...&apos;</span><br><span class="line">    linux (loop)/casper/vmlinuz.efi boot=casper iso-scan/filename=$isofile noeject noprompt splash locale=zh_CN.UTF-8 --</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;&#x521D;&#x59CB;&#x5316;&#x5185;&#x5B58;&#x76D8; ...&apos;</span><br><span class="line">    initrd (loop)/casper/initrd.lz</span><br><span class="line">  }</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># &#x7279;&#x522B;&#x6CE8;&#x610F;: Ubuntu Server&#x4F1A;&#x51FA;&#x73B0;&#x5B89;&#x88C5;&#x7684;&#x65F6;&#x5019;&#x68C0;&#x6D4B;&#x4E0D;&#x5230;&#x5149;&#x9A71;&#x7684;&#x73B0;&#x8C61;</span><br><span class="line"># &#x6B64;&#x65F6;&#x624B;&#x5DE5;&#x8FDB;&#x5165;shell&#x4E0B;&#xFF0C;&#x5C06;iso&#x955C;&#x50CF;&#x6302;&#x8F7D;&#x5728;/cdrom&#x7EE7;&#x7EED;&#x5373;&#x53EF;</span><br><span class="line"># mount /dev/sdb1 /media</span><br><span class="line"># mount -o loop /media/boot/iso/ubuntu-*-server-*.iso /cdrom</span><br><span class="line">if [ -f &quot;$imgpath/$ubuntuserver&quot; ]; then</span><br><span class="line">  menuentry &quot;Ubuntu Server ISO&quot; {</span><br><span class="line">    loopback loop &quot;$imgpath/$ubuntuserver&quot;</span><br><span class="line">    set gfxpayload=keep</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;Ubuntu Server ...&apos;</span><br><span class="line">    linux (loop)/install/vmlinuz file=/cdrom/preseed/ubuntu-server.seed iso-scan/filename=$isofile quiet ---</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;&#x521D;&#x59CB;&#x5316;&#x5185;&#x5B58;&#x76D8; ...&apos;</span><br><span class="line">    initrd (loop)/install/initrd.gz</span><br><span class="line">  }</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -f &quot;$imgpath/$deepin15&quot; ]; then</span><br><span class="line">  menuentry &quot;Deepin 15 ISO&quot; {</span><br><span class="line">    loopback loop &quot;$imgpath/$deepin15&quot; </span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;Deepin ...&apos;</span><br><span class="line">    linux (loop)/live/vmlinuz.efi boot=live config findiso=$isofile noeject noprompt locales=zh_CN.UTF-8 --</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;&#x521D;&#x59CB;&#x5316;&#x5185;&#x5B58;&#x76D8; ...&apos;</span><br><span class="line">    initrd (loop)/live/initrd.lz</span><br><span class="line">  }</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -f &quot;$imgpath/$debianlive&quot; ]; then</span><br><span class="line">  menuentry &quot;Debian LiveCD ISO&quot; {</span><br><span class="line">    set isofile=&quot;$imgpath/$debianlive&quot;</span><br><span class="line">    loopback loop ($imgdev)$isofile</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;Debian LiveCD ...&apos;</span><br><span class="line">    linux (loop)/live/vmlinuz boot=live config findiso=$isofile noeject noprompt locales=zh_CN.UTF-8 --</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;&#x521D;&#x59CB;&#x5316;&#x5185;&#x5B58;&#x76D8; ...&apos;</span><br><span class="line">    initrd (loop)/live/initrd.img</span><br><span class="line">  }</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -f &quot;$imgpath/$centosdvd&quot; ]; then</span><br><span class="line">  menuentry &quot;CentOS DVD ISO&quot; {</span><br><span class="line">    loopback loop &quot;$imgpath/$centosdvd&quot;</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;CentOS DVD ...&apos;</span><br><span class="line">    linux (loop)/isolinux/vmlinuz inst.stage2=hd:UUID=$rootuuid:/$isofile inst.lang=zh_CN.UTF-8 rhgb</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;&#x521D;&#x59CB;&#x5316;&#x5185;&#x5B58;&#x76D8; ...&apos;</span><br><span class="line">    initrd (loop)/isolinux/initrd.img</span><br><span class="line">  }</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -f &quot;$imgpath/$centoslive&quot; ]; then</span><br><span class="line">  menuentry &quot;CentOS LiveCD ISO&quot; {</span><br><span class="line">    set isofile=&quot;$imgpath/$centoslive&quot;</span><br><span class="line">    loopback loop ($imgdev)$isofile</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;CentOS LiveCD ...&apos;</span><br><span class="line">    probe -l -s isolable (loop)</span><br><span class="line">    linux (loop)/isolinux/vmlinuz0 boot=isolinux root=live:LABEL=&quot;$isolable&quot; iso-scan/filename=$isofile rd.live.image LANG=zh_CN rd.locale.LANG=zh_CN rhgb</span><br><span class="line">    echo &apos;&#x8F7D;&#x5165;&#x521D;&#x59CB;&#x5316;&#x5185;&#x5B58;&#x76D8; ...&apos;</span><br><span class="line">    initrd (loop)/isolinux/initrd0.img</span><br><span class="line">  }</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">menuentry &apos;Reboot&apos; {</span><br><span class="line">  echo &apos;System reboot...&apos;</span><br><span class="line">  reboot</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">menuentry &apos;Poweroff&apos; {</span><br><span class="line">  echo &apos;System shutting down...&apos;</span><br><span class="line">  halt</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orga9d2ab1" class="outline-2"><h2 id="orga9d2ab1"><span class="section-number-2">4</span> &#x51C6;&#x5907;&#x7CFB;&#x7EDF;&#x955C;&#x50CF;</h2><div class="outline-text-2" id="text-4"><p>&#x4E3A;&#x4E86;&#x8BA9;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;Qemu&#x4E2D;&#x542F;&#x52A8;&#xFF0C;&#x6211;&#x5BF9;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x5206;&#x533A;&#x5E76;&#x6DFB;&#x52A0;&#x4E86;&#x517C;&#x5BB9;UEFI&#x548C;BIOS&#x542F;&#x52A8;&#x7684;Boot Loader&#xFF0C;&#x56E0;&#x4E3A;Qemu&#x652F;&#x6301;-kernel&#x548C;-initrd&#x53C2;&#x6570;&#x52A0;&#x8F7D;&#x5185;&#x6838;&#xFF0C;&#x6240;&#x4EE5;Linux&#x955C;&#x50CF;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0D;&#x5206;&#x533A;&#x76F4;&#x63A5;&#x4F7F;&#x7528;LVM&#x7BA1;&#x7406;&#x6574;&#x4E2A;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#xFF0C;&#x5173;&#x4E8E;Linux&#x955C;&#x50CF;&#x7684;&#x4E24;&#x79CD;&#x5236;&#x4F5C;&#x65B9;&#x6CD5;&#x6211;&#x90FD;&#x8BB0;&#x5F55;&#x4E0B;&#x6765;&#x4E86;&#x3002;&#x4E3A;&#x4E86;&#x517C;&#x5BB9;Windows&#x7CFB;&#x7EDF;&#xFF0C;&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#x6240;&#x5728;&#x7684;&#x5206;&#x533A;&#x91C7;&#x7528;&#x7684;&#x662F;NTFS&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x683C;&#x5F0F;&#xFF0C;Debian&#x9700;&#x8981;&#x5B89;&#x88C5;ntfs-3g&#x4EE5;&#x652F;&#x6301;ntfs&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x683C;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5207;&#x6362;&#x5230;shell&#xFF0C;chroot&#x5230;&#x5B89;&#x88C5;&#x597D;&#x7CFB;&#x7EDF;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x5B89;&#x88C5;ntfs-3g&#x4EE5;&#x53CA;&#x4FEE;&#x6539;Ramdisk&#x7684;&#x6302;&#x8F7D;&#x811A;&#x672C;&#xFF0C;&#x4F7F;&#x5F97;&#x5185;&#x6838;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x6267;&#x884C;&#x73AF;&#x5883;&#x4E2D;&#x6B63;&#x786E;&#x6302;&#x8F7D;&#x5206;&#x533A;&#x548C;&#x6839;&#x76EE;&#x5F55;&#x3002;Debian&#x955C;&#x50CF;&#x9700;&#x8981;&#x5728;&#x865A;&#x62DF;&#x673A;&#x548C;&#x771F;&#x673A;&#x4E0A;&#x4E24;&#x79CD;&#x73AF;&#x5883;&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x73AF;&#x5883;&#x9700;&#x8981;&#x4E0D;&#x540C;&#x7684;&#x6302;&#x8F7D;&#x89C4;&#x5219;&#xFF0C;&#x9700;&#x8981;&#x4FEE;&#x6539;Ramdisk&#x4E2D;&#x7684;&#x6302;&#x8F7D;&#x811A;&#x672C;&#x4EE5;&#x63D0;&#x4F9B;&#x76F8;&#x5E94;&#x7684;&#x652F;&#x6301;&#x3002;&#x7528;&#x865A;&#x62DF;&#x673A;&#x6D4B;&#x8BD5;&#x542F;&#x52A8;&#x76D8;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x4F5C;&#x4E3A;&#x865A;&#x62DF;&#x673A;&#x7684;&#x865A;&#x62DF;&#x673A;&#x786C;&#x76D8;&#xFF0C;&#x5148;&#x628A;&#x7CFB;&#x7EDF;&#x5B89;&#x88C5;&#x548C;&#x8C03;&#x8BD5;&#x597D;&#xFF0C;&#x518D;&#x653E;&#x5230;&#x79FB;&#x52A8;&#x786C;&#x76D8;&#x4E2D;&#x6D4B;&#x8BD5;&#xFF0C;Qemu&#x4E5F;&#x5F88;&#x5BB9;&#x6613;&#x914D;&#x7F6E;USB Passthrough&#x6765;&#x6D4B;&#x8BD5;&#x542F;&#x52A8;&#x76D8;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x771F;&#x673A;&#x4E0A;&#x4E0D;&#x65AD;&#x91CD;&#x542F;&#x6765;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;&#x524D;&#x6587;&#x811A;&#x672C;&#x3002;</p><p>&#x521A;&#x5F00;&#x59CB;&#x5E76;&#x6CA1;&#x6709;&#x6253;&#x7B97;&#x5B89;&#x88C5;Gnome 3&#x4F5C;&#x4E3A;&#x684C;&#x9762;&#x73AF;&#x5883;&#x7684;&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528;&#x8F7B;&#x91CF;&#x7684;i3&#x7A97;&#x53E3;&#x7BA1;&#x7406;&#x5668;&#x3002; Gnome 3&#x7684;&#x597D;&#x5904;&#x662F;&#x5F00;&#x7BB1;&#x5373;&#x7528;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x82B1;&#x8D39;&#x592A;&#x591A;&#x7684;&#x65F6;&#x95F4;&#x53BB;&#x914D;&#x7F6E;&#x7CFB;&#x7EDF;&#xFF0C;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x4E0B;&#x53BB;&#x5C31;&#x6709;&#x4E00;&#x4E2A;&#x8212;&#x9002;&#x7684;&#x684C;&#x9762;&#x73AF;&#x5883;&#xFF0C;5G&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x88C5;&#x5B8C;Gnome 3&#x5C31;&#x6240;&#x5269;&#x65E0;&#x51E0;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x589E;&#x52A0;&#x955C;&#x50CF;&#x7684;&#x5BB9;&#x91CF;&#xFF0C;&#x7528;LVM&#x7BA1;&#x7406;&#x5206;&#x533A;&#x7684;&#x597D;&#x5904;&#x5C31;&#x662F;&#x6269;&#x5C55;&#x5BB9;&#x91CF;&#x4F1A;&#x65B9;&#x4FBF;&#x4E00;&#x70B9;&#xFF0C;&#x4E0D;&#x7528;LVM&#x7BA1;&#x7406;&#x5206;&#x533A;&#xFF0C;&#x7528;&#x56FE;&#x5F62;&#x5316;&#x7684;gparted&#x5206;&#x533A;&#x6269;&#x5BB9;&#x4E5F;&#x662F;&#x4EF6;&#x5F88;&#x5BB9;&#x6613;&#x7684;&#x4E8B;&#x60C5;&#x3002;</p></div><div id="outline-container-org02896be" class="outline-3"><h3 id="org02896be"><span class="section-number-3">4.1</span> &#x6DFB;&#x52A0;loop&#x548C;nbd&#x5185;&#x6838;&#x6A21;&#x5757;</h3><div class="outline-text-3" id="text-4-1"><p>raw&#x683C;&#x5F0F;&#x7684;&#x955C;&#x50CF;&#x53EF;&#x4EE5;&#x7528;loop&#x5185;&#x6838;&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;nbd&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#xFF0C;nbd&#x6A21;&#x5757;&#x652F;&#x6301;&#x5F88;&#x591A;&#x79CD;&#x955C;&#x50CF;&#x683C;&#x5F0F;&#xFF0C;&#x5982;&#x5E38;&#x89C1;&#x7684;vhd(x)&#x3001;vmdk&#x3001;vdi&#x3001;qcow2&#x7B49;&#x7B49;&#xFF0C;&#x6240;&#x652F;&#x6301;&#x683C;&#x5F0F;&#x7684;&#x8BE6;&#x60C5;&#x53C2;&#x8003;qemu-nbd&#x6587;&#x6863;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># &#x5185;&#x6838;&#x4E2D;&#x6DFB;&#x52A0;nbd&#x548C;loop&#x5185;&#x6838;&#x6A21;&#x5757;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="operator">-e</span> <span class="string">&quot;nbd max_part=8\nloop max_part=8&quot;</span> | sudo tee <span class="operator">-a</span> /etc/initramfs-tools/modules</span><br><span class="line"><span class="comment"># &#x4E34;&#x65F6;&#x52A0;&#x8F7D;nbd&#x548C;loop&#x5185;&#x6838;&#x6A21;&#x5757;</span></span><br><span class="line">sudo rmmod nbd loop</span><br><span class="line">sudo modprobe nbd max_part=<span class="number">8</span></span><br><span class="line">sudo modprobe loop max_part=<span class="number">8</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org80d8bda" class="outline-3"><h3 id="org80d8bda"><span class="section-number-3">4.2</span> &#x5236;&#x4F5C;LVM&#x7BA1;&#x7406;&#x5206;&#x533A;&#x7684;Debian&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#xFF08;&#x9AD8;&#x7EA7;&#x505A;&#x6CD5;&#xFF09;</h3><div class="outline-text-3" id="text-4-2"><p>&#x8003;&#x8651;&#x5230;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x4EBA;&#x90FD;&#x4F7F;&#x7528;Linux&#x4F5C;&#x4E3A;&#x4E3B;&#x7CFB;&#x7EDF;&#xFF0C;&#x4F7F;&#x7528;macOS&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x521B;&#x5EFA;&#x903B;&#x8F91;&#x5377;&#x8FC7;&#x7A0B;&#x653E;&#x5230;Qemu&#x865A;&#x62DF;&#x673A;&#x5728;Boot CD&#x5F15;&#x5BFC;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#x6765;&#x8FDB;&#x884C;&#x3002;</p></div><div id="outline-container-orgdbd8664" class="outline-4"><h4 id="orgdbd8664"><span class="section-number-4">4.2.1</span> &#x5148;&#x51C6;&#x5907;&#x597D;&#x5185;&#x6838;Ramdisk&#x4E2D;&#x7684;&#x6302;&#x8F7D;&#x7684;&#x811A;&#x672C;</h4><div class="outline-text-4" id="text-4-2-1"><p>&#x5B89;&#x88C5;ntfs-3g&#x4E4B;&#x540E;&#xFF0C;&#x5185;&#x6838;&#x5F53;&#x4E2D;&#x5C31;&#x4F1A;&#x6DFB;&#x52A0;ntfs-3g&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x624B;&#x52A8;&#x6DFB;&#x52A0;ntfs-3g&#x6A21;&#x5757;&#xFF0C;&#x5185;&#x6838;&#x6302;&#x8F7D;&#x811A;&#x672C;&#x6267;&#x884C;&#x987A;&#x5E8F;&#x4F9D;&#x6B21;&#x4E3A;/etc/initramfs-tools/scripts/{local-top,local-premount,local-bottom}&#xFF0C;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x5728;local-top&#x548C;local-bottom&#x5206;&#x522B;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x811A;&#x672C;&#xFF0C;&#x524D;&#x8005;&#x7528;&#x4E8E;&#x6302;&#x8F7D;Debian&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#x6240;&#x5728;&#x7684;&#x6570;&#x636E;&#x5206;&#x533A;&#x548C;&#x6302;&#x8F7D;&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#xFF0C;&#x540E;&#x8005;&#x7528;&#x4E8E;&#x5728;&#x5185;&#x6838;switch_root&#x524D;&#xFF0C;&#x628A;&#x6570;&#x636E;&#x5206;&#x533A;&#x4EE5;&#x53EF;&#x8BFB;&#x5199;&#x7684;&#x65B9;&#x5F0F;&#x6302;&#x8F7D;&#x5230;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5426;&#x5219;switch_root&#x540E;&#xFF0C;&#x662F;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x90FD;&#x662F;&#x53EA;&#x8BFB;&#x7684;&#x3002;&#x5982;&#x679C;&#x52A0;&#x8F7D;&#x5185;&#x6838;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x51FA;&#x73B0;(initramfs)&#xFF0C;&#x8BF4;&#x660E;&#x6CA1;&#x6709;&#x6B63;&#x786E;&#x6302;&#x8F7D;&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#xFF0C;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x52A0;&#x8F7D;&#x5FC5;&#x8981;&#x7684;&#x5185;&#x6838;&#x6A21;&#x5757;&#x3001;&#x6302;&#x8F7D;&#x6570;&#x636E;&#x5206;&#x533A;&#x548C;losetup&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#x540E;&#xFF0C;&#x8F93;&#x5165;exit&#xFF0C;&#x5C31;&#x4F1A;&#x5185;&#x6838;&#x5C31;&#x4F1A;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x542F;&#x52A8;&#x6B65;&#x9AA4;&#x3002;&#x9700;&#x8981;&#x8C03;&#x8BD5;&#x811A;&#x672C;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;lvm-loops-finalize&#xFF0C;&#x6DFB;&#x52A0;&#x76F8;&#x5E94;&#x7684;log&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x4E24;&#x4E2A;&#x811A;&#x672C;&#x7684;&#x5199;&#x6CD5;&#x662F;&#x53C2;&#x8003;buddy-linux&#x9879;&#x76EE;&#x7684;&#x3002;&#x73B0;&#x5728;&#x5F53;&#x524D;shell&#x76EE;&#x5F55;&#x4E2D;&#x51C6;&#x5907;&#x597D;&#x811A;&#x672C;lvm-loops-setup&#x548C;lvm-loops-finalize&#xFF0C;&#x7CFB;&#x7EDF;&#x5B89;&#x88C5;&#x597D;&#x4E4B;&#x540E;&#xFF0C;&#x5206;&#x522B;&#x590D;&#x5236;&#x5230;/etc/initramfs-tools/scripts/{local-top,local-bottom}/&#x76EE;&#x5F55;&#x4E2D;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="shebang">#!/bin/sh</span></span><br><span class="line"><span class="comment"># /etc/initramfs-tools/scripts/local-top/lvm-loops-setup</span></span><br><span class="line">PREREQS=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment"># Output pre-requisites</span></span><br><span class="line"><span class="function"><span class="title">prereqs</span></span>()</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$PREREQ</span>&quot;</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">    prereqs)</span><br><span class="line">prereqs</span><br><span class="line"><span class="built_in">exit</span> <span class="number">0</span></span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line">HOSTDEV=<span class="string">&quot;&quot;</span></span><br><span class="line">ROOT=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment"># &#x63D0;&#x53D6;&#x5185;&#x6838;&#x542F;&#x52A8;&#x53C2;&#x6570;</span></span><br><span class="line"><span class="keyword">for</span> param <span class="keyword">in</span> $(cat /proc/cmdline); <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">case</span> <span class="variable">$param</span> <span class="keyword">in</span></span><br><span class="line">    hostdev=*)</span><br><span class="line">      HOSTDEV=/dev/disk/by-uuid/<span class="variable">${param#hostdev=}</span></span><br><span class="line">      ;;</span><br><span class="line">    root=*)</span><br><span class="line">      ROOT=<span class="variable">${param#root=}</span></span><br><span class="line">      ;</span><br><span class="line">  <span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment"># &#x901A;&#x8FC7;&#x4F20;&#x9012;&#x5185;&#x6838;&#x542F;&#x52A8;&#x53C2;&#x6570;hostdev&#x6765;&#x5224;&#x65AD;&#x955C;&#x50CF;&#x662F;&#x771F;&#x673A;&#x4E0A;&#x8FD0;&#x884C;&#xFF0C;&#x5426;&#x5219;&#x662F;&#x5728;&#x865A;&#x62DF;&#x673A;&#x4E0A;&#x8FD0;&#x884C;</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$HOSTDEV</span>&quot;</span> == <span class="string">&quot;&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line"><span class="comment"># &#x865A;&#x62DF;&#x673A;&#x4E2D;&#x901A;&#x8FC7;-append&#x53C2;&#x6570;&#x4F20;&#x9012;root=/dev/vg_system/lv_root&#x5185;&#x6838;&#x542F;&#x52A8;&#x53C2;&#x6570;</span></span><br><span class="line">  mount -t ext4 <span class="variable">$ROOT</span> /root</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="comment"># &#x52A0;&#x8F7D;&#x5FC5;&#x8981;&#x7684;&#x5185;&#x6838;&#x6A21;&#x5757;</span></span><br><span class="line">  modprobe usb_storage</span><br><span class="line">  modprobe sd_mod</span><br><span class="line">  modprobe fuse</span><br><span class="line">  modprobe loop</span><br><span class="line">  <span class="comment"># &#x5728;Ramdisk&#x6839;&#x76EE;&#x5F55;&#x4E2D;&#x6DFB;&#x52A0;host&#x6302;&#x8F7D;&#x70B9;</span></span><br><span class="line">  mkdir -p /host &amp;&amp; chmod <span class="number">755</span> /host</span><br><span class="line">  <span class="comment"># &#x7B49;&#x5F85;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x51FA;&#x73B0;&#x79FB;&#x52A8;&#x786C;&#x76D8;&#x7684;&#x8BBE;&#x5907;&#x6587;&#x4EF6;</span></span><br><span class="line">  until [ -b <span class="variable">$HOSTDEV</span> ]</span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">    sleep <span class="number">1</span></span><br><span class="line">  <span class="keyword">done</span></span><br><span class="line">  <span class="comment"># &#x6302;&#x8F7D;&#x4FDD;&#x5B58;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x7684;&#x5206;&#x533A;&#x5230;/host</span></span><br><span class="line">  mount -t ntfs-<span class="number">3</span>g <span class="variable">$HOSTDEV</span> /host</span><br><span class="line">  <span class="comment"># &#x8BBE;&#x7F6E;&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#x5230;&#x5FAA;&#x73AF;&#x8BBE;&#x5907;</span></span><br><span class="line">  losetup <span class="operator">-f</span> /host/image/debian_lvm_vg_system.img</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></div><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="shebang">#!/bin/sh </span></span><br><span class="line"><span class="comment"># /etc/initramfs-tools/scripts/local-top/lvm-loops-finalize</span></span><br><span class="line">PREREQS=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment"># Output pre-requisites</span></span><br><span class="line"><span class="function"><span class="title">prereqs</span></span>()</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$PREREQ</span>&quot;</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">    prereqs)</span><br><span class="line">prereqs</span><br><span class="line"><span class="built_in">exit</span> <span class="number">0</span></span><br><span class="line">;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line">HOSTDEV=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment"># &#x63D0;&#x53D6;&#x5185;&#x6838;&#x542F;&#x52A8;&#x53C2;&#x6570;</span></span><br><span class="line"><span class="keyword">for</span> param <span class="keyword">in</span> $(cat /proc/cmdline); <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">case</span> <span class="variable">$param</span> <span class="keyword">in</span></span><br><span class="line">hostdev=*)</span><br><span class="line">    HOSTDEV=/dev/disk/by-uuid/<span class="variable">${param#hostdev=}</span></span><br><span class="line">    ;;</span><br><span class="line">    <span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment"># &#x901A;&#x8FC7;&#x4F20;&#x9012;&#x5185;&#x6838;&#x542F;&#x52A8;&#x53C2;&#x6570;hostdev&#x6765;&#x5224;&#x65AD;&#x955C;&#x50CF;&#x662F;&#x771F;&#x673A;&#x4E0A;&#x8FD0;&#x884C;&#xFF0C;&#x5426;&#x5219;&#x662F;&#x5728;&#x865A;&#x62DF;&#x673A;&#x4E0A;&#x8FD0;&#x884C;</span></span><br><span class="line"><span class="keyword">if</span> [ ! -n <span class="string">&quot;<span class="variable">$HOSTDEV</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># &#x52A0;&#x8F7D;&#x5FC5;&#x8981;&#x7684;&#x5185;&#x6838;&#x6A21;&#x5757;</span></span><br><span class="line">    . /scripts/<span class="built_in">functions</span></span><br><span class="line"></span><br><span class="line">    MNT=/host</span><br><span class="line">    ROOT_MNT=<span class="variable">${rootmnt}</span><span class="variable">${MNT}</span></span><br><span class="line"></span><br><span class="line">    _<span class="built_in">log</span>_msg <span class="string">&quot;Moving LVM loops host device mount point from \&quot;<span class="variable">${MNT}</span>\&quot; to \&quot;<span class="variable">${ROOT_MNT}</span>\&quot;...\n&quot;</span></span><br><span class="line">    mount -o remount,rw <span class="variable">${rootmnt}</span> || panic <span class="string">&quot;Cannot remount \&quot;<span class="variable">${rootmnt}</span>\&quot; R/W.&quot;</span></span><br><span class="line"></span><br><span class="line">    [ <span class="operator">-d</span> <span class="variable">${ROOT_MNT}</span> ] || (mkdir -p <span class="variable">${ROOT_MNT}</span> &amp;&amp; chmod <span class="number">755</span> <span class="variable">${ROOT_MNT}</span>) || panic <span class="string">&quot;Cannot create \&quot;<span class="variable">${ROOT_MNT}</span>\&quot; mount point.&quot;</span></span><br><span class="line">    mount -n -o move <span class="variable">${MNT}</span> <span class="variable">${ROOT_MNT}</span> || panic <span class="string">&quot;Cannot move \&quot;<span class="variable">${MNT}</span>\&quot; to \&quot;<span class="variable">${ROOT_MNT}</span>\&quot;.&quot;</span></span><br><span class="line">    <span class="built_in">log</span>_end_msg <span class="string">&quot;Done&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org85d3fc1" class="outline-4"><h4 id="org85d3fc1"><span class="section-number-4">4.2.2</span> &#x521B;&#x5EFA;&#x955C;&#x50CF;&#x3001;&#x6302;&#x8F7D;&#x5206;&#x533A;&#x548C;&#x5B89;&#x88C5;&#x7CFB;&#x7EDF;</h4><div class="outline-text-4" id="text-4-2-2"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="operator">-s</span></span><br><span class="line">LOOP_FILE=debian_lvm.img</span><br><span class="line"><span class="comment"># &#x521B;&#x5EFA;raw&#x683C;&#x5F0F;&#x78C1;&#x76D8;&#x955C;&#x50CF;</span></span><br><span class="line">qemu-img create <span class="operator">-f</span> raw <span class="variable">${LOOP_FILE}</span> <span class="number">5</span>G</span><br><span class="line"><span class="comment"># --- Linux &#x73AF;&#x5883;&#x4E0B; ------</span></span><br><span class="line"><span class="comment"># &#x5982;&#x679C;&#x5728;macOS&#x4E0B;&#x53EF;&#x4EE5;&#x628A;&#x8FD9;&#x4E00;&#x6B65;&#x653E;&#x5728;&#x542F;&#x52A8;&#x865A;&#x62DF;&#x673A;&#x540E;</span></span><br><span class="line">LOOP_DEV=`losetup <span class="operator">-f</span>`</span><br><span class="line">LVM_VG=vg_system</span><br><span class="line">LVM_LV_ROOT=lv_root</span><br><span class="line"><span class="comment"># &#x8BBE;&#x7F6E;&#x5FAA;&#x73AF;&#x8BBE;&#x5907;</span></span><br><span class="line">losetup <span class="variable">${LOOP_DEV}</span> <span class="variable">${LOOP_FILE}</span></span><br><span class="line"><span class="comment"># &#x521D;&#x59CB;&#x5316;&#x7269;&#x7406;&#x5377;</span></span><br><span class="line">pvcreate -v <span class="variable">${LOOP_DEV}</span></span><br><span class="line"><span class="comment"># &#x521B;&#x5EFA;&#x5377;&#x7EC4;</span></span><br><span class="line">vgcreate -v <span class="variable">${LVM_VG}</span> <span class="variable">${LOOP_DEV}</span></span><br><span class="line"><span class="comment"># &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x903B;&#x8F91;&#x5377;</span></span><br><span class="line">lvcreate -v <span class="operator">-l</span> <span class="number">100</span>%FREE -n <span class="variable">${LVM_LV_ROOT}</span> <span class="variable">${LVM_VG}</span></span><br><span class="line"><span class="comment">#------------------------</span></span><br><span class="line">wget http://mirrors.<span class="number">163</span>.com/debian-cd/<span class="number">9.4</span>.<span class="number">0</span>/amd64/iso-cd/debian-<span class="number">9.4</span>.<span class="number">0</span>-amd64-netinst.iso</span><br><span class="line"><span class="comment"># &#x5185;&#x6838;Ramdisk&#x7684;&#x6839;&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x811A;&#x672C;</span></span><br><span class="line">cat &gt; bootup &lt;&lt;EOF</span><br><span class="line"><span class="shebang">#!/bin/sh</span></span><br><span class="line">PREREQ=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="function"><span class="title">prereqs</span></span>()</span><br><span class="line">{</span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$PREREQ</span>&quot;</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line">prereqs)</span><br><span class="line">    prereqs</span><br><span class="line">    <span class="built_in">exit</span> <span class="number">0</span></span><br><span class="line">;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line">mount -t ext4 /dev/vg_system/lv_root /root</span><br><span class="line">EOF</span><br><span class="line">chmod +x bootup</span><br><span class="line"><span class="comment"># &#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x865A;&#x62DF;&#x673A;&#x7684;&#x6027;&#x80FD;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x53C2;&#x6570;-M accel=hvf(macOS) &#x6216; accel=kvm(Linux)</span></span><br><span class="line"><span class="comment"># &#x5982;&#x679C;macOS&#x4E0B;&#x7684;accel=hvf&#x65E0;&#x6548;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x7F16;&#x8BD1;qemu</span></span><br><span class="line">qemu-system-x86_64 -m <span class="number">512</span> -M accel=hvf -boot order=d -hda debian_lvm.img -cdrom debian-<span class="number">9.4</span>.<span class="number">0</span>-amd64-netinst.iso</span><br><span class="line"><span class="comment"># &#x5F53;&#x5B89;&#x88C5;&#x8FDB;&#x5EA6;&#x5230;Partition disks&#xFF0C;&#x6309;2&#x6B21;ESC&#x8FD4;&#x56DE;Debian installer menu&#xFF0C;&#x9009;&#x62E9;Excute a shell&#xFF0C;&#x8FDB;&#x5165;Busybox ash shell</span></span><br><span class="line">DEV=/dev/sda</span><br><span class="line">LVM_VG=vg_system</span><br><span class="line">LVM_LV_ROOT=lv_root</span><br><span class="line">pvcreate -v <span class="variable">${DEV}</span></span><br><span class="line">vgcreate -v <span class="variable">${LVM_VG}</span> <span class="variable">${DEV}</span></span><br><span class="line">lvcreate -v <span class="operator">-l</span> <span class="number">100</span>%FREE -n <span class="variable">${LVM_LV_ROOT}</span> <span class="variable">${LVM_VG}</span></span><br><span class="line"><span class="comment"># &#x5F53;&#x5B89;&#x88C5;&#x8FDB;&#x5EA6;&#x5230;Install the GRUB boot loader&#x65F6;&#xFF0C;&#x6309;2&#x6B21;ESC&#x4E2D;&#x65AD;&#x5B89;&#x88C5;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x8FDB;&#x5165;Debian installer main menu&#xFF0C;&#x9009;&#x62E9;Execute a shell&#xFF0C;&#x8FDB;&#x5165;busybox ash shell</span></span><br><span class="line">mount -t ext4 /dev/vg_system/lv_root /mnt</span><br><span class="line">mount --bind /dev/pts /mnt/dev/pts</span><br><span class="line">mount --bind /dev /mnt/dev</span><br><span class="line">mount --bind /proc /mnt/proc</span><br><span class="line">mount --bind /sys /mnt/sys</span><br><span class="line">chroot /mnt /bin/bash</span><br><span class="line">scp wing@<span class="number">10.0</span>.<span class="number">2.2</span>:bootup /etc/initramfs-tools/scripts/<span class="built_in">local</span>-top/</span><br><span class="line">mkinitramfs -o /initrd.new.img</span><br><span class="line">scp /qemu.initrd.img wing@<span class="number">10.0</span>.<span class="number">2.2</span>:</span><br><span class="line">scp /vmlinuz wing@<span class="number">10.0</span>.<span class="number">2.2</span>:</span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">poweroff</span><br><span class="line">qemu-system-x86_64 -m <span class="number">512</span> -M accel=hvf -hda debian_lvm.img -kernel vmlinuz -initrd qemu.initrd.img</span><br><span class="line"></span><br><span class="line">mkdir initrd</span><br><span class="line"><span class="built_in">cd</span> initrd</span><br><span class="line">cpio -ivmd  &lt; ../initrd.img</span><br><span class="line">find . | cpio -o -H newc | gzip &gt; ../initrd.new.img </span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org601d479" class="outline-4"><h4 id="org601d479"><span class="section-number-4">4.2.3</span> &#x8C03;&#x6574;&#x955C;&#x50CF;&#x5BB9;&#x91CF;</h4><div class="outline-text-4" id="text-4-2-3"><p>&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x9700;&#x8981;&#x5728;Linux&#x73AF;&#x5883;&#x4E0B;&#x6267;&#x884C;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo losetup <span class="operator">-f</span> debian.img</span><br><span class="line">sudo pvresize /dev/loop0</span><br><span class="line">sudo lvextend <span class="operator">-l</span> <span class="number">100</span>%FREE /dev/vg_system/lv_root</span><br><span class="line">Sudo resize2fs /dev/vg_system/lv_root</span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-orge353067" class="outline-3"><h3 id="orge353067"><span class="section-number-3">4.3</span> &#x5236;&#x4F5C;&#x666E;&#x901A;&#x5206;&#x533A;&#x7684;Debian&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#xFF08;&#x4E00;&#x822C;&#x505A;&#x6CD5;&#xFF09;</h3><div class="outline-text-3" id="text-4-3"></div><div id="outline-container-orgaa15709" class="outline-4"><h4 id="orgaa15709"><span class="section-number-4">4.3.1</span> &#x5148;&#x51C6;&#x5907;&#x597D;&#x5185;&#x6838;Ramdisk&#x4E2D;&#x7684;&#x6302;&#x8F7D;&#x7684;&#x811A;&#x672C;</h4><div class="outline-text-4" id="text-4-3-1"><p>&#x5B89;&#x88C5;ntfs-3g&#x4E4B;&#x540E;&#xFF0C;&#x5185;&#x6838;&#x5F53;&#x4E2D;&#x5C31;&#x4F1A;&#x6DFB;&#x52A0;ntfs-3g&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x624B;&#x52A8;&#x6DFB;&#x52A0;ntfs-3g&#x6A21;&#x5757;&#xFF0C;&#x5185;&#x6838;&#x6302;&#x8F7D;&#x811A;&#x672C;&#x6267;&#x884C;&#x987A;&#x5E8F;&#x4F9D;&#x6B21;&#x4E3A;/etc/initramfs-tools/scripts/{local-top,local-premount,local-bottom}&#xFF0C;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x5728;local-top&#x548C;local-bottom&#x5206;&#x522B;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x811A;&#x672C;&#xFF0C;&#x524D;&#x8005;&#x7528;&#x4E8E;&#x6302;&#x8F7D;Debian&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#x6240;&#x5728;&#x7684;&#x6570;&#x636E;&#x5206;&#x533A;&#x548C;&#x6302;&#x8F7D;&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#xFF0C;&#x540E;&#x8005;&#x7528;&#x4E8E;&#x5728;&#x5185;&#x6838;switch_root&#x524D;&#xFF0C;&#x628A;&#x6570;&#x636E;&#x5206;&#x533A;&#x4EE5;&#x53EF;&#x8BFB;&#x5199;&#x7684;&#x65B9;&#x5F0F;&#x6302;&#x8F7D;&#x5230;&#x6839;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5426;&#x5219;switch_root&#x540E;&#xFF0C;&#x662F;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x90FD;&#x662F;&#x53EA;&#x8BFB;&#x7684;&#x3002;&#x5982;&#x679C;&#x52A0;&#x8F7D;&#x5185;&#x6838;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x51FA;&#x73B0;(initramfs)&#xFF0C;&#x8BF4;&#x660E;&#x6CA1;&#x6709;&#x6B63;&#x786E;&#x6302;&#x8F7D;&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#xFF0C;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x52A0;&#x8F7D;&#x5FC5;&#x8981;&#x7684;&#x5185;&#x6838;&#x6A21;&#x5757;&#x3001;&#x6302;&#x8F7D;&#x6570;&#x636E;&#x5206;&#x533A;&#x548C;losetup&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#x540E;&#xFF0C;&#x8F93;&#x5165;exit&#xFF0C;&#x5C31;&#x4F1A;&#x5185;&#x6838;&#x5C31;&#x4F1A;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x542F;&#x52A8;&#x6B65;&#x9AA4;&#x3002;&#x9700;&#x8981;&#x8C03;&#x8BD5;&#x811A;&#x672C;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;lvm-loops-finalize&#xFF0C;&#x6DFB;&#x52A0;&#x76F8;&#x5E94;&#x7684;log&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x4E24;&#x4E2A;&#x811A;&#x672C;&#x7684;&#x5199;&#x6CD5;&#x662F;&#x53C2;&#x8003;buddy-linux&#x9879;&#x76EE;&#x7684;&#x3002;&#x73B0;&#x5728;&#x5F53;&#x524D;shell&#x76EE;&#x5F55;&#x4E2D;&#x51C6;&#x5907;&#x597D;&#x811A;&#x672C;lvm-loops-setup&#x548C;lvm-loops-finalize&#xFF0C;&#x7CFB;&#x7EDF;&#x5B89;&#x88C5;&#x597D;&#x4E4B;&#x540E;&#xFF0C;&#x5206;&#x522B;&#x590D;&#x5236;&#x5230;/etc/initramfs-tools/scripts/{local-top,local-bottom}/&#x76EE;&#x5F55;&#x4E2D;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="shebang">#!/bin/sh</span></span><br><span class="line"><span class="comment"># /etc/initramfs-tools/scripts/local-top/lvm-loops-setup</span></span><br><span class="line">PREREQS=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment"># Output pre-requisites</span></span><br><span class="line"><span class="function"><span class="title">prereqs</span></span>()</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$PREREQ</span>&quot;</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">    prereqs)</span><br><span class="line">prereqs</span><br><span class="line"><span class="built_in">exit</span> <span class="number">0</span></span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line">HOSTDEV=<span class="string">&quot;&quot;</span></span><br><span class="line">ROOT=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment"># &#x63D0;&#x53D6;&#x5185;&#x6838;&#x542F;&#x52A8;&#x53C2;&#x6570;</span></span><br><span class="line"><span class="keyword">for</span> param <span class="keyword">in</span> $(cat /proc/cmdline); <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">case</span> <span class="variable">$param</span> <span class="keyword">in</span></span><br><span class="line">    hostdev=*)</span><br><span class="line">      HOSTDEV=/dev/disk/by-uuid/<span class="variable">${param#hostdev=}</span></span><br><span class="line">      ;;</span><br><span class="line">    root=*)</span><br><span class="line">      ROOT=<span class="variable">${param#root=}</span></span><br><span class="line">      ;</span><br><span class="line">  <span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment"># &#x901A;&#x8FC7;&#x4F20;&#x9012;&#x5185;&#x6838;&#x542F;&#x52A8;&#x53C2;&#x6570;hostdev&#x6765;&#x5224;&#x65AD;&#x955C;&#x50CF;&#x662F;&#x771F;&#x673A;&#x4E0A;&#x8FD0;&#x884C;&#xFF0C;&#x5426;&#x5219;&#x662F;&#x5728;&#x865A;&#x62DF;&#x673A;&#x4E0A;&#x8FD0;&#x884C;</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$HOSTDEV</span>&quot;</span> == <span class="string">&quot;&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line"><span class="comment"># &#x865A;&#x62DF;&#x673A;&#x4E2D;&#x901A;&#x8FC7;-append&#x53C2;&#x6570;&#x4F20;&#x9012;root=/dev/vg_system/lv_root&#x5185;&#x6838;&#x542F;&#x52A8;&#x53C2;&#x6570;</span></span><br><span class="line">  mount -t ext4 <span class="variable">$ROOT</span> /root</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="comment"># &#x52A0;&#x8F7D;&#x5FC5;&#x8981;&#x7684;&#x5185;&#x6838;&#x6A21;&#x5757;</span></span><br><span class="line">  modprobe usb_storage</span><br><span class="line">  modprobe sd_mod</span><br><span class="line">  modprobe fuse</span><br><span class="line">  modprobe loop</span><br><span class="line">  <span class="comment"># &#x5728;Ramdisk&#x6839;&#x76EE;&#x5F55;&#x4E2D;&#x6DFB;&#x52A0;host&#x6302;&#x8F7D;&#x70B9;</span></span><br><span class="line">  mkdir -p /host &amp;&amp; chmod <span class="number">755</span> /host</span><br><span class="line">  <span class="comment"># &#x7B49;&#x5F85;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x51FA;&#x73B0;&#x79FB;&#x52A8;&#x786C;&#x76D8;&#x7684;&#x8BBE;&#x5907;&#x6587;&#x4EF6;</span></span><br><span class="line">  until [ -b <span class="variable">$HOSTDEV</span> ]</span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">    sleep <span class="number">1</span></span><br><span class="line">  <span class="keyword">done</span></span><br><span class="line">  <span class="comment"># &#x6302;&#x8F7D;&#x4FDD;&#x5B58;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x7684;&#x5206;&#x533A;&#x5230;/host</span></span><br><span class="line">  mount -t ntfs-<span class="number">3</span>g <span class="variable">$HOSTDEV</span> /host</span><br><span class="line">  <span class="comment"># &#x8BBE;&#x7F6E;&#x7CFB;&#x7EDF;&#x955C;&#x50CF;&#x5230;&#x5FAA;&#x73AF;&#x8BBE;&#x5907;</span></span><br><span class="line">  LOOPDEV=`losetup <span class="operator">-f</span>`</span><br><span class="line">  losetup <span class="operator">-f</span> /host/image/debian.img</span><br><span class="line">  mount -t ext4 <span class="variable">${LOOPDEV}</span>p3 /root</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></div><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="shebang">#!/bin/sh </span></span><br><span class="line"><span class="comment"># /etc/initramfs-tools/scripts/local-top/lvm-loops-finalize</span></span><br><span class="line">PREREQS=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment"># Output pre-requisites</span></span><br><span class="line"><span class="function"><span class="title">prereqs</span></span>()</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$PREREQ</span>&quot;</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">    prereqs)</span><br><span class="line">prereqs</span><br><span class="line"><span class="built_in">exit</span> <span class="number">0</span></span><br><span class="line">;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line">HOSTDEV=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment"># &#x63D0;&#x53D6;&#x5185;&#x6838;&#x542F;&#x52A8;&#x53C2;&#x6570;</span></span><br><span class="line"><span class="keyword">for</span> param <span class="keyword">in</span> $(cat /proc/cmdline); <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">case</span> <span class="variable">$param</span> <span class="keyword">in</span></span><br><span class="line">hostdev=*)</span><br><span class="line">    HOSTDEV=/dev/disk/by-uuid/<span class="variable">${param#hostdev=}</span></span><br><span class="line">    ;;</span><br><span class="line">    <span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment"># &#x901A;&#x8FC7;&#x4F20;&#x9012;&#x5185;&#x6838;&#x542F;&#x52A8;&#x53C2;&#x6570;hostdev&#x6765;&#x5224;&#x65AD;&#x955C;&#x50CF;&#x662F;&#x771F;&#x673A;&#x4E0A;&#x8FD0;&#x884C;&#xFF0C;&#x5426;&#x5219;&#x662F;&#x5728;&#x865A;&#x62DF;&#x673A;&#x4E0A;&#x8FD0;&#x884C;</span></span><br><span class="line"><span class="keyword">if</span> [ ! -n <span class="string">&quot;<span class="variable">$HOSTDEV</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># &#x52A0;&#x8F7D;&#x5FC5;&#x8981;&#x7684;&#x5185;&#x6838;&#x6A21;&#x5757;</span></span><br><span class="line">    . /scripts/<span class="built_in">functions</span></span><br><span class="line"></span><br><span class="line">    MNT=/host</span><br><span class="line">    ROOT_MNT=<span class="variable">${rootmnt}</span><span class="variable">${MNT}</span></span><br><span class="line"></span><br><span class="line">    _<span class="built_in">log</span>_msg <span class="string">&quot;Moving LVM loops host device mount point from \&quot;<span class="variable">${MNT}</span>\&quot; to \&quot;<span class="variable">${ROOT_MNT}</span>\&quot;...\n&quot;</span></span><br><span class="line">    mount -o remount,rw <span class="variable">${rootmnt}</span> || panic <span class="string">&quot;Cannot remount \&quot;<span class="variable">${rootmnt}</span>\&quot; R/W.&quot;</span></span><br><span class="line"></span><br><span class="line">    [ <span class="operator">-d</span> <span class="variable">${ROOT_MNT}</span> ] || (mkdir -p <span class="variable">${ROOT_MNT}</span> &amp;&amp; chmod <span class="number">755</span> <span class="variable">${ROOT_MNT}</span>) || panic <span class="string">&quot;Cannot create \&quot;<span class="variable">${ROOT_MNT}</span>\&quot; mount point.&quot;</span></span><br><span class="line">    mount -n -o move <span class="variable">${MNT}</span> <span class="variable">${ROOT_MNT}</span> || panic <span class="string">&quot;Cannot move \&quot;<span class="variable">${MNT}</span>\&quot; to \&quot;<span class="variable">${ROOT_MNT}</span>\&quot;.&quot;</span></span><br><span class="line">    <span class="built_in">log</span>_end_msg <span class="string">&quot;Done&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgc2e9beb" class="outline-4"><h4 id="orgc2e9beb"><span class="section-number-4">4.3.2</span> &#x521B;&#x5EFA;&#x955C;&#x50CF;&#x3001;&#x5206;&#x533A;&#x3001;&#x6302;&#x8F7D;&#x5206;&#x533A;&#x548C;&#x5B89;&#x88C5;&#x7CFB;&#x7EDF;</h4><div class="outline-text-4" id="text-4-3-2"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">qemu-img create <span class="operator">-f</span> raw debian.img <span class="number">5</span>g</span><br><span class="line">sudo <span class="operator">-s</span></span><br><span class="line">sudo losetup <span class="operator">-f</span> debian.img </span><br><span class="line"><span class="comment"># &#x5206;&#x533A;1 grub_bios &#x5206;&#x533A;2 ESP &#x5206;&#x533A;3 ext4</span></span><br><span class="line">sgdisk --clear -n <span class="number">0</span>::+<span class="number">1</span>m -t <span class="number">1</span>:ef02 -n <span class="number">0</span>::+<span class="number">100</span>m -t <span class="number">2</span>:ef00 -n <span class="number">0</span>:: -t <span class="number">3</span>:<span class="number">8300</span> -p /dev/loop0</span><br><span class="line">sudo mkfs.fat -F32 /dev/loop0p2</span><br><span class="line">sudo mkfs.ext4 /dev/loop0p3</span><br><span class="line">sudo mount /dev/loop0p3 /mnt</span><br><span class="line">sudo mkdir -p /mnt/boot</span><br><span class="line">sudo mount /dev/loop0p2 /mnt/boot</span><br><span class="line"><span class="comment"># grub2 &#x7684;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x4E5F;&#x53EF;&#x4EE5;&#x653E;&#x5230;chroot&#x4E4B;&#x540E;</span></span><br><span class="line"><span class="comment"># grub&#x5B89;&#x88C5;&#x5230;MBR</span></span><br><span class="line">sudo grub-install --target=i386-pc --recheck --boot-directory=/mnt/boot /dev/loop0</span><br><span class="line"><span class="comment"># grub&#x5B89;&#x88C5;&#x5230;ESP,&#x7279;&#x522B;&#x6CE8;&#x610F;--removable&#x53C2;&#x6570;&#xFF0C;&#x5B89;&#x88C5;&#x5230;&#x79FB;&#x52A8;&#x8BBE;&#x5907;&#x4E0A;&#x4E00;&#x5B9A;&#x8981;&#x7528;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;</span></span><br><span class="line">sudo grub-install --target=x86_64-efi --efi-directory=/mnt/boot --boot-directory=/mnt/boot </span><br><span class="line">sudo apt-get install debootstrap</span><br><span class="line"><span class="comment"># &#x5B89;&#x88C5;base system&#x5230;/mnt</span></span><br><span class="line">sudo debootstrap --verbose --components=main,contrib,non-free \</span><br><span class="line">    --include=linux-image-amd64,grub-pc-bin,grub-efi-amd64,ssh,vim \</span><br><span class="line">    --exclude=nano \</span><br><span class="line">    --arch amd64 stable /mnt http://mirrors.ustc.edu.cn/debian</span><br><span class="line"></span><br><span class="line">sudo mount --bind /dev/pts /mnt/dev/pts</span><br><span class="line">sudo mount --bind /dev /mnt/dev</span><br><span class="line">sudo mount --bind /proc /mnt/proc</span><br><span class="line">sudo mount --bind /sys /mnt/sys</span><br><span class="line">sudo chroot /mnt bash</span><br><span class="line"><span class="comment"># &#x5982;&#x679C;&#x4E0A;&#x9762;&#x6B65;&#x9AA4;&#x4E2D;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;grub&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x590D;&#x5B89;&#x88C5;&#x4E86;</span></span><br><span class="line"><span class="comment"># grub&#x5B89;&#x88C5;&#x5230;MBR</span></span><br><span class="line">grub-install --target=i386-pc --recheck --boot-directory=/boot /dev/loop0</span><br><span class="line"><span class="comment"># grub&#x5B89;&#x88C5;&#x5230;ESP,&#x7279;&#x522B;&#x6CE8;&#x610F;--removable&#x53C2;&#x6570;&#xFF0C;&#x5B89;&#x88C5;&#x5230;&#x79FB;&#x52A8;&#x8BBE;&#x5907;&#x4E0A;&#x4E00;&#x5B9A;&#x8981;&#x7528;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;</span></span><br><span class="line">grub-install --target=x86_64-efi --efi-directory=/boot --boot-directory=/boot </span><br><span class="line"><span class="comment"># &#x751F;&#x6210;&#x542F;&#x52A8;&#x83DC;&#x5355;</span></span><br><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br><span class="line">passwd root</span><br><span class="line"><span class="comment"># Qemu&#x4E2D;&#x4F7F;&#x7528;UEFI&#x542F;&#x52A8;&#xFF0C;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x81EA;&#x52A8;&#x542F;&#x52A8;&#x811A;&#x672C;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;\EFI\debian\grubx64.efi&quot;</span> &gt; /boot/startup.nsh</span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;fstab</span></span><br><span class="line">blkid | awk <span class="string">&apos;$1 ~ /loop0p2/{print $2&quot; /boot vfat defaults,noatime 0 2&quot;} $1 ~ /loop0p3/{print $2&quot; / ext4 defaults 0 1&quot;}&apos;</span> &gt; /etc/fstab</span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span></span><br><span class="line">cat &gt; /etc/network/interfaces &lt;&lt;EOF</span><br><span class="line">auto lo</span><br><span class="line">iface lo inet loopback</span><br><span class="line"></span><br><span class="line">allow-hotplug ens3</span><br><span class="line">iface ens3 inet dhcp</span><br><span class="line">EOF</span><br><span class="line"><span class="comment"># &#x66F4;&#x65B0;&#x5185;&#x6838;Ramdisk</span></span><br><span class="line">update-initramfs -uvt</span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">sudo umount /mnt/dev</span><br><span class="line">sudo umount /mnt/dev/pts</span><br><span class="line">sudo umount /mnt/proc</span><br><span class="line">sudo umount /mnt/sys</span><br><span class="line">sudo umount /mnt/boot</span><br><span class="line">sudo umount /mnt</span><br><span class="line">sudo losetup <span class="operator">-d</span> /dev/loop0</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgb7f480d" class="outline-4"><h4 id="orgb7f480d"><span class="section-number-4">4.3.3</span> &#x8C03;&#x6574;&#x955C;&#x50CF;&#x5BB9;&#x91CF;</h4><div class="outline-text-4" id="text-4-3-3"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">qemu-img resize <span class="operator">-f</span> raw debian.img +<span class="number">1</span>G</span><br><span class="line">sudo losetup <span class="operator">-f</span> debian.img</span><br><span class="line">sudo gparted /dev/loop0</span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org5bcf93b" class="outline-3"><h3 id="org5bcf93b"><span class="section-number-3">4.4</span> &#x5236;&#x4F5C;&#x517C;&#x5BB9;UEFI&#x548C;BIOS&#x542F;&#x52A8;&#x7684;Windows 10&#x7CFB;&#x7EDF;&#x955C;&#x50CF;</h3><div class="outline-text-3" id="text-4-4"><p>Windows 10&#x7684;&#x5236;&#x4F5C;&#x8FC7;&#x7A0B;&#x76F8;&#x5BF9;&#x7B80;&#x5355;&#xFF0C;&#x5374;&#x662F;&#x82B1;&#x4E86;&#x6700;&#x591A;&#x7684;&#x65F6;&#x95F4;&#x7684;&#x624D;&#x603B;&#x7ED3;&#x51FA;&#x6765;&#x7684;&#xFF0C;Windows&#x6240;&#x6709;&#x7684;&#x5DE5;&#x5177;&#x90FD;&#x662F;&#x95ED;&#x6E90;&#x7684;&#xFF0C;&#x53EA;&#x80FD;&#x6548;&#x4EFF;&#x522B;&#x4EBA;&#x535A;&#x5BA2;&#x5F53;&#x4E2D;&#x7684;&#x7528;&#x6CD5;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">diskpart</span><br><span class="line"><span class="comment"># &#x6302;&#x8F7D;win10&#x955C;&#x50CF;</span></span><br><span class="line">select vdisk file=e:\image\win10.vhd</span><br><span class="line">attach vdisk</span><br><span class="line"><span class="comment"># &#x521B;&#x5EFA;&#x5E76;&#x6302;&#x8F7D;bootmgr&#x955C;&#x50CF;</span></span><br><span class="line">create vdisk file=c:\bootmgr.vhd maximum=<span class="number">32</span> <span class="built_in">type</span>=fixed</span><br><span class="line">attach vdisk</span><br><span class="line"><span class="comment"># &#x521B;&#x5EFA;&#x4E3B;&#x5206;&#x533A;</span></span><br><span class="line">create partition primary offset=<span class="number">102410</span></span><br><span class="line">active</span><br><span class="line">format label=bootmgr quick</span><br><span class="line">assign letter=b</span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;nt60 mbr&#x5F15;&#x5BFC;</span></span><br><span class="line">bootsect /nt60 b: /mbr</span><br><span class="line">bcdboot g:\windows /s b: /f BIOS</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x7528;bootice &#x4FEE;&#x590D;bcd&#x6587;&#x4EF6;&#x6216;&#x8005;&#x7528;&#x4E0B;&#x4E00;&#x6B65;&#x4EA7;&#x751F;&#x7684;BCD&#x6587;&#x4EF6;(s:/EFI/Microsoft/Boot/BCD)&#x8986;&#x76D6;b:/Boot/BCD</span></span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">Setlocal</span><br><span class="line">Set BCDEDIT=C:\Windows\System32\bcdedit.exe</span><br><span class="line">Set STORE=C:\Boot\BCD</span><br><span class="line"><span class="keyword">for</span> /f <span class="string">&quot;tokens=3&quot;</span> %%A <span class="keyword">in</span> (<span class="string">&apos;%BCDEDIT% /store %STORE% /create /d &quot;Start GRUB2&quot; /application bootsector&apos;</span>) <span class="keyword">do</span> <span class="built_in">set</span> guid=%%A</span><br><span class="line">%BCDEDIT% /store %STORE% /<span class="built_in">set</span> %guid% device boot</span><br><span class="line">%BCDEDIT% /store %STORE% /<span class="built_in">set</span> %guid% path \Boot\grub\i386-pc\boot.img</span><br><span class="line">%BCDEDIT% /store %STORE% /displayorder %guid% /addlast</span><br><span class="line">endlocal</span><br><span class="line"><span class="comment"># win10.vhd&#x955C;&#x50CF;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6DFB;&#x52A0;&#x5230;bootmgr&#x4E2D;</span></span><br><span class="line">diskpart</span><br><span class="line">select vdisk file=D:\image\win10.vhd</span><br><span class="line">attach vdisk</span><br><span class="line">select partition <span class="number">3</span></span><br><span class="line">assign letter=v</span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;BIOS&#x542F;&#x52A8;&#x9879;</span></span><br><span class="line"><span class="comment"># win7&#x4E2D;&#x7684;bcdboot &#x6CA1;&#x6709;/f&#x53C2;&#x6570;</span></span><br><span class="line">bcdboot /s v:\windows c: /l zh-cn /f BIOS</span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;EFI&#x542F;&#x52A8;&#x9879;</span></span><br><span class="line">bcdboot /s v:\windows c: /l zh-cn /f UEFI </span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org03e9550" class="outline-2"><h2 id="org03e9550"><span class="section-number-2">5</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;</h2><div class="outline-text-2" id="text-5"><ol class="org-ol"><li><a href="https://github.com/qemu/qemu/blob/master/docs/usb2.txt" target="_blank" rel="noopener">&#x914D;&#x7F6E;USB&#x63A7;&#x5236;&#x5668;&#x7684;&#x5B98;&#x65B9;&#x8BF4;&#x660E;&#x6587;&#x6863;</a></li><li><a href="http://www.cnblogs.com/popsuper1982/p/3830600.html" target="_blank" rel="noopener">QEMU KVM Libvirt&#x624B;&#x518C;(6) &#x2013; Network Block Device</a></li><li><a href="https://en.wikipedia.org/wiki/BIOS_boot_partition" target="_blank" rel="noopener">BIOS boot partition</a></li><li><a href="http://wiki.ninux.org/Hybrid_UEFI_MBR_USB_Drive" target="_blank" rel="noopener">Hybrid_UEFI_MBR_USB_Drive</a></li><li><a href="http://www.slivermetal.org/2016/09/18/how-to-create-an-hybrid-uefi-gpt-bios-gptmbr-boot-usb-disk/" target="_blank" rel="noopener">How to create an Hybrid UEFI GPT + BIOS GPT/MBR boot USB disk</a></li><li><a href="https://my.oschina.net/abcfy2/blog/491140" target="_blank" rel="noopener">U&#x76D8;&#x5F15;&#x5BFC;&#x591A;&#x4E2A;linux&#x955C;&#x50CF;&#x5B89;&#x88C5;,&#x540C;&#x65F6;&#x652F;&#x6301;BIOS&#x548C;UEFI&#x6A21;&#x5F0F;</a></li><li><a href="https://github.com/antonio-petricca/buddy-linux" target="_blank" rel="noopener">Like &quot;Wubi Ubuntu Installer&quot; Project</a></li><li><a href="https://wzyboy.im/post/1049.html" target="_blank" rel="noopener">BIOS + GPT + GRUB + Linux + Windows &#x6298;&#x817E;&#x7B14;&#x8BB0;</a></li><li><a href="https://delbertbeta.cc/2018/02/13/playground-dual-boot-with-linux-and-windows/" target="_blank" rel="noopener">&#x7EE7;&#x7EED;&#x6298;&#x817E; - Dual Boot! &#x53EF;&#x79FB;&#x52A8;&#x7684; Windows &#x548C; Linux</a></li><li><a href="https://bbs.luobotou.org/thread-12540-1-1.html" target="_blank" rel="noopener">&#x4F7F;&#x7528;BOOTICE&#x4FEE;&#x590D;BCD&#x542F;&#x52A8;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</a></li><li><a href="https://blog.csdn.net/akeron/article/details/50072413" target="_blank" rel="noopener">Grub2&#x5F15;&#x5BFC;VHDX&#x4E2D;&#x7684;Windows</a></li><li><a href="http://devil-detail.blogspot.com/2016/05/installing-windows-10-bios-legacy-gpt-grub2.html" target="_blank" rel="noopener">Installing Windows 10 on a GPT disk with legacy BIOS and GRUB2</a></li><li><a href="https://bbs.luobotou.org/forum.php?mod=viewthread&amp;tid=8986&amp;extra=page%3D&amp;page=1" target="_blank" rel="noopener">WTG&#x7CFB;&#x7EDF;&#x5B9E;&#x73B0;UEFI&#x548C;&#x4F20;&#x7EDF;BIOS&#x53CC;&#x542F;&#x52A8;</a></li><li><a href="https://brainder.org/2011/11/29/installing-linux-in-a-file-in-an-ntfs-partition/" target="_blank" rel="noopener">Installing Linux in a file in an NTFS partition</a></li><li><a href="https://stackoverflow.com/questions/5881134/cannot-delete-device-dev-loop0" target="_blank" rel="noopener">Cannot delete device /dev/loop0</a></li></ol></div></div></div><div id="postamble" class="status">Last Updated 2018-05-07.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#org1482b10&quot;&gt;1
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>批量下载喜马拉雅的免费专辑</title>
    <link href="http://wing-ho.github.io/2017/08/09/%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD%E5%96%9C%E9%A9%AC%E6%8B%89%E9%9B%85%E7%9A%84%E5%85%8D%E8%B4%B9%E4%B8%93%E8%BE%91/"/>
    <id>http://wing-ho.github.io/2017/08/09/批量下载喜马拉雅的免费专辑/</id>
    <published>2017-08-09T00:00:00.000Z</published>
    <updated>2018-10-01T10:20:53.899Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><p>&#x73B0;&#x5728;&#x4F4F;&#x7684;&#x5730;&#x65B9;&#x79BB;&#x516C;&#x56ED;&#x5F88;&#x8FD1;&#xFF0C;&#x60F3;&#x91CD;&#x65B0;&#x62FE;&#x8D77;&#x8DD1;&#x6B65;&#x7684;&#x4E60;&#x60EF;&#xFF0C;&#x8DD1;&#x6B65;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x542C;&#x70B9;&#x4E1C;&#x897F;&#x603B;&#x89C9;&#x5F97;&#x5C11;&#x4E86;&#x70B9;&#x4EC0;&#x4E48;&#x4E1C;&#x897F;&#xFF0C;&#x5E26;&#x7740;&#x624B;&#x673A;&#x53BB;&#x8DD1;&#x6B65;&#x53C8;&#x89C9;&#x5F97;&#x592A;&#x91CD;&#x4E86;&#xFF0C;&#x628A;ipod shuffle&#x62FF;&#x53BB;&#x8DD1;&#x6B65;&#x521A;&#x597D;&#xFF0C;&#x4F46;&#x662F;&#x82F9;&#x679C;&#x8FD9;&#x4E2A;&#x8001;&#x53E4;&#x8463;mp3&#x64AD;&#x653E;&#x5668;&#x53EA;&#x652F;&#x6301;mp3&#x683C;&#x5F0F;&#xFF0C;&#x559C;&#x9A6C;&#x62C9;&#x96C5;&#x7684;&#x4E13;&#x8F91;&#x662F;m4a&#x683C;&#x5F0F;&#xFF0C;&#x9700;&#x8981;&#x7ECF;&#x8FC7;&#x8F6C;&#x7801;&#x624D;&#x80FD;&#x5B58;&#x8FDB;&#x64AD;&#x653E;&#x5668;&#x91CC;&#x9762;&#x3002;Windows&#x5E73;&#x53F0;&#x4E0B;&#x9664;&#x4E86;itunes&#xFF0C;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x6BD4;&#x8F83;&#x597D;&#x7684;&#x5BFC;&#x5165;&#x5DE5;&#x5177;&#xFF0C;Linux&#x5E73;&#x53F0;&#x4E0B;&#x6211;&#x4F7F;&#x7528;gtkpod&#xFF0C;&#x6BD4;&#x5B98;&#x65B9;&#x7684;itunes&#x7B80;&#x6D01;&#x5C0F;&#x5DE7;&#x591A;&#x4E86;&#x3002;&#x65E0;&#x8BBA;&#x54EA;&#x4E2A;&#x5E73;&#x53F0;&#x5BFC;&#x5165;&#x524D;&#x90FD;&#x9700;&#x8981;&#x8F6C;&#x7801;&#x4E3A;mp3&#xFF0C;&#x521A;&#x5F00;&#x59CB;&#x6211;&#x662F;&#x7528;faad&#x548C;lame&#x7EC4;&#x5408;&#x6765;&#x8FDB;&#x884C;&#x8F6C;&#x7801;&#x7684;&#xFF0C;&#x5199;&#x8FD9;&#x4E2A;&#x4E0B;&#x8F7D;&#x811A;&#x672C;&#x65F6;&#xFF0C;&#x53D1;&#x73B0;ffmpeg&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#x66F4;&#x52A0;&#x9AD8;&#x6548;&#x3002;&#x4E0D;&#x901A;&#x8FC7;&#x7F16;&#x7A0B;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;windows 10&#x7684;&#x559C;&#x9A6C;&#x62C9;&#x96C5;fm&#x4E0B;&#x8F7D;&#x5230;&#x514D;&#x8D39;&#x4E13;&#x8F91;&#x7684;m4a&#x3002;</p><p>&#x6700;&#x5F00;&#x59CB;&#x6211;&#x662F;&#x4F7F;&#x7528;Win10&#x7684;&#x559C;&#x9A6C;&#x62C9;&#x96C5;fm&#x6765;&#x4E0B;&#x8F7D;&#x514D;&#x8D39;&#x4E13;&#x8F91;&#x7684;&#xFF0C;&#x7136;&#x540E;&#x7528;&#x7C7B;&#x4F3C;&#x4E0B;&#x9762;&#x7684;&#x811A;&#x672C;&#x8FDB;&#x884C;&#x683C;&#x5F0F;&#x8F6C;&#x6362;&#x3002;Win10&#x5B9E;&#x5728;&#x662F;&#x505A;&#x5F97;&#x592A;&#x70C2;&#x4E86;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;&#x4E3A;&#x4EC0;&#x4E48;&#x7ECF;&#x5E38;&#x65E0;&#x6545;&#x6B7B;&#x673A;&#xFF0C;&#x8FD8;&#x6CA1;&#x6709;&#x4F11;&#x6B62;&#x5730;&#x4E0B;&#x8F7D;&#x5DE8;&#x5927;&#x7684;&#x66F4;&#x65B0;&#x5305;&#xFF0C;&#x5B9E;&#x5728;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x5FCD;&#x53D7;&#x3002;</p><p>&#x5BF9;Linux&#x7CFB;&#x7EDF;&#x7684;&#x5B66;&#x4E60;&#xFF0C;&#x8BA9;&#x6211;&#x89C9;&#x5F97;&#x662F;&#x6700;&#x5212;&#x7B97;&#x7684;&#x6295;&#x8D44;&#xFF0C;&#x8FD9;&#x79CD;&#x6295;&#x8D44;&#x7684;&#x4EF7;&#x503C;&#x6162;&#x6162;&#x5730;&#x5F00;&#x59CB;&#x663E;&#x73B0;&#x51FA;&#x6765;&#x4E86;&#x3002;&#x7279;&#x522B;&#x662F;Emacs&#x8FD9;&#x4E2A;&#x795E;&#x5668;&#xFF0C;&#x786E;&#x5207;&#x5730;&#x8BB2;&#x5E94;&#x8BE5;&#x662F;org-mode&#xFF0C;&#x8BA9;&#x6211;&#x771F;&#x662F;&#x76F8;&#x89C1;&#x6068;&#x665A;&#x554A;&#xFF01;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#sudo pacman -S gtkpod</span></span><br><span class="line"><span class="comment"># &#x53C2;&#x6570;y&#x662F;&#x6307;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x8BE5;&#x6587;&#x4EF6;&#x5C06;&#x88AB;&#x8986;&#x76D6;&#x7684;&#x610F;&#x601D;</span></span><br><span class="line"><span class="comment"># &#x5199;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x7684;&#x65F6;&#x5019;&#x662F;&#x7528;archlinux&#x7684;-acodec liblamemp3</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $(ls *.mp3)</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    faad - <span class="variable">$i</span> | lame - <span class="variable">${i%.*}</span>.mp3</span><br><span class="line">    ffmpeg -y -i <span class="variable">$i</span> -acodec liblamemp3 <span class="variable">${i%.*}</span>.mp3</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></div><p>&#x4E3A;&#x4E86;&#x953B;&#x70BC;Linux&#x4E0B;Shell&#x7F16;&#x7A0B;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x6211;&#x5C1D;&#x8BD5;&#x7740;&#x4F7F;&#x7528;Shell&#x6765;&#x91CD;&#x65B0;&#x7F16;&#x5199;&#x4E86;&#x8FD9;&#x4E2A;&#x4E0B;&#x8F7D;&#x5DE5;&#x5177;&#x3002;&#x611F;&#x8C22;Linux&#x4E0B;&#x5F3A;&#x5927;&#x7684;&#x5DE5;&#x5177;&#x96C6;&#xFF0C;&#x82B1;&#x4E86;&#x534A;&#x5929;&#x65F6;&#x95F4;&#x6765;&#x67E5;&#x8D44;&#x6599;&#x5199;&#xFF0C;&#x505A;&#x51FA;&#x6765;&#x5374;&#x662F;&#x7CBE;&#x5DE7;&#x7684;&#x51E0;&#x884C;&#x7684;&#x4EE3;&#x7801;&#x800C;&#x5DF2;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># jq &#x547D;&#x4EE4;&#x884C;&#x7A0B;&#x5E8F;&#x7528;&#x4E8E;&#x89E3;&#x6790;json&#x6570;&#x636E;&#xFF0C;-r &#x53C2;&#x6570;&#x8868;&#x793A;&#x8FD4;&#x56DE;raw&#x503C;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x5C06;&#x76F4;&#x63A5;&#x6253;&#x5370;&#xFF0C;&#x4E0D;&#x6DFB;&#x52A0;&#x5F15;&#x53F7;&#x5305;&#x88F9;</span></span><br><span class="line"><span class="comment">#sudo apt-get install jq</span></span><br><span class="line">URL=<span class="variable">$1</span></span><br><span class="line"><span class="comment"># &#x6709;&#x4E24;&#x79CD;&#x601D;&#x8DEF;&#xFF0C;</span></span><br><span class="line"><span class="comment">#&#x4E00;&#x662F;&#x5148;&#x7528;sed&#x5C06;&#x7A7A;&#x683C;&#x66FF;&#x6362;&#x6210;&#x9017;&#x53F7;&#xFF0C;&#x7136;&#x540E;&#x4EA4;&#x7ED9;awk&#x5904;&#x7406;</span></span><br><span class="line"><span class="comment"># MAXPAGE=$(curl $URL | grep &apos;&lt;div class=&quot;pagingBar_wrapper&quot;&apos; |  sed &apos;s/&lt;[^&gt;]*&gt;/ /g;s/\s\+/,/g&apos; | awk -F &apos;,&apos; &apos;{print $(NF-2)}&apos;)</span></span><br><span class="line"><span class="comment">#&#x4E8C;&#x662F;awk&#x4E2D;&#x4F7F;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x4F5C;&#x4E3A;&#x5206;&#x9694;&#x7B26;&#xFF0C;&#x6765;&#x5904;&#x7406;&#x591A;&#x4E2A;&#x7A7A;&#x683C;&#x7684;&#x95EE;&#x9898;&#x3002;</span></span><br><span class="line">MAXPAGE=$(curl <span class="variable">$URL</span> | grep <span class="string">&apos;&lt;div class=&quot;pagingBar_wrapper&quot;&apos;</span> |  sed <span class="string">&apos;s/&lt;[^&gt;]*&gt;/ /g&apos;</span> | awk -F <span class="string">&apos;[ ]+&apos;</span> <span class="string">&apos;{print $(NF-2)}&apos;</span>)</span><br><span class="line"><span class="keyword">if</span> [ ! -n <span class="string">&quot;<span class="variable">$MAXPAGE</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    MAXPAGE=<span class="number">1</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">PAGE=<span class="string">&quot;<span class="variable">$URL</span>?page=1&quot;</span></span><br><span class="line"><span class="keyword">for</span>((p = <span class="number">1</span>; p &lt;= <span class="variable">$MAXPAGE</span>; p++))</span><br><span class="line">   do</span><br><span class="line">   PAGE=<span class="string">&quot;<span class="variable">$URL</span>?page=<span class="variable">$p</span>&quot;</span></span><br><span class="line">   <span class="comment"># sed &#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x4E24;&#x6B21;&#xFF0C;&#x4E0D;&#x80FD;&#x5408;&#x5E76;&#xFF0C;&#x6216;&#x8005;&#x53EF;&#x4EE5;&#xFF0C;&#x77E5;&#x9053;&#x7684;&#x540C;&#x5B66;&#x8BF7;&#x544A;&#x8BC9;&#x6211;&#x65B9;&#x6CD5;</span></span><br><span class="line">   SOUND_IDS=$(curl <span class="variable">$PAGE</span> |  sed -n <span class="string">&apos;s/\s*&lt;div class=&quot;personal_body&quot; sound_ids=&quot;\(.*\)&quot;&gt;\r/\1/p&apos;</span> | sed <span class="string">&apos;s/,/ /g&apos;</span>)</span><br><span class="line">   <span class="keyword">for</span> id <span class="keyword">in</span> <span class="variable">$SOUND_IDS</span></span><br><span class="line">   <span class="keyword">do</span></span><br><span class="line">       <span class="comment">#&#x4FDD;&#x7559;&#x6CE8;&#x91CA;# | bash&#x662F;&#x7528;&#x4E8E;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x662F;&#x5426;&#x6B63;&#x5E38;&#xFF0C;&#x53D6;&#x6D88;&#x6CE8;&#x91CA;&#x53EA;&#x4E0B;&#x8F7D;&#x4E0D;&#x8F6C;&#x7801;</span></span><br><span class="line">       <span class="comment">#curl http://www.ximalaya.com/tracks/$id.json | jq -r &apos;@sh &quot;wget \(.play_path) -O \(.title).m4a&quot;&apos;# | bash</span></span><br><span class="line">       <span class="comment">#&#x4E00;&#x8FB9;&#x4E0B;&#x8F7D;&#x4E00;&#x8FB9;&#x8F6C;&#x7801;</span></span><br><span class="line">       <span class="comment">#-acodec libmp3lame &#x53EF;&#x80FD;&#x4E0D;&#x540C;&#x7684;&#x7CFB;&#x7EDF;&#x540D;&#x79F0;&#x4F1A;&#x6709;&#x6240;&#x5DEE;&#x522B;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x53BB;&#x6389;&#xFF0C;debian&#x9ED8;&#x8BA4;&#x662F;libmp3lame</span></span><br><span class="line">       curl http://www.ximalaya.com/tracks/<span class="variable">$id</span>.json | jq -r <span class="string">&apos;@sh &quot;curl \(.play_path) | ffmpeg -i pipe:0 -y -acodec libmp3lame \(.title).mp3&quot;&apos;</span> | bash</span><br><span class="line">   <span class="keyword">done</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></div><p>&#x4E0B;&#x6587;&#x662F;&#x7528;node.js&#x5199;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x4E0B;&#x8F7D;&#x5DE5;&#x5177;&#x7684;&#x601D;&#x8DEF;&#xFF0C;&#x4EE3;&#x7801;&#x8BF7;&#x770B;<a href="https://github.com/wing-ho/ximalaya" target="_blank" rel="noopener">&#x559C;&#x9A6C;&#x62C9;&#x96C5;&#x514D;&#x8D39;&#x4E13;&#x8F91;&#x4E0B;&#x8F7D;&#x5DE5;&#x5177;</a>&#x3002;&#x4F1A;&#x5199;&#x7A0B;&#x5E8F;&#x7684;&#x4EBA;&#x603B;&#x662F;&#x559C;&#x6B22;&#x81EA;&#x5DF1;&#x91CD;&#x65B0;&#x53D1;&#x660E;&#x8F6E;&#x5B50;&#xFF0C;&#x5199;&#x5B8C;&#x8FD9;&#x4E2A;js&#x722C;&#x866B;&#x624D;&#x53D1;&#x73B0;&#x5DF2;&#x7ECF;&#x6709;&#x4EBA;&#x5199;&#x8FC7;&#x7C7B;&#x4F3C;&#x7684;python&#x5C0F;&#x7A0B;&#x5E8F;&#xFF0C;nodejs&#x7684;cheerio&#x5E93;&#x63D0;&#x4F9B;&#x4E86;&#x7C7B;&#x4F3C;jQuery&#x6E05;&#x6670;&#x7B80;&#x5355;&#x7684;&#x67E5;&#x627E;&#x65B9;&#x5F0F;&#xFF0C;&#x5BF9;&#x4E8E;&#x89E3;&#x6790;html&#x6807;&#x7B7E;&#x5F88;&#x6709;&#x4F18;&#x52BF;&#x3002;&#x867D;&#x7136;&#x6211;&#x5728;&#x811A;&#x672C;&#x4E2D;&#x76F4;&#x63A5;&#x91C7;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x65B9;&#x5F0F;&#x83B7;&#x53D6;&#x60F3;&#x8981;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x9762;&#x5BF9;&#x590D;&#x6742;&#x7684;&#x67E5;&#x8BE2;&#x573A;&#x666F;&#x65F6;&#xFF0C;&#x6211;&#x8FD8;&#x662F;&#x4F1A;&#x4F18;&#x5148;&#x8003;&#x8651;&#x4F7F;&#x7528;cheerio&#x5E93;&#x7684;&#x3002;&#x5F97;&#x5230;&#x97F3;&#x9891;mp3&#x6587;&#x4EF6;&#x4E4B;&#x524D;&#xFF0C;&#x9700;&#x8981;&#x7ECF;&#x5386;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x6B65;&#x9AA4;&#xFF1A;</p><div class="figure"><p><img src="/2017/08/09/批量下载喜马拉雅的免费专辑/activity1.png"></p></div><p>&#x559C;&#x9A6C;&#x62C9;&#x96C5;&#x4E13;&#x8F91;&#x9996;&#x9875;&#x7684;&#x9996;&#x9875;&#x4E2D;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x5206;&#x9875;&#x603B;&#x6570;&#x548C;&#x97F3;&#x9891;ID&#x5217;&#x8868;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;&#x4E13;&#x8F91;&#x7684;url&#x4E4B;&#x540E;&#x6DFB;&#x52A0;page&#x53C2;&#x6570;&#x83B7;&#x53D6;&#x5206;&#x9875;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x901A;&#x8FC7;&#x8BF7;&#x6C42;<a href="http://wwww.ximalaya.com/tracks/%7BID%7D.json%E8%8E%B7%E5%8F%96%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF" target="_blank" rel="noopener">http://wwww.ximalaya.com/tracks/{ID}.json&#x83B7;&#x53D6;&#x97F3;&#x9891;&#x6587;&#x4EF6;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;</a>&#xFF0C;</p><p>&#x6211;&#x628A;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x7684;&#x5BF9;&#x8C61;&#x62BD;&#x8C61;&#x4E3A;&#x6709;&#x9650;&#x72B6;&#x6001;&#x673A;&#xFF0C;&#x5305;&#x542B;&#x97F3;&#x9891;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x7684;json&#x6587;&#x4EF6;&#x3001;m4a&#x548C;mp3&#x6587;&#x4EF6;&#x4E4B;&#x95F4;&#x5B58;&#x5728;&#x7740;&#x4E00;&#x79CD;&#x8F6C;&#x5316;&#x5173;&#x7CFB;</p><p alt="&#x6587;&#x4EF6;&#x72B6;&#x6001;&#x56FE;"><img src="/2017/08/09/批量下载喜马拉雅的免费专辑/state.png">&#x901A;&#x8FC7;&#x5EFA;&#x7ACB;&#x4EFB;&#x52A1;&#x961F;&#x5217;&#x548C;&#x4E0B;&#x8F7D;&#x961F;&#x5217;&#xFF0C;&#x5206;&#x522B;&#x7528;&#x4E8E;&#x7F13;&#x5B58;&#x4EFB;&#x52A1;&#x548C;&#x63A7;&#x5236;&#x4E0B;&#x8F7D;&#x8FDB;&#x7A0B;&#x7684;&#x6570;&#x91CF;&#x3002;&#x53D6;&#x5230;&#x6240;&#x6709;&#x5206;&#x9875;&#x4E2D;&#x97F3;&#x9891;&#x7684;id&#xFF0C;&#x7136;&#x540E;&#x5229;&#x7528;&#x5F02;&#x6B65;&#x8BF7;&#x6C42;&#x7684;&#x7279;&#x6027;&#x591A;&#x7EBF;&#x7A0B;&#x4E0B;&#x8F7D;&#x97F3;&#x9891;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x80FD;&#x540C;&#x65F6;&#x663E;&#x793A;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x4E0B;&#x8F7D;&#x8FDB;&#x5EA6;&#x3002;</p><div class="figure"><p><img src="/2017/08/09/批量下载喜马拉雅的免费专辑/activity2.png"></p></div><div id="outline-container-org2f53181" class="outline-2"><h2 id="org2f53181"><span class="section-number-2">1</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;</h2><div class="outline-text-2" id="text-1"><ol class="org-ol"><li><a href="https://www.waitalone.cn/ximalaya-download.html" target="_blank" rel="noopener">&#x559C;&#x9A6C;&#x62C9;&#x96C5;mp3&#x6279;&#x91CF;&#x4E0B;&#x8F7D;&#x5DE5;&#x5177;</a></li><li><a href="http://www.cnblogs.com/chenfanyu/archive/2013/01/27/2878845.html" target="_blank" rel="noopener">&#x4F7F;&#x7528;emacs org-mode&#x753B;&#x56FE;</a></li></ol></div></div></div><div id="postamble" class="status">Last Updated 2017-08-09.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;p&gt;
&amp;#x73B0;&amp;#x5728;&amp;#x4F4F;&amp;#x7684;&amp;#x5730;&amp;#x65B9;&amp;#x79BB;&amp;#x516C;&amp;#x56ED;&amp;#x5F88;&amp;#x8FD1;&amp;#xFF0C;&amp;#x60F3;&amp;#x91CD;&amp;#x65
      
    
    </summary>
    
      <category term="JavaScript" scheme="http://wing-ho.github.io/categories/JavaScript/"/>
    
    
  </entry>
  
  <entry>
    <title>把电纸书打造成护眼开发神器</title>
    <link href="http://wing-ho.github.io/2017/04/29/%E6%8A%8A%E7%94%B5%E7%BA%B8%E4%B9%A6%E6%89%93%E9%80%A0%E6%88%90%E6%8A%A4%E7%9C%BC%E5%BC%80%E5%8F%91%E7%A5%9E%E5%99%A8/"/>
    <id>http://wing-ho.github.io/2017/04/29/把电纸书打造成护眼开发神器/</id>
    <published>2017-04-29T00:00:00.000Z</published>
    <updated>2018-10-01T10:08:00.431Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#org7c0d545">1. &#x65E7;&#x65B9;&#x6848;</a><ul><li><a href="#org20af832">1.1. &#x914D;&#x7F6E;&#x6982;&#x8FF0;</a></li><li><a href="#org5a80c47">1.2. &#x6784;&#x5EFA;&#x8FC7;&#x7A0B;</a><ul><li><a href="#orgec89e83">1.2.1. &#x83B7;&#x53D6;root&#x6743;&#x9650;</a></li></ul></li><li><a href="#orgeccb681">1.3. &#x5B89;&#x88C5;Linux&#x5B50;&#x7CFB;&#x7EDF;</a></li><li><a href="#orgca42ce6">1.4. &#x5B89;&#x88C5;&#x7EC8;&#x7AEF;&#x6A21;&#x62DF;&#x5668;</a></li><li><a href="#org20efbf6">1.5. &#x5B89;&#x88C5;Emacs&#x548C;Spacemacs&#x63D2;&#x4EF6;&#x5305;</a></li><li><a href="#orga6dda3a">1.6. &#x7F16;&#x8BD1;vim&#x548C;vim-web&#x63D2;&#x4EF6;&#x5305;</a></li><li><a href="#org3d63250">1.7. &#x7F16;&#x8BD1;youcompleteme&#x63D2;&#x4EF6;</a></li><li><a href="#org0157490">1.8. &#x5B89;&#x88C5;tmux&#x7BA1;&#x7406;&#x591A;&#x4E2A;session</a></li><li><a href="#org42ceb4f">1.9. &#x5B89;&#x88C5;w3m&#x6D4F;&#x89C8;&#x5668;</a></li><li><a href="#orgfa13b7a">1.10. &#x5B89;&#x88C5;google&#x62FC;&#x97F3;&#x8F93;&#x5165;&#x6CD5;</a></li></ul></li><li><a href="#orgccc4b31">2. &#x65B0;&#x65B9;&#x6848;</a></li><li><a href="#org6702585">3. &#x53C2;&#x8003;&#x6587;&#x7AE0;</a></li></ul></div></div><p>&#x7535;&#x5B50;&#x58A8;&#x6C34;&#x5C4F;&#x7684;&#x51FA;&#x73B0;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x5DE5;&#x7A0B;&#x5E08;&#x7684;&#x798F;&#x97F3;&#xFF0C;&#x6211;&#x662F;&#x7535;&#x8111;&#x5C4F;&#x5E55;&#x7684;&#x91CD;&#x5EA6;&#x4F7F;&#x7528;&#x8005;&#xFF0C;&#x4E00;&#x76F4;&#x90FD;&#x5BC4;&#x671B;&#x4E8E;&#x6709;&#x4E00;&#x5BB6;&#x516C;&#x53F8;&#x80FD;&#x5F00;&#x53D1;&#x51FA;&#x4E00;&#x5957;&#x7535;&#x5B50;&#x58A8;&#x6C34;&#x5C4F;&#x663E;&#x793A;&#x5668;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;&#x5927;&#x4E0A;&#x79D1;&#x6280;&#x516C;&#x53F8;&#x53D1;&#x5E03;&#x4E86;&#x4E00;&#x6B3E;&#x4EE5;13.3&#x5BF8;&#x7684;&#x7535;&#x5B50;&#x58A8;&#x6C34;&#x663E;&#x793A;&#x5668;&#xFF0C;&#x770B;&#x5B98;&#x65B9;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x786E;&#x5B9E;&#x662F;&#x4E00;&#x6B3E;&#x4EE4;&#x6211;&#x5FC3;&#x52A8;&#x7684;&#x4EA7;&#x54C1;&#x3002;&#x6211;&#x5F88;&#x65E9;&#x5C31;&#x8D2D;&#x5165;&#x4E86;&#x7535;&#x7EB8;&#x4E66;&#xFF0C;&#x4F7F;&#x7528;&#x8FC7;Bambook&#x3001;Kindle&#x548C;Boox&#xFF0C;&#x6BD4;&#x8F83;&#x559C;&#x6B22;&#x57FA;&#x4E8E;Android&#x7CFB;&#x7EDF;&#x7684;Boox&#x4EA7;&#x54C1;&#xFF0C;&#x9274;&#x4E8E;&#x5176;&#x7CFB;&#x7EDF;&#x7684;&#x5F00;&#x653E;&#x6027;&#xFF0C;&#x5229;&#x7528;&#x73B0;&#x6709;&#x7684;&#x8BBE;&#x5907;&#x642D;&#x5EFA;&#x4E00;&#x5957;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x662F;&#x5B8C;&#x5168;&#x6709;&#x53EF;&#x80FD;&#x7684;&#x3002;&#x7ECF;&#x8FC7;&#x5F88;&#x957F;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x7684;&#x6478;&#x7D22;&#xFF0C;&#x6211;&#x627E;&#x5230;&#x4E86;&#x4E00;&#x5957;&#x53EF;&#x8BA9;&#x7535;&#x7EB8;&#x4E66;&#x6210;&#x4E3A;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x7684;&#x65B9;&#x6848;&#x3002;</p><div class="figure"><p><img src="/2017/04/29/把电纸书打造成护眼开发神器/emacs.png"></p></div><div class="figure"><p><img src="/2017/04/29/把电纸书打造成护眼开发神器/vim-js.png"></p></div><div id="outline-container-org7c0d545" class="outline-2"><h2 id="org7c0d545"><span class="section-number-2">1</span> &#x65E7;&#x65B9;&#x6848;</h2><div class="outline-text-2" id="text-1"></div><div id="outline-container-org20af832" class="outline-3"><h3 id="org20af832"><span class="section-number-3">1.1</span> &#x914D;&#x7F6E;&#x6982;&#x8FF0;</h3><div class="outline-text-3" id="text-1-1"><ol class="org-ol"><li>&#x4F7F;&#x7528;Microsoft Wedge Keyboard&#x84DD;&#x7259;&#x952E;&#x76D8;&#x4F5C;&#x4E3A;&#x8F93;&#x5165;&#x8BBE;&#x5907;&#x3002;</li><li>&#x4F7F;&#x7528;Linux Deploy&#x6784;&#x5EFA;&#x5B8C;&#x6210;&#x7684;Linux&#x7CFB;&#x7EDF;&#xFF0C;&#x914D;&#x5408;v-yadll&#x5B9A;&#x5236;&#x7684;&#x7EC8;&#x7AEF;&#x6A21;&#x62DF;&#x5668;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;&#x8BE5;&#x7EC8;&#x7AEF;&#x6A21;&#x62DF;&#x5668;&#x4F18;&#x5316;&#x4E86;&#x5149;&#x6807;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x7AD6;&#x7EBF;&#x5149;&#x6807;&#x6709;&#x6548;&#x907F;&#x514D;&#x65B9;&#x5757;&#x5149;&#x6807;&#x5728;&#x7535;&#x5B50;&#x58A8;&#x6C34;&#x5C4F;&#x5E55;&#x4E0B;&#x4E2D;&#x82F1;&#x6587;&#x6DF7;&#x6392;&#x65F6;&#x6B8B;&#x5F71;&#x95EE;&#x9898;&#x3002;</li><li>&#x7F16;&#x8BD1;vim 8&#x548C;youcompleteme&#x63D2;&#x4EF6;&#x3002;</li><li>&#x5B89;&#x88C5;Eamcs&#x548C;Spacemacs&#x63D2;&#x4EF6;&#x5305;&#x3002;</li><li>&#x5B89;&#x88C5;&#x5E38;&#x7528;&#x7684;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x3002;</li></ol></div></div><div id="outline-container-org5a80c47" class="outline-3"><h3 id="org5a80c47"><span class="section-number-3">1.2</span> &#x6784;&#x5EFA;&#x8FC7;&#x7A0B;</h3><div class="outline-text-3" id="text-1-2"></div><div id="outline-container-orgec89e83" class="outline-4"><h4 id="orgec89e83"><span class="section-number-4">1.2.1</span> &#x83B7;&#x53D6;root&#x6743;&#x9650;</h4><div class="outline-text-4" id="text-1-2-1"><p>&#x4F7F;&#x7528;Root&#x5927;&#x5E08;&#x83B7;&#x53D6;Boox M96&#x7684;root&#x6743;&#x9650;&#xFF0C;&#x7F51;&#x4E0A;&#x8BF4;towelroot v1&#x7248;&#x672C;&#x66F4;&#x52A0;&#x597D;&#x7528;&#x3002;</p></div></div></div><div id="outline-container-orgeccb681" class="outline-3"><h3 id="orgeccb681"><span class="section-number-3">1.3</span> &#x5B89;&#x88C5;Linux&#x5B50;&#x7CFB;&#x7EDF;</h3><div class="outline-text-3" id="text-1-3"><p>&#x4ECE;github&#x4E0B;&#x8F7D;&#x6700;&#x65B0;&#x7248;&#x7684;Linux Deploy&#xFF0C;<a href="https://github.com/meefik/linuxdeploy/releases" target="_blank" rel="noopener">https://github.com/meefik/linuxdeploy/releases</a></p><div class="figure"><p><img src="/2017/04/29/把电纸书打造成护眼开发神器/deploy.jpg"></p></div><div class="figure"><p><img src="/2017/04/29/把电纸书打造成护眼开发神器/startup.png"></p></div><ol class="org-ol"><li>&#x4F7F;&#x7528;&#x7684;&#x9ED8;&#x8BA4;&#x7684;Profile&#xFF0C;&#x53D1;&#x884C;&#x7248;&#x9009;&#x62E9;deiban&#xFF0C;&#x5B89;&#x88C5;&#x6E90;&#x586B;&#x56FD;&#x5185;&#x955C;&#x50CF;<a href="http://ftp.cn.debian.org/debian" target="_blank" rel="noopener">http://ftp.cn.debian.org/debian</a></li><li>&#x865A;&#x62DF;&#x78C1;&#x76D8;&#x7684;&#x586B;2252MB&#xFF0C;sdcard&#x5206;&#x533A;&#x5C31;&#x53EA;&#x5269;&#x4E0B;20M&#x7A7A;&#x95F4;&#xFF0C;96&#x6574;&#x673A;&#x53EA;&#x6709;8G&#x50A8;&#x5B58;&#x7A7A;&#x95F4;&#xFF0C;sdcard&#x5206;&#x533A;&#x53EA;&#x6709;2.2G&#xFF0C;&#x9009;&#x62E9;&#x9700;&#x8981;&#x7A7A;&#x95F4;&#x7684;&#x66F4;&#x5C0F;&#x7684;debian&#x5E94;&#x8BE5;&#x4F1A;&#x66F4;&#x52A0;&#x5408;&#x9002;&#x3002;&#x867D;&#x7136;&#x6211;&#x66F4;&#x52A0;&#x559C;&#x6B22;Arch Linux&#xFF0C;&#x4F46;&#x662F;Android4.04&#x7684;&#x5185;&#x6838;&#x5BF9;&#x4E8E;Arch Lnux&#x6765;&#x8BF4;&#x592A;&#x8001;&#x4E86;&#xFF0C;&#x65E0;&#x6CD5;&#x6B63;&#x786E;Chroot&#x5230;Arch&#x5B50;&#x7CFB;&#x7EDF;&#x3002;</li><li>&#x9009;&#x62E9;ssh&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E0D;&#x8981;&#x9009;&#x62E9;&#x56FE;&#x5F62;&#x5316;&#x5B50;&#x7CFB;&#x7EDF;&#xFF0C;&#x53EA;&#x5B89;&#x88C5;&#x6700;&#x57FA;&#x7840;&#x7684;&#x7CFB;&#x7EDF;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</li><li>&#x5F00;&#x59CB;&#x5B89;&#x88C5;&#xFF0C;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x5C06;&#x6301;&#x7EED;10&#x5206;&#x949F;&#x5DE6;&#x53F3;&#x3002;</li></ol></div></div><div id="outline-container-orgca42ce6" class="outline-3"><h3 id="orgca42ce6"><span class="section-number-3">1.4</span> &#x5B89;&#x88C5;&#x7EC8;&#x7AEF;&#x6A21;&#x62DF;&#x5668;</h3><div class="outline-text-3" id="text-1-4"><p>&#x4E0B;&#x8F7D;&#x5730;&#x5740;<a href="https://github.com/v-yadli/Android-Terminal-Emulator/releases" target="_blank" rel="noopener">https://github.com/v-yadli/Android-Terminal-Emulator/releases</a><img src="/2017/04/29/把电纸书打造成护眼开发神器/term.png">&#x7531;&#x4E8E;&#x8BE5;&#x6A21;&#x62DF;&#x5668;&#x5E76;&#x6CA1;&#x6709;&#x5305;&#x542B;ssh&#x3001;telnet&#x548C;bash&#x7B49;&#x5E38;&#x7528;&#x5DE5;&#x5177;&#xFF0C;&#x9700;&#x8981;&#x4ECE;JuiceSSH&#x4E2D;&#x63D0;&#x53D6;telnet&#x548C;bash&#xFF0C;ssh&#x53EF;&#x4EE5;&#x4ECE;termux&#x7684;&#x524D;&#x8EAB;opkg&#x5DE5;&#x5177;&#x5305;&#x5F53;&#x4E2D;&#x5F97;&#x5230;&#xFF0C;&#x5B89;&#x88C5;&#x6559;&#x7A0B;<a href="http://dan.drown.org/android" target="_blank" rel="noopener">http://dan.drown.org/android</a>&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#xFF03;&#x63D0;&#x53D6;telnet&#x548C;bash&#x5230;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;&#x7684;PATH&#x8DEF;&#x5F84;&#x4E2D;</span><br><span class="line">su -c busybox cp /data/data/com.sonelli.juicessh/files/bin/arm/nopie/{telnet,bash} /system/bin</span><br><span class="line"><span class="comment">#&#x5B89;&#x88C5;opkg&#x5DE5;&#x5177;&#x5305;&#xFF0C;&#x5C06;android&#x7CFB;&#x7EDF;&#x7684;data&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x5230;Linux&#x5B50;&#x7CFB;&#x7EDF;&#x4E0B;&#xFF0C;&#x901A;&#x8FC7;juicessh&#x767B;&#x5F55;&#x5230;Linux&#x5B50;&#x7CFB;&#x7EDF;&#x3002;</span></span><br><span class="line"><span class="built_in">cd</span> /data/<span class="built_in">local</span></span><br><span class="line">curl http://dan.drown.org/android/opkg.tar.gz -o opkg.tar.gz</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&#x8FD8;&#x9700;&#x8981;&#x589E;&#x52A0;&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</span><br><span class="line">tar zxvf opkg.tar.gz</span><br><span class="line">&#xFF03;&#x589E;&#x52A0;.bashrc&#x6587;&#x4EF6;&#x5230;<span class="variable">$HOME</span>&#x76EE;&#x5F55;&#xFF0C;&#x4F7F;&#x5F97;&#x6253;&#x5F00;&#x7EC8;&#x7AEF;&#x5C31;&#x80FD;&#x4F7F;&#x7528;opkg&#x5DE5;&#x5177;&#x5305;&#x7684;&#x5DE5;&#x5177;&#x3002;</span><br><span class="line">cat &gt;&gt; ~/.bashrc &lt;&lt; EOF</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/data/<span class="built_in">local</span>/bin</span><br><span class="line">PS1=<span class="string">&apos;\u@\h\w:$ &apos;</span></span><br><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">EOF</span><br><span class="line">opkg update</span><br><span class="line">opkg install openssh vim</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org20efbf6" class="outline-3"><h3 id="org20efbf6"><span class="section-number-3">1.5</span> &#x5B89;&#x88C5;Emacs&#x548C;Spacemacs&#x63D2;&#x4EF6;&#x5305;</h3><div class="outline-text-3" id="text-1-5"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh youname@localhost</span><br><span class="line">sudo apt-get install emacs git</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/syl20bnr/spacemacs ~/.emacs.d</span><br></pre></td></tr></table></figure></div><p>debian7&#x81EA;&#x5E26;&#x7684;vim&#x7248;&#x672C;&#x6BD4;&#x8F83;&#x65E7;&#xFF0C;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x6700;&#x65B0;&#x7248;&#x7684;youcompleteme&#x63D2;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x53EA;&#x9700;&#x8981;c++&#x7684;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5B89;&#x88C5;debian&#x4ED3;&#x5E93;&#x7684;vim-youcompleteme&#x5305;&#x3002;&#x60F3;&#x8981;&#x529F;&#x80FD;&#x66F4;&#x4E30;&#x5BCC;&#x7684;vim&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x7F16;&#x8BD1;&#x4E86;&#x3002;</p></div></div><div id="outline-container-orga6dda3a" class="outline-3"><h3 id="orga6dda3a"><span class="section-number-3">1.6</span> &#x7F16;&#x8BD1;vim&#x548C;vim-web&#x63D2;&#x4EF6;&#x5305;</h3><div class="outline-text-3" id="text-1-6"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install make gcc ncurses-dev python2 python3 libxt-dev</span><br><span class="line">wget https://github.com/vim/vim/archive/master.zip</span><br><span class="line">unzip master.zip</span><br><span class="line">./configure --with-compiledby=<span class="string">&quot;Wing&quot;</span> --prefix=/usr --enable<span class="operator">-l</span></span><br><span class="line">argefile --enable-multibyte sniff --enable-perlinterp --enable-python3interp --enable-pythoninterp --enable-rubyinterp --enable-luainterp --enable-fontset --with-features=huge --with-x=yes</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/wing-ho/vim-web ~/.vim</span><br><span class="line"><span class="comment">#&#x5B89;&#x88C5;vim&#x63D2;&#x4EF6;</span></span><br><span class="line">vim</span><br><span class="line">:PlugInstall</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org3d63250" class="outline-3"><h3 id="org3d63250"><span class="section-number-3">1.7</span> &#x7F16;&#x8BD1;youcompleteme&#x63D2;&#x4EF6;</h3><div class="outline-text-3" id="text-1-7"><p>Boox M96&#x7684;cpu&#x662F;&#x5355;&#x6838;1G&#x7684;CPU&#xFF0C;&#x7F16;&#x8BD1;youcompleteme&#x63D2;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x6302;&#x6389;&#xFF0C;&#x6211;&#x662F;&#x501F;&#x52A9;&#x624B;&#x673A;&#x7684;&#x4E0A;&#x5B89;&#x88C5;&#x7684;Debian Linux&#x73AF;&#x5883;&#x5B8C;&#x6210;&#x7F16;&#x8BD1;&#x7684;&#xFF0C;&#x7F16;&#x8BD1;&#x597D;&#x4E4B;&#x540E;&#x628A;${Plugin}/YouCompleteMe/third_party/ycmd/ycmd_core.so&#x590D;&#x5236;&#x56DE;&#x7535;&#x7EB8;&#x4E66;&#x7684;&#x5BF9;&#x5E94;&#x76EE;&#x5F55;&#x3002;&#x5E73;&#x65F6;&#x7528;js&#x6BD4;&#x8F83;&#x591A;&#xFF0C;&#x867D;&#x7136;&#x7F16;&#x8BD1;&#x9009;&#x9879;&#x53EA;&#x6DFB;&#x52A0;JavaScript&#x652F;&#x6301;&#xFF0C;&#x4F46;&#x5176;&#x5B9E;c&#xFF0C;c++&#xFF0C;java&#x90FD;&#x80FD;&#x591F;&#x6BD4;&#x8F83;&#x597D;&#x7684;&#x652F;&#x6301;&#x7684;&#xFF0C;&#x7535;&#x7EB8;&#x4E66;&#x7684;&#x91CC;&#x7684;Debian&#x7CFB;&#x7EDF;&#x53EA;&#x662F;&#x7528;&#x4E8E;&#x7B97;&#x6CD5;&#x5B66;&#x4E60;&#x548C;&#x6E90;&#x4EE3;&#x7801;&#x9605;&#x8BFB;&#x7684;&#xFF0C;&#x5355;&#x6838;1G&#x7684;CPU&#x65E0;&#x6CD5;&#x6EE1;&#x8DB3;&#x5F00;&#x53D1;&#x7684;&#x9700;&#x8981;&#xFF0C;&#x5B9E;&#x9645;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x6211;&#x4E00;&#x822C;&#x90FD;&#x76F4;&#x63A5;ssh&#x5230;pc&#x4E0A;&#x8FDB;&#x884C;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.vim/plugged/YouCompleteMe/</span><br><span class="line">python install.py --tern-completer</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org0157490" class="outline-3"><h3 id="org0157490"><span class="section-number-3">1.8</span> &#x5B89;&#x88C5;tmux&#x7BA1;&#x7406;&#x591A;&#x4E2A;session</h3><div class="outline-text-3" id="text-1-8"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install tmux </span><br><span class="line"><span class="comment">#&#x6211;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span></span><br><span class="line">cat &gt;&gt; ~/.tmux.conf &lt;&lt; EOF</span><br><span class="line"><span class="built_in">set</span> -g base-index <span class="number">1</span></span><br><span class="line"><span class="comment">#set -g prefix M-b</span></span><br><span class="line"><span class="comment">#unbind C-b</span></span><br><span class="line"><span class="built_in">bind</span> r <span class="built_in">source</span>-file ~/.tmux.conf \; display <span class="string">&quot;Reloaded!&quot;</span></span><br><span class="line"><span class="comment">#up</span></span><br><span class="line"><span class="built_in">bind</span>-key k select-pane -U</span><br><span class="line"><span class="comment">#down</span></span><br><span class="line"><span class="built_in">bind</span>-key j select-pane -D</span><br><span class="line"><span class="comment">#left</span></span><br><span class="line"><span class="built_in">bind</span>-key h select-pane -L</span><br><span class="line"><span class="comment">#right</span></span><br><span class="line"><span class="built_in">bind</span>-key l select-pane -R</span><br><span class="line"></span><br><span class="line"><span class="comment">#select last window</span></span><br><span class="line"><span class="built_in">bind</span>-key C<span class="operator">-l</span> select-window <span class="operator">-l</span></span><br><span class="line"><span class="built_in">bind</span>-key -n M-<span class="number">1</span> select-window -t :<span class="number">1</span></span><br><span class="line"><span class="built_in">bind</span>-key -n M-<span class="number">2</span> select-window -t :<span class="number">2</span></span><br><span class="line"><span class="built_in">bind</span>-key -n M-<span class="number">3</span> select-window -t :<span class="number">3</span></span><br><span class="line"><span class="built_in">bind</span>-key -n M-<span class="number">4</span> select-window -t :<span class="number">4</span></span><br><span class="line"><span class="built_in">bind</span>-key -n M-<span class="number">5</span> select-window -t :<span class="number">5</span></span><br><span class="line"><span class="built_in">bind</span>-key -n M-<span class="number">6</span> select-window -t :<span class="number">6</span></span><br><span class="line"><span class="built_in">bind</span>-key -n M-<span class="number">7</span> select-window -t :<span class="number">7</span></span><br><span class="line"><span class="built_in">bind</span>-key -n M-<span class="number">8</span> select-window -t :<span class="number">8</span></span><br><span class="line"><span class="built_in">bind</span>-key -n M-<span class="number">9</span> select-window -t :<span class="number">9</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#copy-mode &#x5C06;&#x5FEB;&#x6377;&#x952E;&#x8BBE;&#x7F6E;&#x4E3A;vi &#x6A21;&#x5F0F;</span></span><br><span class="line">setw -g mode-keys vi</span><br><span class="line"></span><br><span class="line"><span class="comment"># copy mode</span></span><br><span class="line"><span class="comment"># enter copy mode (prefix Escape)</span></span><br><span class="line"><span class="built_in">bind</span> Escape copy-mode</span><br><span class="line"><span class="comment"># paste buffer (prefix Ctrl+p)</span></span><br><span class="line"><span class="built_in">bind</span> ^p pasteb</span><br><span class="line"><span class="comment"># select (v)</span></span><br><span class="line"><span class="built_in">bind</span> -t vi-copy v begin-selection</span><br><span class="line"><span class="comment"># copy (y)</span></span><br><span class="line"><span class="built_in">bind</span> -t vi-copy y copy-selection</span><br><span class="line"><span class="built_in">set</span> -g status-right <span class="string">&quot;#(date +%H:%M&apos; &apos;)&quot;</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></div><p>&#x56E0;&#x4E3A;alt&#x952E;&#x5728;&#x8FD9;&#x4E2A;&#x7EC8;&#x7AEF;&#x6A21;&#x62DF;&#x5668;&#x4E2D;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#xFF0C;&#x4F46;&#x5728;JuiceSSH&#x7EC8;&#x7AEF;&#x6A21;&#x62DF;&#x5668;&#x4E2D;&#x662F;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#xFF0C;&#x6211;&#x4F1A;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x5728;&#x8FD9;&#x4E24;&#x4E2A;&#x7EC8;&#x7AEF;&#x4E4B;&#x95F4;&#x5207;&#x6362;&#x7740;&#x4F7F;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x90E8;&#x5206;&#x5FEB;&#x6377;&#x952E;&#x53EF;&#x80FD;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x3002;</p></div></div><div id="outline-container-org42ceb4f" class="outline-3"><h3 id="org42ceb4f"><span class="section-number-3">1.9</span> &#x5B89;&#x88C5;w3m&#x6D4F;&#x89C8;&#x5668;</h3><div class="outline-text-3" id="text-1-9"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install w3m</span><br><span class="line"><span class="comment">#&#x66F4;&#x6539;&#x4E24;&#x4E2A;&#x6211;&#x5E38;&#x7528;&#x7684;&#x5FEB;&#x6377;&#x952E;</span></span><br><span class="line">cat &gt;&gt; ~/.w3m/keymap &lt;&lt; EOF</span><br><span class="line">keymap d NEXT_PAGE</span><br><span class="line">keymap u PREV_PAGE</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgfa13b7a" class="outline-3"><h3 id="orgfa13b7a"><span class="section-number-3">1.10</span> &#x5B89;&#x88C5;google&#x62FC;&#x97F3;&#x8F93;&#x5165;&#x6CD5;</h3><div class="outline-text-3" id="text-1-10"><p>&#x7531;&#x4E8E;Boox M96&#x662F;Android 4.04&#xFF0C;&#x53EA;&#x80FD;&#x5B89;&#x88C5;google pinyin 4.2.1&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x624B;&#x673A;&#x4E50;&#x56ED;&#x4E0B;&#x8F7D;&#x5230;&#x4F4E;&#x7248;&#x672C;&#x7684;&#x8C37;&#x6B4C;&#x62FC;&#x97F3;&#x8F93;&#x5165;&#x6CD5;&#x3002;</p></div></div></div><div id="outline-container-orgccc4b31" class="outline-2"><h2 id="orgccc4b31"><span class="section-number-2">2</span> &#x65B0;&#x65B9;&#x6848;</h2><div class="outline-text-2" id="text-2"><p>&#x628A;&#x7535;&#x7EB8;&#x4E66;&#x5F53;&#x6210;&#x4E00;&#x4E2A;&#x663E;&#x793A;&#x5668;&#x6765;&#x4F7F;&#x7528;&#xFF0C;BVNC Pro&#x8FDE;&#x672C;&#x673A;Linux Delopy&#x4E2D;&#x8FD0;&#x884C;&#x7684;vnc server&#xFF0C;&#x8FD9;&#x4E2A;App&#x5BF9;&#x952E;&#x76D8;&#x7684;&#x5404;&#x4E2A;&#x952E;&#x652F;&#x6301;&#x6BD4;&#x8F83;&#x5B8C;&#x5584;&#xFF0C;&#x53EF;&#x4EE5;&#x907F;&#x514D;Android Terminal&#x548C;Android&#x8F93;&#x5165;&#x6CD5;&#x7684;&#x5404;&#x79CD;&#x7F3A;&#x9677;&#x3002;&#x53EF;&#x4EE5;&#x6709;&#x65F6;&#x9700;&#x8981;&#x6D4F;&#x89C8;&#x4E00;&#x4E9B;&#x7F51;&#x7AD9;&#xFF0C;&#x6211;&#x751A;&#x81F3;&#x7ED9;&#x7535;&#x7EB8;&#x4E66;&#x7F16;&#x8BD1;&#x4E86;vimb&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x4E00;&#x4E2A;&#x7EAF;&#x952E;&#x76D8;&#x64CD;&#x4F5C;&#x7684;&#x8F7B;&#x91CF;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x8FD9;&#x6837;&#x6CE1;&#x56FE;&#x4E66;&#x9986;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x53EA;&#x5E26;&#x7535;&#x7EB8;&#x4E66;&#x548C;&#x952E;&#x76D8;&#x3002;&#x4F46;&#x6700;&#x8FD1;&#x6211;&#x6DD8;&#x4E86;&#x90E8;Intel&#x82AF;&#x7247;&#x7684;&#x624B;&#x673A;(zenfone2)&#x4F5C;&#x4E3A;&#x4FBF;&#x643A;&#x4E3B;&#x673A;&#xFF0C;&#x6027;&#x80FD;&#x76F8;&#x5F53;&#x597D;&#xFF0C;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;kvm&#x5B89;&#x88C5;Windows&#x7CFB;&#x7EDF;&#xFF0C;&#x642D;&#x914D;&#x7740;&#x7535;&#x7EB8;&#x4E66;&#x4F7F;&#x7528;&#x7B80;&#x76F4;&#x5B8C;&#x7F8E;&#x3002;zenfone2&#x53EF;&#x4EE5;&#x6709;&#x4EC0;&#x4E48;&#x9A9A;&#x64CD;&#x4F5C;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x6211;&#x7684;&#x53E6;&#x5916;&#x4E00;&#x7BC7;&#x535A;&#x6587;&#x300A;&#x628A;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x88C5;&#x8FDB;&#x4F60;&#x7684;&#x53E3;&#x888B;&#x300B;&#x3002;</p></div></div><div id="outline-container-org6702585" class="outline-2"><h2 id="org6702585"><span class="section-number-2">3</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;</h2><div class="outline-text-2" id="text-3"><ol class="org-ol"><li><a href="http://bbs.onyx-international.com.cn/forum.php?mod=viewthread&amp;tid=24191" target="_blank" rel="noopener">&#x7528;BOOX Max&#x6253;&#x9020;&#x7EC8;&#x6781;&#x5B66;&#x672F;&#x5199;&#x4F5C;&#x5E73;&#x53F0;</a></li></ol></div></div></div><div id="postamble" class="status">Last Updated 2017-04-29.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#org7c0d545&quot;&gt;1
      
    
    </summary>
    
      <category term="Android" scheme="http://wing-ho.github.io/categories/Android/"/>
    
    
  </entry>
  
  <entry>
    <title>Hexo博客集成GitBook</title>
    <link href="http://wing-ho.github.io/2017/04/17/Hexo%E5%8D%9A%E5%AE%A2%E9%9B%86%E6%88%90GitBook/"/>
    <id>http://wing-ho.github.io/2017/04/17/Hexo博客集成GitBook/</id>
    <published>2017-04-17T00:00:00.000Z</published>
    <updated>2018-09-10T02:24:18.427Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><p>&#x6211;&#x4F7F;&#x7528;GitBook&#x4E3B;&#x8981;&#x662F;&#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x7B14;&#x8BB0;&#x7684;&#xFF0C;&#x8BB0;&#x5F55;&#x7684;&#x5185;&#x5BB9;&#x76F8;&#x5BF9;&#x6BD4;&#x8F83;&#x7CFB;&#x7EDF;&#x4E00;&#x70B9;&#xFF0C;&#x96F6;&#x6563;&#x7684;&#x5185;&#x5BB9;&#x5C31;&#x4EE5;&#x535A;&#x5BA2;&#x7684;&#x5F62;&#x5F0F;&#x53D1;&#x5E03;&#x3002;&#x6784;&#x5EFA;&#x535A;&#x5BA2;&#x4F7F;&#x7528;&#x7684;Hexo&#x548C;GitBook&#x662F;&#x76F8;&#x5BF9;&#x72EC;&#x7ACB;&#x7684;&#x4E24;&#x5957;&#x7A0B;&#x5E8F;&#xFF0C;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x624B;&#x52A8;&#x96C6;&#x6210;&#x8D77;&#x6765;&#x3002;&#x5C06;&#x535A;&#x5BA2;&#x53D1;&#x5E03;&#x5230;github&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5C06;public&#x76EE;&#x5F55;&#x66F4;&#x65B0;&#x5230;github&#x4E0A;&#x9762;&#xFF0C;&#x53EA;&#x8981;&#x5728;&#x6267;&#x884C;hexo g&#x4E4B;&#x540E;&#xFF0C;hexo d&#x4E4B;&#x524D;&#xFF0C;&#x5C06;GitBook&#x7684;&#x5185;&#x5BB9;&#x751F;&#x6210;&#x5230;public&#x76EE;&#x5F55;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;&#x5728;&#x535A;&#x5BA2;&#x7684;&#x6839;&#x76EE;&#x5F55;&#x5EFA;&#x7ACB;&#x6587;&#x4EF6;&#x5939;books&#xFF0C;GitBook&#x7684;&#x5185;&#x5BB9;&#x5C31;&#x5B58;&#x653E;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B50;&#x76EE;&#x5F55;&#x5B58;&#x653E;&#x4E00;&#x672C;&#x7535;&#x5B50;&#x4E66;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5728;books&#x76EE;&#x5F55;&#x4E0B;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x7684;GitBook&#x6784;&#x5EFA;&#x811A;&#x672C;&#xFF0C;&#x5373;&#x53EF;&#x5C06;&#x7535;&#x5B50;&#x4E66;&#x7684;&#x5185;&#x5BB9;&#x96C6;&#x6210;&#x5230;Hexo&#x535A;&#x5BA2;&#x5F53;&#x4E2D;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="shebang">#!/bin/bash</span><br><span class="line"></span></span><br><span class="line"><span class="built_in">source</span>=../public/books</span><br><span class="line"><span class="keyword">for</span> dir <span class="keyword">in</span> *;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="comment">#&#x5220;&#x9664;gitbook&#x751F;&#x6210;&#x7684;&#x5185;&#x5BB9;</span></span><br><span class="line">  <span class="keyword">if</span> [ <span class="operator">-d</span> <span class="variable">$source</span>/<span class="variable">$dir</span> ]; <span class="keyword">then</span></span><br><span class="line">    rm -r <span class="variable">$source</span>/<span class="variable">$dir</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  <span class="comment">#&#x91CD;&#x65B0;&#x751F;&#x6210;gitbook&#x7684;&#x5185;&#x5BB9;</span></span><br><span class="line">  <span class="keyword">if</span> [ <span class="operator">-d</span> <span class="variable">$dir</span> ]; <span class="keyword">then</span></span><br><span class="line">    gitbook build <span class="variable">$dir</span> <span class="variable">$source</span>/<span class="variable">$dir</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></div></div><div id="postamble" class="status">Last Updated 2017-04-17.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;p&gt;
&amp;#x6211;&amp;#x4F7F;&amp;#x7528;GitBook&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x7528;&amp;#x4E8E;&amp;#x8BB0;&amp;#x5F55;&amp;#x7B14;&amp;#x8BB0;&amp;#x7684;&amp;#xFF0
      
    
    </summary>
    
      <category term="Hexo" scheme="http://wing-ho.github.io/categories/Hexo/"/>
    
    
  </entry>
  
  <entry>
    <title>用Wine运行那些你离不开的应用</title>
    <link href="http://wing-ho.github.io/2017/03/12/%E7%94%A8Wine%E8%BF%90%E8%A1%8C%E9%82%A3%E4%BA%9B%E4%BD%A0%E7%A6%BB%E4%B8%8D%E5%BC%80%E7%9A%84%E5%BA%94%E7%94%A8/"/>
    <id>http://wing-ho.github.io/2017/03/12/用Wine运行那些你离不开的应用/</id>
    <published>2017-03-12T00:00:00.000Z</published>
    <updated>2018-10-01T12:33:30.165Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#org5e81225">1. &#x5B89;&#x88C5;wine&#x57FA;&#x672C;&#x73AF;&#x5883;</a></li><li><a href="#org0fc185b">2. QQ</a></li><li><a href="#org1c8c1e1">3. &#x5B89;&#x88C5;Photoshop cs6</a></li><li><a href="#orgd4afd3e">4. &#x5B89;&#x88C5;office</a><ul><li><a href="#orga881401">4.1. &#x5B89;&#x88C5;office</a></li><li><a href="#orgfe27702">4.2. &#x6FC0;&#x6D3B;office</a></li></ul></li><li><a href="#org259a545">5. &#x5B89;&#x88C5;WeChat</a></li><li><a href="#org74dffe8">6. Wine&#x7684;&#x4E00;&#x4E9B;&#x4F7F;&#x7528;&#x6280;&#x5DE7;</a><ul><li><a href="#orgf1757ac">6.1. &#x72EC;&#x7ACB;&#x7684;Wine&#x73AF;&#x5883;</a></li></ul></li><li><a href="#orga8c3d0e">7. crossover</a></li><li><a href="#org29e2b37">8. &#x540E;&#x8BB0;</a></li><li><a href="#orgde1658a">9. &#x53C2;&#x8003;&#x6587;&#x7AE0;</a></li></ul></div></div><p>&#x7ECF;&#x5E38;&#x5DE5;&#x4F5C;&#x5728;Linux&#x73AF;&#x5883;&#x91CC;&#xFF0C;&#x6709;&#x4E9B;&#x65F6;&#x5019;&#x4F60;&#x5374;&#x4E0D;&#x5F97;&#x4E0D;&#x5F00;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#x6216;&#x8005;&#x91CD;&#x542F;&#x5230;window&#x7CFB;&#x7EDF;&#x4E0B;&#xFF0C;&#x7528;&#x4E00;&#x4E0B;Office&#x3001;Photoshop&#x6216;&#x8005;QQ&#x7B49;&#x7B49;&#x3002;&#x4E3A;&#x4E86;&#x4E0D;&#x5E38;&#x7528;&#x7684;&#x51E0;&#x4E2A;&#x8F6F;&#x4EF6;&#xFF0C;&#x5B89;&#x88C5;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#x6216;&#x8005;&#x591A;&#x5B89;&#x88C5;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#xFF0C;&#x4F60;&#x4F1A;&#x89C9;&#x5F97;&#x592A;&#x9EBB;&#x70E6;&#x592A;&#x6D6A;&#x8D39;&#x7A7A;&#x95F4;&#x4E86;&#x3002;&#x4E8E;&#x662F;&#x60F3;&#x8BD5;&#x8BD5;wine&#xFF0C;&#x7ED3;&#x679C;&#x8FD8;&#x7B97;&#x6EE1;&#x610F;&#xFF0C;&#x5E38;&#x7528;&#x7684;&#x5E94;&#x7528;&#x57FA;&#x672C;&#x90FD;&#x80FD;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x3002;</p><div id="outline-container-org5e81225" class="outline-2"><h2 id="org5e81225"><span class="section-number-2">1</span> &#x5B89;&#x88C5;wine&#x57FA;&#x672C;&#x73AF;&#x5883;</h2><div class="outline-text-2" id="text-1"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S wine winetricks wine-mono wine_gecko</span><br><span class="line">sudo pacman -S lib32-mpg123 lib32-libpulse lib32-libxml2 lib32-lcms2 lib32-giflib lib32-libpng lib32-gnutls</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org0fc185b" class="outline-2"><h2 id="org0fc185b"><span class="section-number-2">2</span> QQ</h2><div class="outline-text-2" id="text-2"><p>&#x5B89;&#x88C5;&#x6E05;&#x98CE;&#x8001;&#x5E08;&#x7684;QQ</p></div></div><div id="outline-container-org1c8c1e1" class="outline-2"><h2 id="org1c8c1e1"><span class="section-number-2">3</span> &#x5B89;&#x88C5;Photoshop cs6</h2><div class="outline-text-2" id="text-3"><p>photoshop cs6&#x662F;32&#x4F4D;&#x4E0B;&#x6700;&#x65B0;&#x7684;P&#x56FE;&#x5DE5;&#x5177;&#x3002;&#x5B89;&#x88C5;&#x597D;&#x4E4B;&#x540E;&#x83DC;&#x5355;&#x680F;&#x90FD;&#x662F;&#x65B9;&#x6846;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x7F3A;&#x5C11;&#x5FC5;&#x8981;&#x7684;&#x5B57;&#x4F53;&#x3002;&#x53EF;&#x4EE5;&#x628A;&#x6240;&#x6709;&#x7684;&#x5B57;&#x4F53;&#x90FD;&#x5B89;&#x88C5;&#x4E0A;&#x8BD5;&#x8BD5;&#x3002;&#x5982;&#x679C;&#x4F7F;&#x7528;crossover&#x5C31;&#x5F53;&#x6210;&#x662F;&#x5B89;&#x88C5;photoshop cs2&#x6765;&#x914D;&#x7F6E;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x5C31;&#x53EF;&#x4E86;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">winetricks adobeair msxml3 msxml6 vcrun2005 vcrun2008 vcrun2010 atmlib gdiplus vcrun2005sp1 ie6 fontsmooth-rgb </span><br><span class="line"><span class="comment">#&#x5982;&#x679C;&#x4E0B;&#x8F7D;&#x4E0D;&#x5230;&#xFF0C;&#x81EA;&#x5DF1;&#x624B;&#x52A8;&#x4E0B;&#x8F7D;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x76EE;&#x5F55;</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgd4afd3e" class="outline-2"><h2 id="orgd4afd3e"><span class="section-number-2">4</span> &#x5B89;&#x88C5;office</h2><div class="outline-text-2" id="text-4"></div><div id="outline-container-orga881401" class="outline-3"><h3 id="orga881401"><span class="section-number-3">4.1</span> &#x5B89;&#x88C5;office</h3><div class="outline-text-3" id="text-4-1"><p>&#x6E05;&#x98CE;&#x7684;qq&#x91CC;&#x9762;&#x6709;&#x5B8B;&#x4F53;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x7684;&#x73AF;&#x5883;&#x4F9D;&#x8D56;&#xFF0C;&#x5148;&#x5B89;&#x88C5;qq&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x9EBB;&#x70E6;&#xFF0C;&#x7528;winetricks&#x5B89;&#x88C5;msctf&#xFF0C;&#x7136;&#x540E;&#x5230;winecfg&#x5C06;msctf&#x914D;&#x7F6E;&#x4E3A;native&#xFF0C;&#x57FA;&#x672C;&#x90FD;&#x80FD;&#x6B63;&#x5E38;&#x4F7F;&#x7528;&#x4E86;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">winetricks msctf msxml3</span><br><span class="line">winecfg</span><br><span class="line"><span class="comment">#&#x5982;&#x679C;&#x4E0D;&#x505C;&#x5730;&#x63D0;&#x793A;&#x4F60;&#x63D2;&#x5165;&#x78C1;&#x76D8;1&#xFF0C;&#x5230;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x5220;&#x9664;&#x5149;&#x76D8;&#x9A71;&#x52A8;&#x76D8;&#x7B26;</span></span><br><span class="line"><span class="built_in">cd</span> ~/.wine/dosdevices/</span><br></pre></td></tr></table></figure></div><p>&#x5982;&#x679C;&#x53D1;&#x73B0;powerpoint&#x65E0;&#x6CD5;&#x8F93;&#x5165;&#x6C49;&#x5B57;&#xFF0C;&#x90A3;&#x4E48;&#x5F88;&#x53EF;&#x80FD;&#x662F;&#x56E0;&#x4E3A;&#x4F60;&#x4F7F;&#x7528;&#x4E86;&#x82F1;&#x6587;&#x7684;&#x754C;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x4FDD;&#x7559;&#x76EE;&#x524D;&#x914D;&#x7F6E;&#xFF0C;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;desktop&#x6587;&#x4EF6;&#xFF0C;&#x589E;&#x52A0;LANG&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.local/share/applications/wine/Programs/Microsoft Office/Microsoft/Microsoft Office PowerPoint <span class="number">2007</span>.desktop</span><br><span class="line"><span class="comment">#&#x627E;&#x5230;&#x8FD9;&#x884C;&#xFF0C;&#x589E;&#x52A0;LANG&#x73AF;&#x5883;&#x53D8;&#x91CF;</span></span><br><span class="line">Exec=env WINEPREFIX=<span class="string">&quot;/home/wing/.wine&quot;</span> wine C:\\\\windows\\\\<span class="built_in">command</span>\\\\start.exe /Unix /home/wing/.wine/dosdevices/c:/users/wing/Start\\ Menu/Programs/Microsoft\\ Office/Microsoft\\ Office\\ PowerPoint\\ <span class="number">2007</span>.lnk</span><br><span class="line">Exec=env LANG=zh_CN.UTF-<span class="number">8</span> WINEPREFIX=<span class="string">&quot;/home/wing/.wine&quot;</span> wine C:\\\\windows\\\\<span class="built_in">command</span>\\\\start.exe /Unix /home/wing/.wine/dosdevices/c:/users/wing/Start\\ Menu/Programs/Microsoft\\ Office/Microsoft\\ Office\\ PowerPoint\\ <span class="number">2007</span>.lnk</span><br></pre></td></tr></table></figure></div><p>&#x5B89;&#x88C5;office sp2&#x66F4;&#x65B0;&#x540E;&#x4F1A;&#x51FA;&#x73B0;Access&#x65E0;&#x6CD5;&#x542F;&#x52A8;&#xFF0C;&#x63D0;&#x793A;C++ error R6034&#xFF0C;&#x627E;&#x5230;Access&#x7684;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#xFF0C;&#x4FEE;&#x6539;msaccess.exe.manifest&#xFF0C;&#x627E;&#x5230;&#x5E76;&#x5220;&#x9664;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;&lt;dependentAssembly&gt;&lt;assemblyIdentity <span class="built_in">type</span>=<span class="string">&quot;win32&quot;</span> name=<span class="string">&quot;AceDAO&quot;</span> version=<span class="string">&quot;14.0.0.0&quot;</span> language=<span class="string">&quot;*&quot;</span> processorArchitecture=<span class="string">&quot;X86&quot;</span>&gt;&lt;/assemblyIdentity&gt;&lt;/dependentAssembly&gt;&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></div><p>Visio&#x4E2D;&#x56FE;&#x5F62;&#x7684;&#x6587;&#x5B57;&#x663E;&#x793A;&#x4E3A;&#x65B9;&#x5757;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x628A;windows&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;simsun.ttc&#x590D;&#x5236;&#x5230;Linux&#x7CFB;&#x7EDF;&#x4E0B;&#x7684;~/.local/share/fonts&#x4E2D;&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x66F4;&#x65B0;&#x5B57;&#x4F53;&#x7F13;&#x5B58;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">fc</span>-cache -vf</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgfe27702" class="outline-3"><h3 id="orgfe27702"><span class="section-number-3">4.2</span> &#x6FC0;&#x6D3B;office</h3><div class="outline-text-3" id="text-4-2"><blockquote><ol class="org-ol"><li>&#x8FD0;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x6253;&#x5F00;&#x6CE8;&#x518C;&#x8868;&#x7F16;&#x8F91;&#x5668;C:\windows\system32\regedit.exe</li><li>&#x627E;&#x5230;HKEY_LOCAL_MACHINE\Software\Microsoft\OfficeSoftwareProtectionPlatform&#x6DFB;&#x52A0;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x952E;&#xFF1A; KeyManagementServiceName &#x503C;&#x4E3A;KMS&#x6FC0;&#x6D3B;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5730;&#x5740;&#x3002;&#x4EE5;&#x53CA;KeyManagementServicePort (insert server port, default 1688)</li><li>&#x91CD;&#x65B0;&#x6253;&#x5F00;word&#xFF0C;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x8FC7;&#x671F;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x7EA2;&#x8272;&#x7684;&#x80CC;&#x666F;&#x63D0;&#x793A;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x4ECD;&#x7136;&#x63D0;&#x793A;&#x6FC0;&#x6D3B;&#x5931;&#x8D25;</li><li>&#x6267;&#x884C;&#x4E86;3&#x4E4B;&#x540E;HKEY_USERS\&#xAD;S-1-5-20\Software\Microsoft\OfficeSoftwareProtectionPlatform&#x4E2D;VLRenewalSchedule&#x7684;&#x503C;&#x5C31;&#x53D8;&#x4E86;&#x3002;&#x4FEE;&#x6539;&#x4E3A;&#x4EFB;&#x5176;&#x5B83;&#x610F;&#x503C;&#xFF0C;&#x91CD;&#x542F;word&#x5373;&#x53EF;&#x6210;&#x529F;&#x3002;</li></ol></blockquote></div></div></div><div id="outline-container-org259a545" class="outline-2"><h2 id="org259a545"><span class="section-number-2">5</span> &#x5B89;&#x88C5;WeChat</h2><div class="outline-text-2" id="text-5"><p>&#x6709;&#x4EBA;&#x505A;&#x4E86;&#x4E2A;&#x4FEE;&#x6539;&#x7248;&#x7684;winetrick-zh&#xFF0C;&#x597D;&#x50CF;&#x53EA;&#x662F;&#x505A;&#x4E86;&#x6C49;&#x5316;&#x800C;&#x5DF2;&#xFF0C;&#x6BD4;&#x8F83;&#x6709;&#x7528;&#x7684;&#x662F;&#x4F5C;&#x8005;&#x7F16;&#x5199;&#x7684;verb&#x6587;&#x4EF6;&#xFF0C;&#x4E0B;&#x8F7D;<a href="https://github.com/hillwoodroc/winetricks-zh/blob/master/verb/wechat.verb" target="_blank" rel="noopener">https://github.com/hillwoodroc/winetricks-zh/blob/master/verb/wechat.verb</a></p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">winetricks wechat.verb</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org74dffe8" class="outline-2"><h2 id="org74dffe8"><span class="section-number-2">6</span> Wine&#x7684;&#x4E00;&#x4E9B;&#x4F7F;&#x7528;&#x6280;&#x5DE7;</h2><div class="outline-text-2" id="text-6"></div><div id="outline-container-orgf1757ac" class="outline-3"><h3 id="orgf1757ac"><span class="section-number-3">6.1</span> &#x72EC;&#x7ACB;&#x7684;Wine&#x73AF;&#x5883;</h3><div class="outline-text-3" id="text-6-1"><p>&#x53EF;&#x4EE5;&#x5728;&#x6240;&#x6709;&#x547D;&#x4EE4;&#x524D;&#x52A0;WINEPREFIX=your_dir &#xFF0C;&#x5982;&#xFF1A;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#&#x5F97;&#x5230;&#x4E00;&#x4E2A;32&#x4F4D;&#x7684;&#x8FD0;&#x884C;&#x73AF;&#x5883;</span></span><br><span class="line"></span><br><span class="line">WINEARCH=win32 WINEPREFIX=~/win32 winecfg </span><br><span class="line">WINEPREFIX=~/.wineWar3 wine regedit</span><br><span class="line">WINEPREFIX=~/.wineWar3 wine War3.exe -opengl</span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-orga8c3d0e" class="outline-2"><h2 id="orga8c3d0e"><span class="section-number-2">7</span> crossover</h2><div class="outline-text-2" id="text-7"><p>&#x7ECF;&#x8FC7;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x6298;&#x817E;&#x4E4B;&#x540E;&#xFF0C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;wine&#x4E5F;&#x57FA;&#x672C;&#x591F;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x82B1;&#x4E86;&#x592A;&#x591A;&#x7684;&#x65F6;&#x95F4;&#x6298;&#x817E;&#x4E86;&#x3002;&#x4F7F;&#x7528;crossover&#x53EF;&#x4EE5;&#x51CF;&#x5C11;&#x5F88;&#x591A;&#x9EBB;&#x70E6;&#xFF0C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;wine&#x592A;&#x6298;&#x817E;&#x4E86;&#xFF0C;&#x592A;&#x6D6A;&#x8D39;&#x65F6;&#x95F4;&#x4E86;&#xFF0C;&#x4F7F;&#x7528;&#x4F18;&#x60E0;&#x5377;&#x5C31;100&#x591A;&#x3002;</p></div></div><div id="outline-container-org29e2b37" class="outline-2"><h2 id="org29e2b37"><span class="section-number-2">8</span> &#x540E;&#x8BB0;</h2><div class="outline-text-2" id="text-8"><p>&#x867D;&#x7136;crossover&#x53EF;&#x4EE5;&#x5B89;&#x88C5;Office&#xFF0C;&#x751A;&#x81F3;&#x662F;Photoshop&#xFF0C;&#x4F46;&#x662F;&#x7A33;&#x5B9A;&#x6027;&#x548C;&#x517C;&#x5BB9;&#x6027;&#x662F;&#x6709;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#x7684;&#xFF0C;&#x6700;&#x540E;&#x514D;&#x4E0D;&#x4E86;&#x8981;&#x5F00;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#x8DD1;windows&#xFF0C;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x6548;&#x7387;&#x907F;&#x514D;&#x8DD1;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x6211;&#x8FD8;&#x4E13;&#x95E8;&#x505A;&#x4E86;&#x4E00;&#x4E2A;&#x542F;&#x52A8;&#x76D8;&#xFF0C;&#x91CC;&#x9762;&#x6709;Linux&#x548C;Windows&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x53EF;&#x4EE5;&#x771F;&#x673A;&#x542F;&#x52A8;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;qemu&#x542F;&#x52A8;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5B89;&#x88C5;&#x7CFB;&#x7EDF;&#x3001;&#x5237;&#x673A;&#x548C;&#x7EF4;&#x62A4;&#x673A;&#x5668;&#xFF0C;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x7528;&#x4E8E;&#x65E5;&#x5E38;&#x5DE5;&#x4F5C;&#xFF0C;&#x53EF;&#x4EE5;&#x968F;&#x65F6;&#x6DFB;&#x52A0;&#x559C;&#x6B22;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x4E0D;&#x518D;&#x53D7;&#x9650;&#x4E8E;LiveCD&#x6216;&#x8005;WinPE&#x91CC;&#x96C6;&#x6210;&#x7684;&#x5DE5;&#x5177;&#x3002;&#x5236;&#x4F5C;&#x8FD9;&#x4E2A;&#x542F;&#x52A8;&#x76D8;&#x7684;&#x8FC7;&#x7A0B;&#x5F53;&#x4E2D;&#xFF0C;&#x6211;&#x5B66;&#x4F1A;&#x4E86;&#x6B63;&#x786E;&#x4F7F;&#x7528;qemu&#x7684;&#x59FF;&#x52BF;&#xFF0C;passthrough&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x5728;&#x662F;&#x975E;&#x5E38;&#x7684;&#x5F3A;&#x5927;&#xFF0C;&#x78B0;&#x5230;&#x53EA;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x65E7;&#x7CFB;&#x7EDF;&#x7684;&#x8F6F;&#x4EF6;&#xFF08;&#x9A71;&#x52A8;&#x95EE;&#x9898;&#x65E0;&#x6CD5;&#x8FC1;&#x79FB;&#x5230;&#x65B0;&#x786C;&#x4EF6;&#x73AF;&#x5883;&#x4E0B;&#xFF09;&#x7684;&#x65F6;&#x5019;&#x771F;&#x662F;&#x53EF;&#x4EE5;&#x5927;&#x53D1;&#x795E;&#x5A01;&#xFF0C;&#x5728;qemu&#x5E2E;&#x52A9;&#x4E0B;&#x865A;&#x62DF;&#x673A;&#x8DDF;&#x771F;&#x673A;&#x7684;&#x4F7F;&#x7528;&#x4F53;&#x9A8C;&#x6CA1;&#x6709;&#x7279;&#x522B;&#x5927;&#x7684;&#x5DEE;&#x522B;&#xFF0C;&#x751A;&#x81F3;&#x8FD8;&#x6709;&#x4E00;&#x4E9B;&#x771F;&#x673A;&#x4E0A;&#x6CA1;&#x6709;&#x7684;&#x4F18;&#x70B9;&#xFF0C;&#x6BD4;&#x5982;&#x4F7F;&#x7528;Slic2.1&#x8BC1;&#x4E66;&#x6765;&#x6FC0;&#x6D3B;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3002;</p></div></div><div id="outline-container-orgde1658a" class="outline-2"><h2 id="orgde1658a"><span class="section-number-2">9</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;</h2><div class="outline-text-2" id="text-9"><ol class="org-ol"><li><a href="https://wiki.archlinux.org/index.php/Wine_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noopener">Wine ArchLinux Wiki</a></li><li><a href="http://phpcj.org/wineqq/" target="_blank" rel="noopener">&#x6E05;&#x98CE;QQ</a></li><li><a href="http://www.anxz.com/down/1884.html" target="_blank" rel="noopener">photoshop cs6&#x4E0B;&#x8F7D;&#x5730;&#x5740;</a></li><li><a href="http://blog.chinaunix.net/uid-23896361-id-3363403.html" target="_blank" rel="noopener">wine&#x4E2D;word&#x4E0D;&#x80FD;&#x6253;&#x5F00;&#x548C;&#x4FDD;&#x5B58;</a></li><li><a href="http://forum.ubuntu.org.cn/viewtopic.php?f=121&amp;t=187056" target="_blank" rel="noopener">&#x4E3A;&#x4EC0;&#x4E48;Wine &#x80FD;&#x5728;notepad&#x91CC;&#x9762;&#x8F93;&#x5165;&#x4E2D;&#x6587;&#xFF0C;&#x800C;&#x5728;ies4linux &#x548C; office &#x91CC;&#x9762;&#x4E0D;&#x80FD;&#xFF1F;</a></li><li><a href="http://www.cnblogs.com/makefile/p/6079451.html" target="_blank" rel="noopener">&#x8BB0;&#x5F55;&#x5728;linux&#x4E0B;&#x7684;wine&#x751F;&#x6D3B;</a></li></ol></div></div></div><div id="postamble" class="status">Last Updated 2017-03-12.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#org5e81225&quot;&gt;1
      
    
    </summary>
    
      <category term="Linux" scheme="http://wing-ho.github.io/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>将Emacs写作环境转移到Windows</title>
    <link href="http://wing-ho.github.io/2016/07/19/%E5%B0%86Emacs%E5%86%99%E4%BD%9C%E7%8E%AF%E5%A2%83%E8%BD%AC%E7%A7%BB%E5%88%B0Windows/"/>
    <id>http://wing-ho.github.io/2016/07/19/将Emacs写作环境转移到Windows/</id>
    <published>2016-07-19T00:00:00.000Z</published>
    <updated>2018-09-10T02:24:18.971Z</updated>
    
    <content type="html"><![CDATA[&#xFEFF;<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#orgfc86c11">1. &#x5B89;&#x88C5;windows&#x7248;&#x672C;&#x7684;node</a></li><li><a href="#orgbf2d337">2. &#x914D;&#x7F6E;mingw64&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;</a></li><li><a href="#orgfe55d88">3. &#x5B89;&#x88C5;python2,python3</a></li><li><a href="#orgec51425">4. &#x5B89;&#x88C5;git</a></li><li><a href="#orged40224">5. &#x5B89;&#x88C5;Hexo</a></li><li><a href="#orgec37166">6. &#x5B89;&#x88C5;&#x4E3B;&#x9898;maupassant</a></li><li><a href="#org33e57b1">7. &#x5B89;&#x88C5;&#x76F8;&#x5173;&#x63D2;&#x4EF6;</a></li><li><a href="#org153b451">8. &#x914D;&#x7F6E;blog-admin</a></li><li><a href="#orge6cc53a">9. &#x914D;&#x7F6E;Emacs&#x9ED8;&#x8BA4;&#x6D4F;&#x89C8;&#x5668;</a></li><li><a href="#orgb81c468">10. &#x5B89;&#x88C5;&#x5B57;&#x4F53;</a></li><li><a href="#orgca513cd">11. &#x540E;&#x8BB0;</a></li></ul></div></div><p>Bash on Ubuntu on Windows&#xFF08;&#x7B80;&#x79F0;WSL&#xFF09;&#x53D1;&#x5E03;&#x4E86;&#xFF0C;&#x968F;&#x7740;&#x8FD9;&#x4E2A;subsystem&#x7684;&#x53D1;&#x5E03;&#x548C;&#x5B8C;&#x5584;&#xFF0C;&#x4F30;&#x8BA1;&#x4EE5;&#x540E;&#x4F1A;&#x865A;&#x62DF;&#x673A;&#x8DD1;Linux&#x7684;&#x65F6;&#x5149;&#x3002;&#x6211;&#x5F53;&#x7136;&#x5E0C;&#x671B;&#x7528;WSL&#x6765;&#x642D;&#x5EFA;&#x5199;&#x4F5C;&#x73AF;&#x5883;&#xFF0C;&#x4F46;WSL&#x9ED8;&#x8BA4;&#x53EA;&#x63D0;&#x4F9B;&#x5BF9;&#x547D;&#x4EE4;&#x884C;&#x7A0B;&#x5E8F;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;GUI&#x7A0B;&#x5E8F;&#xFF0C;&#x867D;&#x7136;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5B89;&#x88C5;xming&#xFF0C;Xmanger&#x7B49;Xserver&#x65B9;&#x6CD5;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x8BA9;WSL&#x7684;GUI&#x7A0B;&#x5E8F;&#x8DD1;&#x5728;Windows&#x4E0A;&#x3002;emacs&#x4E5F;&#x80FD;&#x6210;&#x529F;&#x5B89;&#x88C5;&#x548C;&#x8FD0;&#x884C;&#xFF0C;&#x4F46;Bash&#x4E0B;&#x5E76;&#x4E0D;&#x652F;&#x6301;&#x4E2D;&#x6587;&#x8F93;&#x5165;&#x3002;&#x8BA9;emacs&#x8DD1;&#x5728;xserver&#x4E0A;&#xFF0C;&#x540C;&#x6837;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x8C03;&#x51FA;&#x8F93;&#x5165;&#x6CD5;&#x3002;&#x4F30;&#x8BA1;&#x4EE5;&#x540E;&#x6210;&#x719F;&#x4E86;GUI&#x7A0B;&#x5E8F;&#x8FD8;&#x662F;&#x80FD;&#x591F;&#x8DD1;&#x8D77;&#x6765;&#x7684;&#xFF0C;&#x5148;&#x653E;&#x5F03;WSL&#xFF0C;&#x6682;&#x65F6;&#x7528;msys2&#x642D;&#x5EFA;&#x73AF;&#x5883;&#xFF0C;&#x4ECE;&#x7ED3;&#x679C;&#x6765;&#x770B;&#x8FD8;&#x662F;&#x633A;&#x6EE1;&#x610F;&#x7684;&#x3002;</p><div id="outline-container-orgfc86c11" class="outline-2"><h2 id="orgfc86c11"><span class="section-number-2">1</span> &#x5B89;&#x88C5;windows&#x7248;&#x672C;&#x7684;node</h2><div class="outline-text-2" id="text-1"><p>&#x5230;nodejs&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;<a href="https://nodejs.org/dist/v4.4.7/node-v4.4.7-x64.msi" target="_blank" rel="noopener">node 4.4.7</a>,&#x5E76;&#x5B89;&#x88C5;&#x5230;d:\Runtime\nodejs&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF0C;&#x80FD;&#x6B63;&#x5E38;&#x8F93;&#x51FA;node&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x8BF4;&#x660E;&#x4F60;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x6210;&#x529F;&#x4E86;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgbf2d337" class="outline-2"><h2 id="orgbf2d337"><span class="section-number-2">2</span> &#x914D;&#x7F6E;mingw64&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;</h2><div class="outline-text-2" id="text-2"><p>&#x6211;&#x81EA;&#x5DF1;&#x6BD4;&#x8F83;&#x559C;&#x6B22;&#x7528;emacs&#xFF0C;&#x535A;&#x5BA2;&#x90FD;&#x662F;&#x7528;org&#x6765;&#x5199;&#x7684;&#xFF0C;org&#x6587;&#x4EF6;&#x7684;&#x6E32;&#x67D3;&#x662F;&#x4F9D;&#x8D56;emacs&#x7684;&#xFF0C;emacs&#x662F;&#x5B89;&#x88C5;&#x5728;ming64&#x73AF;&#x5883;&#x91CC;&#x9762;&#x7684;&#xFF0C;&#x6240;&#x4EE5;hexo&#x8981;&#x80FD;&#x6210;&#x529F;&#x8C03;&#x7528;emacs&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x628A;nodejs&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x6DFB;&#x52A0;&#x5230;mingw64&#x7684;&#x73AF;&#x5883;&#x4E2D;&#x3002;&#x6253;&#x5F00;mingw64</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim .bashrc</span><br><span class="line"><span class="comment">#&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF0C;&#x6DFB;&#x52A0;&#x5176;&#x4ED6;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E5F;&#x662F;&#x7C7B;&#x4F3C;&#x7684;</span></span><br><span class="line"><span class="built_in">export</span> NODE_HOME=/d/Runtime/nodejs</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$NODE_HOME</span>:<span class="variable">$NODE_HOME</span>/node_global:<span class="variable">${PATH}</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgfe55d88" class="outline-2"><h2 id="orgfe55d88"><span class="section-number-2">3</span> &#x5B89;&#x88C5;python2,python3</h2><div class="outline-text-2" id="text-3"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pacman -S python2 python3</span><br><span class="line">pacman -S mingw-w64-x86_64-python2-pip</span><br><span class="line">pacman -S mingw-w64-x86_64-python3-pip</span><br><span class="line"><span class="comment">#&#x4FEE;&#x6539;msys2&#x9ED8;&#x8BA4;&#x7684;python&#x7248;&#x672C;</span></span><br><span class="line">mv python.exe python_backup.exe</span><br><span class="line">cp python3 python</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgec51425" class="outline-2"><h2 id="orgec51425"><span class="section-number-2">4</span> &#x5B89;&#x88C5;git</h2><div class="outline-text-2" id="text-4"><p>&#x6253;&#x5F00;mingw64&#xFF0C;&#x5173;&#x4E8E;mingw32&#x3001;mingw64&#x3001;msys2&#x7684;&#x5DEE;&#x522B;&#xFF0C;&#x53C2;&#x8003;&#x6587;&#x7AE0;<a href="http://www.tuicool.com/articles/zmeQfu" target="_blank" rel="noopener">MSYS2 + MinGW-w64 + Git + gVim &#x73AF;&#x5883;&#x914D;&#x7F6E;</a></p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pacman -Syu</span><br><span class="line">pacman -S git</span><br><span class="line">git config --global user.name <span class="string">&quot;wing-ho&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;genrong.he@gmail.com&quot;</span></span><br></pre></td></tr></table></figure></div><p>&#x628A;&#x4E4B;&#x524D;&#x5728;Linux&#x4E0B;&#x751F;&#x6210;&#x7684;id<sub>rsa</sub>&#x3001;id<sub>rsa.pub&#x62F7;&#x8D1D;&#x5230;mingw64&#x7684;</sub>~/.ssh&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x6216;&#x8005;&#x91CD;&#x65B0;&#x751F;&#x6210;rsa&#x7684;&#x79C1;&#x94A5;&#x548C;&#x516C;&#x94A5;&#xFF0C;&#x751F;&#x6210;&#x65B9;&#x6CD5;&#x53C2;&#x8003;<a href="http://www.jianshu.com/p/31cbbbc5f9fa/" target="_blank" rel="noopener">&#x5982;&#x4F55;&#x751F;&#x6210;SSH key&#x3002;</a></p></div></div><div id="outline-container-orged40224" class="outline-2"><h2 id="orged40224"><span class="section-number-2">5</span> &#x5B89;&#x88C5;Hexo</h2><div class="outline-text-2" id="text-5"><p>&#x6253;&#x5F00;mingw64</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo init blog</span><br><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line">npm install</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure></div><p>&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165;<a href="http://loalhost:4000" target="_blank" rel="noopener">http://loalhost:4000</a>&#xFF0C;&#x5E94;&#x8BE5;&#x80FD;&#x770B;&#x5230;Hexo&#x7684;Hello World&#x9875;&#x9762;&#x3002;</p></div></div><div id="outline-container-orgec37166" class="outline-2"><h2 id="orgec37166"><span class="section-number-2">6</span> &#x5B89;&#x88C5;&#x4E3B;&#x9898;maupassant</h2><div class="outline-text-2" id="text-6"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/blog</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/tufu9441/maupassant-hexo.git themes/maupassant</span><br><span class="line">npm install hexo-renderer-jade --save</span><br><span class="line">npm install hexo-renderer-sass --save</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org33e57b1" class="outline-2"><h2 id="org33e57b1"><span class="section-number-2">7</span> &#x5B89;&#x88C5;&#x76F8;&#x5173;&#x63D2;&#x4EF6;</h2><div class="outline-text-2" id="text-7"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-asset-image --save</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">npm install hexo-generator-feed --save</span><br><span class="line">npm install hexo-renderer-org --save</span><br></pre></td></tr></table></figure></div><p>&#x65B0;&#x7248;&#x672C;&#x7684;hexo-assert-image@0.0.2&#x5BF9;&#x56FE;&#x7247;&#x7684;&#x8DEF;&#x5F84;&#x8BA1;&#x7B97;&#x6709;&#x8BEF;&#xFF0C;&#x9700;&#x8981;&#x5C06;&#x8DEF;&#x5F84;&#x7684;&quot;./&#x201C;&#x8FD9;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x53BB;&#x6389;&#x3002;</p><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">#&#x7B2C;30&#x884C;</span><br><span class="line">var src = $(this).attr(&apos;src&apos;).replace(&apos;\\&apos;, &apos;/&apos;).substring(2);</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org153b451" class="outline-2"><h2 id="org153b451"><span class="section-number-2">8</span> &#x914D;&#x7F6E;blog-admin</h2><div class="outline-text-2" id="text-8"><p>&#x53C2;&#x8003;&#x6211;&#x7684;spacemacs&#x7684;<a href="https://github.com/wing-ho/spacemacs-private" target="_blank" rel="noopener">Layer</a>&#x8FC1;&#x79FB;&#x5230;Windows&#x4E0B;&#xFF0C;&#x8868;&#x683C;&#x4E2D;&#x82F1;&#x6587;&#x6DF7;&#x6392;&#x65F6;&#x65E0;&#x6CD5;&#x5BF9;&#x9F50;&#x7684;&#x95EE;&#x9898;&#x53C8;&#x518D;&#x6B21;&#x51FA;&#x73B0;&#xFF0C;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x662F;&#x5728;dotspacemacs/user-config&#x51FD;&#x6570;&#x5F53;&#x4E2D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#x3002;&#x53C2;&#x8003;&#x6587;&#x7AE0;<a href="http://www.cnblogs.com/bamanzi/p/org-mode-tips.html" target="_blank" rel="noopener">org-mode&#x7684;&#x4E00;&#x4E9B;&#x5C0F;&#x6280;&#x5DE7;</a></p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">set-default-font</span> <span class="string">&quot;Ubuntu Mono 12&quot;</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">set-fontset-font</span> <span class="string">&quot;fontset-default&quot;</span> <span class="quoted">&apos;unicode</span><span class="string">&quot;WenQuanYi Bitmap Song 12&quot;</span>)</span> <span class="comment">;;for linux</span></span><br><span class="line"><span class="list">(<span class="keyword">set-fontset-font</span> <span class="string">&quot;fontset-default&quot;</span> <span class="quoted">&apos;unicode</span> <span class="string">&quot;&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1; 12&quot;</span>)</span> <span class="comment">;; for windows</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orge6cc53a" class="outline-2"><h2 id="orge6cc53a"><span class="section-number-2">9</span> &#x914D;&#x7F6E;Emacs&#x9ED8;&#x8BA4;&#x6D4F;&#x89C8;&#x5668;</h2><div class="outline-text-2" id="text-9"><p>&#x6211;&#x81EA;&#x5DF1;&#x9ED8;&#x8BA4;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x662F;Firefox&#xFF0C;&#x867D;&#x7136;Emacs&#x81EA;&#x5E26;&#x7684;&#x51FD;&#x6570;browse-url-firefox&#x662F;&#x9488;&#x5BF9;Linux&#x7CFB;&#x7EDF;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x66FF;&#x6362;&#x5B83;&#x7684;&#x4F5C;&#x7528;&#x3002;&#x6253;&#x5F00;~/.spacemacs&#x5728;dotspacemacs/user-config&#x51FD;&#x6570;&#x5F53;&#x4E2D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#x3002;<a href="https://www.emacswiki.org/emacs/BrowseUrl" target="_blank" rel="noopener">&#x53C2;&#x8003;&#x6587;&#x7AE0;&#xFF1A;BrowseUrl</a></p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> dotspacemacs/user-config <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">defun</span> browse-url-win-firefox <span class="list">(<span class="keyword">url</span> <span class="keyword">&amp;optional</span> new-window)</span></span><br><span class="line">    <span class="list">(<span class="keyword">shell-command</span></span><br><span class="line">     <span class="list">(<span class="keyword">concat</span> <span class="string">&quot;start firefox &quot;</span> url)</span>)</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq</span> browse-url-browser-function <span class="quoted">&apos;browse-url-win-firefox</span>)</span></span><br><span class="line">)</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgb81c468" class="outline-2"><h2 id="orgb81c468"><span class="section-number-2">10</span> &#x5B89;&#x88C5;&#x5B57;&#x4F53;</h2><div class="outline-text-2" id="text-10"><p><a href="http://font.ubuntu.com/download/ubuntu-font-family-0.83.zip" target="_blank" rel="noopener">Ubuntu Mono</a>&#x6211;&#x6BD4;&#x8F83;&#x559C;&#x6B22;&#x7684;&#x82F1;&#x6587;&#x5B57;&#x4F53;&#xFF0C;&#x6211;&#x662F;&#x7528;&#x5B83;&#x4F5C;&#x4E3A;&#x6211;&#x7684;&#x9ED8;&#x8BA4;&#x82F1;&#x6587;&#x5B57;&#x4F53;&#x7684;&#x3002;<a href="http://zengrong.net/post/1230.htm" target="_blank" rel="noopener">&#x96C5;&#x9ED1;-Consolas&#x6DF7;&#x5408;&#x5B57;&#x4F53;&#xFF0C;&#x7F16;&#x7A0B;&#x4E13;&#x7528;</a>&#x5982;&#x679C;&#x7528;&#x5176;&#x4ED6;&#x7684;&#x7F16;&#x8F91;&#x5668;&#xFF0C;&#x53EA;&#x80FD;&#x8BBE;&#x7F6E;&#x4E00;&#x79CD;&#x5B57;&#x4F53;&#xFF0C;&#x8FD9;&#x79CD;&#x5B57;&#x4F53;&#x4E2D;&#x82F1;&#x6587;&#x770B;&#x8D77;&#x6765;&#x90FD;&#x5F88;&#x4E0D;&#x9519;&#xFF0C;&#x975E;&#x5E38;&#x9002;&#x5408;&#x6211;&#x4EEC;&#x7A0B;&#x5E8F;&#x5458;&#x4F7F;&#x7528;&#xFF0C;&#x4E3A;&#x4E86;&#x5728;&#x7F16;&#x8F91;&#x5668;&#x4E2D;&#x770B;&#x8D77;&#x6765;&#x66F4;&#x52A0;&#x9510;&#x5229;&#xFF0C;&#x7528;IE&#x6253;&#x5F00;&#x94FE;&#x63A5;<a href="https://www.microsoft.com/typography/ClearType/tuner/Step1.aspx" target="_blank" rel="noopener">cleartype</a>&#x8BBE;&#x7F6E;&#x663E;&#x793A;&#x6548;&#x679C;&#x3002;Emacs&#x662F;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x4E2D;&#x82F1;&#x6587;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x5B57;&#x4F53;&#x7684;&#xFF0C;&#x4E2D;&#x6587;&#x5B57;&#x4F53;&#x6211;&#x6BD4;&#x8F83;&#x559C;&#x6B22;&#x96C5;&#x9ED1;&#xFF0C;&#x5177;&#x4F53;&#x8BBE;&#x7F6E;&#x65B9;&#x6CD5;&#x53C2;&#x8003;&#x914D;&#x7F6E;blog-admin&#x4E00;&#x8282;&#x3002;</p><p>&#x81F3;&#x6B64;&#x603B;&#x7B97;&#x628A;Emacs&#x7684;&#x5199;&#x4F5C;&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x597D;&#x4E86;&#xFF0C;&#x56DE;&#x5230;Windows&#x7684;&#x611F;&#x89C9;&#x771F;&#x597D;&#xFF0C;Windows&#x4E0B;&#x7684;&#x4E30;&#x5BCC;&#x7684;&#x5404;&#x79CD;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x800C;&#x4E14;&#x73B0;&#x5728;&#x6709;&#x4E86;Bash On Windows&#xFF0C;&#x5B9E;&#x5728;&#x9700;&#x8981;&#x5230;Linux&#x4E0B;&#x8DD1;&#x7684;&#x7A0B;&#x5E8F;&#x5C31;&#x653E;&#x5230;WSL&#x4E0B;&#x8DD1;&#x5C31;&#x53EF;&#x4EE5;&#x4E86; &#x3002;&#x77ED;&#x671F;&#x6765;&#x770B;&#xFF0C;&#x786C;&#x76D8;&#x4E2D;&#x7684;Linux&#x8FD8;&#x662F;&#x8981;&#x4FDD;&#x7559;&#x7684;&#xFF0C;&#x7528;WSL&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x7ECF;&#x5E38;&#x4F1A;&#x51FA;&#x5404;&#x79CD;&#x83AB;&#x540D;&#x5176;&#x5999;&#x7684;&#x95EE;&#x9898;&#x7684;&#x3002;</p></div></div><div id="outline-container-orgca513cd" class="outline-2"><h2 id="orgca513cd"><span class="section-number-2">11</span> &#x540E;&#x8BB0;</h2><div class="outline-text-2" id="text-11"><p>Windows 10&#x7684;&#x66F4;&#x65B0;&#x7B56;&#x7565;&#x6539;&#x53D8;&#x4E4B;&#x540E;&#xFF0C;&#x6BCF;&#x6B21;&#x5927;&#x7684;&#x7248;&#x672C;&#x66F4;&#x65B0;&#x5C31;&#x50CF;&#x662F;&#x91CD;&#x88C5;&#x4E00;&#x6B21;&#x7CFB;&#x7EDF;&#x4F3C;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x7B49;&#x5F85;&#x6F2B;&#x957F;&#x7684;&#x66F4;&#x65B0;&#x65F6;&#x95F4;&#x3002;&#x7279;&#x522B;&#x662F;&#x4F60;&#x5982;&#x679C;&#x4F60;&#x52A0;&#x5165;&#x4E86;Insider Preview&#x8BA1;&#x5212;&#xFF0C;&#x8FD9;&#x4E2A;&#x66F4;&#x65B0;&#x66F4;&#x52A0;&#x662F;&#x9891;&#x7E41;&#x53D1;&#x751F;&#x3002;&#x7EC8;&#x4E8E;&#x6709;&#x4E00;&#x6B21;&#x66F4;&#x65B0;&#x540E;&#xFF0C;&#x8FDE;grub&#x5F15;&#x5BFC;&#x90FD;&#x53D1;&#x751F;&#x4E86;&#xFF0C;&#x5BFC;&#x81F4;&#x65E0;&#x6CD5;&#x542F;&#x52A8;&#x7CFB;&#x7EDF;&#x3002;&#x539F;&#x56E0;&#x662F;&#x8FD9;&#x4E2A;&#x7248;&#x672C;&#x7684;&#x66F4;&#x65B0;&#xFF0C;&#x4ECE;&#x4E3B;&#x5206;&#x533A;&#x4E2D;&#x5212;&#x5206;&#x51FA;&#x6765;&#x4E00;&#x4E2A;&#x5927;&#x6982;500m&#x7684;recovery&#x5206;&#x533A;&#xFF0C;&#x8FDE;&#x6211;&#x81EA;&#x5DF1;&#x505A;&#x597D;&#x7684;&#x5206;&#x533A;&#x90FD;&#x6562;&#x52A8;&#xFF0C;&#x5FAE;&#x8F6F;&#x4F60;&#x7684;&#x80C6;&#x5B50;&#x4E5F;&#x592A;&#x5927;&#x4E86;&#x3002;&#x5B9E;&#x5728;&#x53D7;&#x591F;&#x4E86;&#x8FD9;&#x4E2A;&#x80C6;&#x5927;&#x5984;&#x4E3A;&#x7684;&#x505A;&#x6CD5;&#xFF0C;&#x6211;&#x51B3;&#x5B9A;&#x8FD8;&#x662F;&#x56DE;&#x5230;Linux&#x7684;&#x6000;&#x62B1;&#xFF0C;&#x4EE4;&#x6211;&#x6B23;&#x559C;&#x7684;&#x662F;&#x6211;&#x5C1D;&#x8BD5;&#x8FC7;wine&#x4E4B;&#x540E;&#xFF0C;&#x53D1;&#x73B0;Photoshop cs6&#x3001;Office 2007&#x90FD;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x4F7F;&#x7528;&#x4E86;&#xFF0C;&#x8FD9;&#x6B21;Windows&#x771F;&#x7684;&#x53EF;&#x4EE5;byebye&#x4E86;&#x3002;</p></div></div></div><div id="postamble" class="status">Last Updated 2016-07-19.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &amp;#xFEFF;&lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#
      
    
    </summary>
    
      <category term="Emacs" scheme="http://wing-ho.github.io/categories/Emacs/"/>
    
    
  </entry>
  
  <entry>
    <title>玩转Window 10 Bash</title>
    <link href="http://wing-ho.github.io/2016/07/17/%E7%8E%A9%E8%BD%ACWindow%2010%20Bash/"/>
    <id>http://wing-ho.github.io/2016/07/17/玩转Window 10 Bash/</id>
    <published>2016-07-17T00:00:00.000Z</published>
    <updated>2018-09-10T02:24:19.923Z</updated>
    
    <content type="html"><![CDATA[&#xFEFF;<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#org8126072">1. &#x5173;&#x4E8E;&#x6FC0;&#x6D3B;&#x7684;&#x95EE;&#x9898;</a></li><li><a href="#org60bb503">2. &#x5B89;&#x88C5;Windows 10</a><ul><li><a href="#org26f227e">2.1. &#x4E0B;&#x8F7D;ESD&#x6587;&#x4EF6;</a></li><li><a href="#org64e8278">2.2. &#x89E3;&#x5BC6;ESD&#x6587;&#x4EF6;</a></li><li><a href="#org728a7ac">2.3. &#x8F6C;&#x6362;&#x4E3A;ISO</a></li></ul></li><li><a href="#org5b8a702">3. &#x66F4;&#x65B0;&#x7CFB;&#x7EDF;&#x548C;&#x5B89;&#x88C5;&#x9A71;&#x52A8;</a></li><li><a href="#orgf88c525">4. &#x5F7B;&#x5E95;&#x5378;&#x8F7D;OneDrive</a></li><li><a href="#orgdea4ff6">5. &#x8BBE;&#x7F6E;&#x8F93;&#x5165;&#x6CD5;&#x9ED8;&#x8BA4;&#x82F1;&#x6587;&#x6A21;&#x5F0F;</a></li><li><a href="#orgee4fd77">6. &#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x542F;&#x52A8;&#x9879;</a></li><li><a href="#orgde0024d">7. Bash On Ubuntu on Windows</a><ul><li><a href="#orge773353">7.1. &#x5B89;&#x88C5;Bash On Windows</a></li><li><a href="#org144ab12">7.2. &#x66F4;&#x65B0;Ubuntu</a></li><li><a href="#org8929fac">7.3. &#x5347;&#x7EA7;&#x5230;ubuntu 16.04</a></li><li><a href="#orgad68cd8">7.4. &#x5B89;&#x88C5;Emacs</a></li><li><a href="#org071f963">7.5. &#x5B89;&#x88C5;Spacemacs</a></li><li><a href="#org1ac9428">7.6. &#x5B89;&#x88C5;&#x641C;&#x72D7;&#x8F93;&#x5165;&#x6CD5;</a></li><li><a href="#orge00fac1">7.7. &#x76EE;&#x524D;&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898;</a><ul><li><a href="#org7f1b1d3">7.7.1. &#x4E0D;&#x80FD;&#x6B63;&#x5E38;&#x4F7F;&#x7528;cli&#x7684;&#x7A0B;&#x5E8F;</a></li></ul></li></ul></li><li><a href="#org19ccc1c">8. &#x53C2;&#x8003;&#x6587;&#x7AE0;</a></li></ul></div></div><p>&#x968F;&#x7740;Windows 10&#x7684;&#x66F4;&#x65B0;&#xFF0C;&#x7A81;&#x7136;&#x770B;&#x5230;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x5438;&#x5F15;&#x6211;&#x7684;&#x7279;&#x6027;Bash On Ubuntu On Windows&#xFF0C;&#x6211;&#x8FEB;&#x4E0D;&#x53CA;&#x5F85;&#x5730;&#x6362;&#x56DE;&#x4E86;Windows 10&#xFF0C;&#x597D;&#x597D;&#x4F53;&#x9A8C;&#x4E86;&#x4E00;&#x628A;&#x8FD9;&#x4E2A;&#x4EE4;&#x4EBA;&#x6FC0;&#x52A8;&#x7684;&#x529F;&#x80FD;&#x3002;&#x4F46;&#x662F;&#x53D1;&#x73B0;&#x95EE;&#x9898;&#x8FD8;&#x662F;&#x4E0D;&#x5C11;&#x7684;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;Bash&#x80FD;&#x8DD1;&#x7684;&#x7A0B;&#x5E8F;&#x662F;&#x5341;&#x5206;&#x6709;&#x9650;&#x7684;&#xFF0C;&#x5C31;&#x8DDF;&#x901A;&#x8FC7;Wine&#x8DD1;&#x5728;Linux&#x7684;&#x5E94;&#x7528;&#x4E00;&#x6837;&#x662F;&#x5341;&#x5206;&#x6709;&#x9650;&#x7684;&#x3002;&#x6211;&#x5E0C;&#x671B;&#x8FD9;&#x6709;&#x9650;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x6211;&#x7684;&#x865A;&#x62DF;&#x673A;&#x4E0D;&#x7528;&#x518D;&#x600E;&#x4E48;&#x5F00;&#x673A;&#x4E86;&#xFF0C;&#x76EE;&#x524D;Bash&#x7684;&#x5E94;&#x7528;&#x6211;&#x8FD8;&#x5728;&#x63A2;&#x7D22;&#x4E2D;&#x3002;Win 10&#x8FD8;&#x6709;&#x6BD4;&#x8F83;&#x5438;&#x5F15;&#x6211;&#x7684;&#x7684;&#x865A;&#x62DF;&#x684C;&#x9762;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x4E2A;&#x662F;&#x53EF;&#x4EE5;&#x6781;&#x5927;&#x5730;&#x63D0;&#x9AD8;&#x5DE5;&#x4F5C;&#x6548;&#x7387;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x5728;Linux&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#x4E86;&#x5F88;&#x4E45;&#x4E86;&#xFF0C;&#x4EE5;&#x524D;&#x603B;&#x60F3;&#x901A;&#x8FC7;&#x7B2C;&#x4E09;&#x65B9;&#x7684;&#x684C;&#x9762;&#x5B9E;&#x73B0;&#x7C7B;&#x578B;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x73B0;&#x5728;&#x7EC8;&#x4E8E;&#x7531;&#x5B98;&#x65B9;&#x5B9E;&#x73B0;&#x4E86;&#x3002;</p><p>&#x5BF9;&#x6211;&#x6765;&#x8BF4;Windows 10&#x4E0D;&#x5982;&#x610F;&#x7684;&#x5730;&#x65B9;&#x4E5F;&#x8FD8;&#x662F;&#x4E0D;&#x5C11;&#x7684;&#xFF0C;&#x8BF4;&#x662F;&#x6709;&#x53F2;&#x4EE5;&#x5F80;&#x524D;&#x517C;&#x5BB9;&#x6027;&#x6700;&#x597D;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x4F46;&#x662F;&#x5B9E;&#x9645;&#x4E0A;&#x517C;&#x5BB9;&#x6027;&#x8FD8;&#x662F;&#x6709;&#x95EE;&#x9898;&#x7684;&#x3002;&#x8FDE;&#x5B66;&#x6821;&#x56FE;&#x4E66;&#x9986;&#x6570;&#x636E;&#x5E93;&#x7684;VPN&#x7A0B;&#x5E8F;&#x65E0;&#x6CD5;&#x6267;&#x884C;&#xFF0C;&#x60F3;&#x67E5;&#x4E00;&#x4E9B;&#x8BBA;&#x6587;&#x8FD8;&#x5F00;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#x3002;&#x53E6;&#x5916;&#x6211;&#x7684;&#x84DD;&#x7259;&#x9F20;&#x6807;&#x548C;&#x952E;&#x76D8;&#x5C31;&#x4E0D;&#x597D;&#x7528;&#x3002;&#x9F20;&#x6807;&#x8FDB;&#x5165;&#x8282;&#x7535;&#x6A21;&#x5F0F;&#x91CD;&#x65B0;&#x5524;&#x9192;&#x9F20;&#x6807;&#xFF0C;&#x84DD;&#x7259;&#x8FDE;&#x63A5;&#x5C31;&#x65E0;&#x6CD5;&#x8FDE;&#x4E0A;&#xFF0C;&#x9700;&#x8981;&#x5173;&#x95ED;&#x9F20;&#x6807;&#x7535;&#x6E90;&#x91CD;&#x65B0;&#x6253;&#x5F00;&#x3002;Windows 8&#x65F6;&#x4EE3;&#xFF0C;&#x6211;&#x53EF;&#x4EE5;&#x5B89;&#x88C5;&#x5343;&#x6708;&#x9A71;&#x52A8;&#x5F25;&#x8865;&#x5B98;&#x65B9;&#x9A71;&#x52A8;&#x7684;&#x4E0D;&#x8DB3;&#xFF0C;&#x8FD9;&#x4E2A;&#x7834;&#x89E3;&#x7248;&#x7684;&#x9A71;&#x52A8;&#x5E76;&#x6CA1;&#x6709;&#x5728;Win 10&#x4E0A;&#x8D77;&#x5230;&#x7834;&#x89E3;&#x4F5C;&#x7528;&#x3002;&#x9A71;&#x52A8;&#x95EE;&#x9898;&#x9020;&#x6210;&#x7684;&#x9EBB;&#x70E6;&#x662F;&#x4F1A;&#x5F15;&#x8D77;&#x6781;&#x5927;&#x7684;&#x4E0D;&#x4FBF;&#x7684;&#x3002;</p><div id="outline-container-org8126072" class="outline-2"><h2 id="org8126072"><span class="section-number-2">1</span> &#x5173;&#x4E8E;&#x6FC0;&#x6D3B;&#x7684;&#x95EE;&#x9898;</h2><div class="outline-text-2" id="text-1"><p>Win10&#x7684;&#x6FC0;&#x6D3B;&#x7B56;&#x7565;&#xFF0C;&#x6B63;&#x7248;Win 7&#x4EE5;&#x4E0A;&#x7684;&#x76F4;&#x63A5;&#x5347;&#x7EA7;&#x540E;&#x5C31;&#x76F4;&#x63A5;&#x6FC0;&#x6D3B;&#xFF0C;&#x6FC0;&#x6D3B;&#x540E;&#x5FAE;&#x8F6F;&#x670D;&#x52A1;&#x5668;&#x5C31;&#x4F1A;&#x8BB0;&#x5F55;&#x4E0B;&#x4F60;&#x7684;&#x786C;&#x4EF6;&#x4FE1;&#x606F;&#xFF0C;&#x4EE5;&#x540E;&#x5168;&#x65B0;&#x5B89;&#x88C5;&#x4E4B;&#x540E;&#x8054;&#x7F51;&#x5373;&#x53EF;&#x81EA;&#x52A8;&#x6FC0;&#x6D3B;&#x3002;</p></div></div><div id="outline-container-org60bb503" class="outline-2"><h2 id="org60bb503"><span class="section-number-2">2</span> &#x5B89;&#x88C5;Windows 10</h2><div class="outline-text-2" id="text-2"><p>Windws 10&#x521A;&#x53D1;&#x5E03;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x5C31;&#x5B89;&#x88C5;&#x4E0A;&#x4E86;&#xFF0C;&#x4F53;&#x9A8C;&#x8FC7;&#x4E4B;&#x540E;&#xFF0C;&#x89C9;&#x5F97;&#x8FD8;&#x7B97;&#x6BD4;&#x8F83;&#x6D41;&#x7545;&#xFF0C;&#x4F46;&#x662F;&#x8F6F;&#x4EF6;&#x7684;&#x517C;&#x5BB9;&#x6027;&#x8FD8;&#x8DDF;&#x4E0D;&#x4E0A;&#x6765;&#xFF0C;&#x540E;&#x6765;&#x53C8;&#x6362;&#x4F1A;Window 2008 R2&#xFF0C;&#x4ECA;&#x5929;&#x53C8;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#xFF0C;&#x53D1;&#x73B0;Windows Insider preview&#x7248;&#x672C;&#x7684;&#x52A0;&#x5BC6;&#x7684;&#xFF0C;&#x6709;&#x7ECF;&#x8FC7;&#x4E00;&#x756A;&#x6298;&#x817E;&#x624D;&#x628A;&#x7CFB;&#x7EDF;&#x88C5;&#x4E0A;&#xFF0C;&#x4E3A;&#x6B64;&#x8BB0;&#x5F55;&#x4E0B;&#x6765;&#xFF0C;&#x65B9;&#x4FBF;&#x4EE5;&#x540E;&#x67E5;&#x9605;&#x3002;</p></div><div id="outline-container-org26f227e" class="outline-3"><h3 id="org26f227e"><span class="section-number-3">2.1</span> &#x4E0B;&#x8F7D;ESD&#x6587;&#x4EF6;</h3><div class="outline-text-3" id="text-2-1"><p>&#x4E0B;&#x8F7D;Windows 10 14393 x64 pro zh-CN<a href="http://tlu.dl.delivery.mp.microsoft.com/filestreamingservice/files/feeff83d-3150-4c0d-b40a-1bbf2aea42af?P1=1468921537&amp;P2=301&amp;P3=2&amp;P4=4hX0607cFTAlcpi9r/l5LGCXZOF277+CK7UZA+lL4mo=" target="_blank" rel="noopener">&#x4E0B;&#x8F7D;&#x5730;&#x5740;</a></p></div></div><div id="outline-container-org64e8278" class="outline-3"><h3 id="org64e8278"><span class="section-number-3">2.2</span> &#x89E3;&#x5BC6;ESD&#x6587;&#x4EF6;</h3><div class="outline-text-3" id="text-2-2"><p>Windows Insider Preview&#x7248;&#x672C;&#x4E0B;&#x8F7D;&#x4E0B;&#x6765;&#x7684;ESD&#x6587;&#x4EF6;&#x662F;&#x7ECF;&#x8FC7;&#x52A0;&#x5BC6;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x89E3;&#x5BC6;Key&#xFF0C;Key&#x6211;&#x662F;&#x4ECE;pcbeta.com&#x627E;&#x5230;&#x7684;&#xFF0C;&#x8001;&#x7248;&#x672C;&#x7684;esd&#xFF0C;&#x8C8C;&#x4F3C;Dism++&#x53EF;&#x4EE5;&#x89E3;&#x5BC6;&#xFF0C;&#x8FD9;&#x4E2A;&#x8F6F;&#x4EF6;&#x81EA;&#x5E26;&#x4E86;&#x5404;&#x4E2A;&#x7248;&#x672C;&#x7684;Key&#x3002;&#x4E0B;&#x8F7D;Dism++&#x5B98;&#x65B9;&#x5730;&#x5740;&#xFF1A;<a href="https://www.chuyu.me/" target="_blank" rel="noopener">https://www.chuyu.me/</a>esd&#x89E3;&#x5BC6;key</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">BwIAAACkAABSU0EyAAQAAAEAAQDpBHbDTC1rTdcSHhp58n1fBY4EaGo6ez4RYAu/RGiICloh3lm4vXz6SgEAXdQEtv0HzXXpORvkm+uWzmfl02yXDSYEvmDVw9kIn0u9pxdQiwo18ezHK55zbQV+KzisSJz97ZO9Z65i+EsoUdi7clqHDcJKEuudF0BDWt16XBTdntVBt7OMhYv549C1wRjASLIJVmWmeXz1d6fw03TWQoWNUud/UY3YGEzGcPPEnJT/Rhpp2OcXYYcKbsLwVyRK7tbF7MALxBrqU440kXjBGStcfTPYYwXg/C42RSdtZcjwYl1bbzcckpB3lkunMG741JK4MR238Dl+Md6EOt1HKji9gS7cQl5RPPv/oKCcWL6PkViWHhzvwexLM1cpLcXAAum7gPYegT2PrHZUav8yEtuGTPUi4+cHHaiXStujvZ79jXV9HeJ0NEfAcie8d+<span class="number">4</span>Ctph34Skj9arHA649yhat+q6iqmNWE0uTyfPNZ9tr42hLQwITCBe+jEdOYNqSRdutNDI7dGS2uG6k7UQUSLbvZ5fHI/YULMtoVI+I/kESboMj+r+ENBDslckFxS4ubUsjJcLci1ig8kZg909tlWX+wQeuAbQCzuWJbhXPJf2IcZ2o7kfPfbmYFObPVG1FgAfEo+nKSl8Pqw/<span class="number">7</span>hf6t8BzWdquWvgCuqoWMJdRqL3N5Utrm6NdS0B5sJOGqqxhEXI6O02pfO/Kmt5a+JtAA7Gv5WzYtmcdNIZX5mXqqzsCoN5Vjv6jU/q3qDsRQkXw4YbypJSQ=</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org728a7ac" class="outline-3"><h3 id="org728a7ac"><span class="section-number-3">2.3</span> &#x8F6C;&#x6362;&#x4E3A;ISO</h3><div class="outline-text-3" id="text-2-3"><p>&#x4ECE;Windows 10&#x7684;ISO&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x5DF2;&#x7ECF;&#x8D85;&#x8FC7;4g&#xFF0C;&#x7528;UltraISO&#x5199;&#x5165;&#x5230;U&#x76D8;&#x5F53;&#x4E2D;&#xFF0C;&#x4F1A;&#x56E0;&#x4E3A;&#x5927;&#x4E8E;4g&#x7684;install.wim&#x6587;&#x4EF6;&#x65E0;&#x6CD5;&#x88C5;&#x5165;fat32&#x5206;&#x533A;&#x800C;&#x88AB;&#x820D;&#x5F03;&#xFF0C;&#x6240;&#x4EE5;&#x538B;&#x7F29;&#x6BD4;&#x66F4;&#x9AD8;&#x4E14;&#x5C0F;&#x4E8E;4g&#x7684;install.esd&#x7684;&#x6587;&#x4EF6;&#x3002;&#x6253;&#x5F00;Dism++&#xFF0C;&#x6587;&#x4EF6; -&gt; (ESD &#x2013;&gt; ISO) -&gt; &#x9009;&#x62E9;&#x4F60;&#x5DF2;&#x7ECF;&#x89E3;&#x5BC6;&#x7684;ESD&#x6587;&#x4EF6; -&gt; &#x9009;&#x62E9;ISO&#x7684;&#x4FDD;&#x5B58;&#x8DEF;&#x5F84;&#xFF08; &#x9ED8;&#x8BA4;&#x7C7B;&#x578B;ISO&#x955C;&#x50CF;&#x6587;&#x4EF6;-&#x9AD8;&#x538B;&#x7248;&#xFF09;-&gt; &#x5B8C;&#x6210;&#x3002;</p></div></div></div><div id="outline-container-org5b8a702" class="outline-2"><h2 id="org5b8a702"><span class="section-number-2">3</span> &#x66F4;&#x65B0;&#x7CFB;&#x7EDF;&#x548C;&#x5B89;&#x88C5;&#x9A71;&#x52A8;</h2><div class="outline-text-2" id="text-3"><p>Windows 10&#x62E5;&#x6709;&#x6BD4;&#x8F83;&#x5B8C;&#x6574;&#x7684;&#x9A71;&#x52A8;&#x5E93;&#xFF0C;&#x8054;&#x7F51;&#x540E;&#x9009;&#x62E9;&#x66F4;&#x65B0;&#xFF0C;&#x5C31;&#x81EA;&#x52A8;&#x5B89;&#x88C5;&#x4E0A;&#x76F8;&#x5E94;&#x7684;&#x9A71;&#x52A8;&#x3002;&#x5F00;&#x59CB;&#x2013;&gt;&#x8BBE;&#x7F6E;&#x2013;&gt;&#x66F4;&#x65B0;&#x548C;&#x5B89;&#x5168;&#x2013;&gt;Windows&#x66F4;&#x65B0;&#x2013;&gt;&#x66F4;&#x65B0;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#x4E00;&#x822C;&#x7684;&#x673A;&#x5668;&#x9A71;&#x52A8;&#x4E5F;&#x5C31;&#x5B89;&#x88C5;&#x597D;&#x4E86;&#x3002;&#x6211;&#x7684;&#x7B14;&#x8BB0;&#x672C;HP Pro 5130m&#x5E26;&#x4E86;&#x9632;&#x6B62;&#x6389;&#x843D;&#x7684;&#x4F20;&#x611F;&#x5668;&#xFF0C;&#x9700;&#x8981;&#x53E6;&#x5916;&#x5B89;&#x88C5;&#x9A71;&#x52A8;&#xFF0C;&#x4E0D;&#x8FC7;&#x6211;&#x5DF2;&#x7ECF;&#x66F4;&#x6362;&#x4E86;SSD&#xFF0C;&#x8FD9;&#x4E2A;&#x4F20;&#x611F;&#x5668;&#x65E9;&#x5C31;&#x6CA1;&#x6709;&#x7528;&#x4E86;&#x3002;</p></div></div><div id="outline-container-orgf88c525" class="outline-2"><h2 id="orgf88c525"><span class="section-number-2">4</span> &#x5F7B;&#x5E95;&#x5378;&#x8F7D;OneDrive</h2><div class="outline-text-2" id="text-4"><p>&#x56E0;&#x4E3A;&#x6211;&#x81EA;&#x5DF1;&#x7684;&#x8D44;&#x6599;&#x5927;&#x90E8;&#x5206;&#x662F;&#x5B58;&#x653E;&#x5728;&#x91D1;&#x5C71;&#x5FEB;&#x76D8;&#xFF0C;&#x5BB9;&#x91CF;&#x53C8;&#x5C0F;&#x53C8;&#x6162;OneDrive&#xFF0C;&#x81EA;&#x7136;&#x5C31;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x7684;&#x4E86;&#x3002;&#x4F46;&#x662F;Windows 10&#x662F;&#x53EF;&#x4EE5;&#x5728;&#x591A;&#x4E2A;&#x8BBE;&#x5907;&#x4E0A;&#x5B89;&#x88C5;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x8FD8;&#x4E70;&#x4E86;Windows 10&#x7684;&#x624B;&#x673A;&#xFF0C;&#x5728;Win 10&#x5E94;&#x7528;&#x8FD8;&#x6BD4;&#x8F83;&#x7F3A;&#x4E4F;&#x7684;&#x65F6;&#x5019;&#xFF0C;OneDrive&#x8FD8;&#x662F;&#x4F1A;&#x6BD4;&#x8F83;&#x597D;&#x7528;&#x7684;&#x3002;&#x627E;&#x5230;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x5939;C:\Users\&#x7528;&#x6237;&#x540D;\AppData\Local\Microsoft\OneDrive\17.XXX\&#x5728;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#x6253;&#x5F00;&#x547D;&#x4EE4;&#x884C;&#xFF0C;&#x8FD0;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF0C;&#x5373;&#x53EF;&#x5378;&#x8F7D;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">OneDriveSetup.exe /uninstall</span><br></pre></td></tr></table></figure></div><p>&#x5220;&#x9664;&#x5BFC;&#x822A;&#x680F;&#x4E2D;&#x7684;onedrive&#x3002;&#x5378;&#x8F7D;onedrive&#x662F;&#x4E0D;&#x80FD;&#x6E05;&#x9664;&#x5BFC;&#x822A;&#x680F;&#x91CC;&#x9762;&#x7684;onedrive&#xFF0C;&#x8FDB;&#x5165;&#x6CE8;&#x518C;&#x8868;&#xFF1A;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">HKEY_CLASSES_ROOT\CLSID\{<span class="number">018</span>D5C66-<span class="number">4533</span>-<span class="number">4307</span>-<span class="number">9</span>B53-<span class="number">224</span>DE2ED1FE6}\ShellFolder</span><br></pre></td></tr></table></figure></div><p>&#x628A;&#x53F3;&#x4FA7;&#x7684;Attributes&#x5C5E;&#x6027;&#x7684;&#x503C; f080004d&#x4FEE;&#x6539;&#x4E3A;f090004d&#x3002;&#x4EFB;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#x4E2D;&#x91CD;&#x542F;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x5668;&#x540E;&#x5C31;&#x751F;&#x6548;&#x4E86;&#x3002;</p></div></div><div id="outline-container-orgdea4ff6" class="outline-2"><h2 id="orgdea4ff6"><span class="section-number-2">5</span> &#x8BBE;&#x7F6E;&#x8F93;&#x5165;&#x6CD5;&#x9ED8;&#x8BA4;&#x82F1;&#x6587;&#x6A21;&#x5F0F;</h2><div class="outline-text-2" id="text-5"><p>&#x8BBE;&#x7F6E; -&gt; &#x8BED;&#x8A00;&#x548C;&#x6587;&#x5B57; -&gt; &#x533A;&#x57DF;&#x548C;&#x8BED;&#x8A00; -&gt; &#x8BED;&#x8A00; -&gt; &#x9009;&#x9879; -&gt; &#x5FAE;&#x8F6F;&#x62FC;&#x97F3; -&gt; &#x9009;&#x9879; -&gt; &#x9009;&#x62E9;&#x8F93;&#x5165;&#x6CD5;&#x9ED8;&#x8BA4;&#x6A21;&#x5F0F; -&gt; &#x82F1;&#x6587;</p></div></div><div id="outline-container-orgee4fd77" class="outline-2"><h2 id="orgee4fd77"><span class="section-number-2">6</span> &#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x542F;&#x52A8;&#x9879;</h2><div class="outline-text-2" id="text-6"><p>&#x5982;&#x679C;&#x4F60;&#x7684;&#x7535;&#x8111;&#x5B89;&#x88C5;&#x4E86;Linux&#xFF0C;Windows 10&#x5B89;&#x88C5;&#x6210;&#x529F;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x4FEE;&#x6539;&#x542F;&#x52A8;&#x9879;&#x76EE;&#x7684;&#x4F18;&#x5148;&#x987A;&#x5E8F;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F1A;&#x76F4;&#x63A5;&#x8FDB;&#x5165;Windows&#x3002;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#x53EA;&#x9002;&#x7528;&#x4E8E;UEFI&#x542F;&#x52A8;&#x7684;&#x60C5;&#x51B5;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#&#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x4E2D;&#x786C;&#x76D8;&#x6216;&#x5206;&#x533A;&#x7684; GUID &#x6807;&#x8BC6;</span></span><br><span class="line">bcdedit /enum all</span><br><span class="line">bcdedit /enum firmware</span><br><span class="line"><span class="comment">#&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x542F;&#x52A8;&#x9879;</span></span><br><span class="line">bcdedit /<span class="built_in">set</span> {fwbootmgr} BOOTSEQUENCE {<span class="number">67</span>b01161-<span class="number">4</span>b5f-<span class="number">11</span>e6-<span class="number">8</span>f58-<span class="number">806</span>e6f6e6963}</span><br><span class="line"><span class="comment">#&#x8BBE;&#x7F6E;&#x542F;&#x52A8;&#x83DC;&#x5355;&#x9879;&#x987A;&#x5E8F; &#x4EE5;&#x7A7A;&#x683C;&#x5206;&#x9694;</span></span><br><span class="line">bcdedit /<span class="built_in">set</span> {fwbootmgr} DISPLAYORDER {<span class="number">67</span>b01161-<span class="number">4</span>b5f-<span class="number">11</span>e6-<span class="number">8</span>f58-<span class="number">806</span>e6f6e6963} {bootmgr}</span><br><span class="line"><span class="comment">#&#x5220;&#x9664;&#x542F;&#x52A8;&#x9879;</span></span><br><span class="line">bcdedit /delete {xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx} /f</span><br><span class="line"><span class="comment">#win 10 &#x7528;&#x8BE5;&#x547D;&#x4EE4;&#x6302;&#x8F7D;efi&#x5206;&#x533A;&#xFF0C;&#x65E0;&#x6548;</span></span><br><span class="line">mountvol z: /s</span><br></pre></td></tr></table></figure></div><p>&#x9664;&#x4E86;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x542F;&#x52A8;&#x9879;&#x76EE;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x542F;&#x52A8;&#x9879;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x5426;&#x5219;&#x5F00;&#x673A;&#x7528;&#x5FEB;&#x6377;&#x952E;&#x8C03;&#x51FA;&#x83DC;&#x5355;&#x4E4B;&#x540E;&#xFF0C;&#x6392;&#x5728;&#x7B2C;&#x4E00;&#x7684;&#x9879;&#x76EE;&#x4F1A;&#x518D;&#x6B21;&#x4F5C;&#x4E3A;&#x9ED8;&#x8BA4;&#x542F;&#x52A8;&#x9879;&#x76EE;&#x3002;</p></div></div><div id="outline-container-orgde0024d" class="outline-2"><h2 id="orgde0024d"><span class="section-number-2">7</span> Bash On Ubuntu on Windows</h2><div class="outline-text-2" id="text-7"></div><div id="outline-container-orge773353" class="outline-3"><h3 id="orge773353"><span class="section-number-3">7.1</span> &#x5B89;&#x88C5;Bash On Windows</h3><div class="outline-text-3" id="text-7-1"><p>&#x6211;&#x5B89;&#x88C5;&#x7684;&#x662F;Windows 10 X64 Pro 14393&#xFF0C;&#x4ECE;14316&#x7248;&#x672C;&#x7684;Windows 10&#x5F00;&#x59CB;&#x589E;&#x52A0;&#x4E86;Windows SubSystem for Linux(Beta)&#xFF0C;&#x9002;&#x5408;&#x6211;&#x4EEC;&#x7A0B;&#x5E8F;&#x733F;&#xFF0C;&#x4E0D;&#x7528;&#x5728;&#x53E6;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x6765;&#x56DE;&#x5207;&#x6362;&#x4E86;&#x3002;Bash&#x7EC4;&#x4EF6;&#x9ED8;&#x8BA4;&#x662F;&#x5173;&#x95ED;&#x7684;&#xFF0C;&#x542F;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x5148;&#x9009;&#x4E2D;&#x201C;&#x5F00;&#x59CB;-&gt;&#x8BBE;&#x7F6E;-&gt;&#x66F4;&#x65B0;&#x548C;&#x5B89;&#x5168;-&gt;&#x9488;&#x5BF9;&#x5F00;&#x53D1;&#x4EBA;&#x5458;-&gt;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x6A21;&#x5F0F;&#x201D;&#xFF0C;&#x7136;&#x540E;&#x6309; Win+X,F &#x6253;&#x5F00;&#x201C;&#x7A0B;&#x5E8F;&#x548C;&#x529F;&#x80FD;&#x201D;&#xFF0C;&#x70B9;&#x51FB;&#x5DE6;&#x4FA7;&#x7684;&#x201C;&#x542F;&#x7528;&#x6216;&#x5173;&#x95ED;Windows&#x529F;&#x80FD;&#x201D;&#xFF0C;&#x7136;&#x540E;&#x627E;&#x5230;&#x5E76;&#x52FE;&#x9009; Windows Subsystem for Linux (Beta) &#xFF0C;&#x786E;&#x5B9A;&#x540E;&#x4F1A;&#x63D0;&#x793A;&#x91CD;&#x542F;&#x542F;&#x52A8;&#x7CFB;&#x7EDF;&#x3002;</p><p>&#x7CFB;&#x7EDF;&#x91CD;&#x542F;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x6309; Win+X,A &#x6253;&#x5F00;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#xFF08;&#x6216;&#x8005;&#x6309; Win+R &#x6253;&#x5F00;&#x8FD0;&#x884C;&#x5BF9;&#x8BDD;&#x6846;&#xFF09;&#xFF0C;&#x8F93;&#x5165; bash &#x56DE;&#x8F66;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x8FD0;&#x884C;&#x4F1A;&#x4ECE;&#x7F51;&#x4E0A;&#x4E0B;&#x8F7D;Ubuntu linux&#x7EC4;&#x4EF6;&#xFF0C;&#x6309;&#x63D0;&#x793A;&#x8F93;&#x5165;y&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#&#x5F7B;&#x5E95;&#x5220;&#x9664;</span></span><br><span class="line">lxrun /uninstall /full</span><br><span class="line"><span class="comment">#&#x91CD;&#x65B0;&#x5B89;&#x88C5;</span></span><br><span class="line">lxrun /install</span><br><span class="line"><span class="comment">#&#x5B89;&#x88C5;&#x5B8C;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x8BBE;&#x7F6E;root&#x4E3A;&#x9ED8;&#x8BA4;&#x7528;&#x6237;&#xFF0C;&#x9ED8;&#x8BA4;root&#x6CA1;&#x6709;&#x5BC6;&#x7801;</span></span><br><span class="line">lxrun /install /y</span><br><span class="line"><span class="comment">#&#x5982;&#x679C;&#x60F3;&#x6DFB;&#x52A0;&#x7528;&#x6237;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;adduser&#x6DFB;&#x52A0;&#x7528;&#x6237;&#xFF0C;&#x4E0D;&#x5FC5;&#x91CD;&#x88C5;</span></span><br><span class="line">adduser</span><br><span class="line"><span class="comment">#&#x8BBE;&#x7F6E;bash&#x9ED8;&#x8BA4;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x5F53;&#x4F60;&#x521D;&#x6B21;&#x5B89;&#x88C5;&#x65F6;&#x5FD8;&#x8BB0;&#x6DFB;&#x52A0;&#x7528;&#x6237;&#xFF0C;&#x6216;&#x8005;&#x5FD8;&#x8BB0;&#x5BC6;&#x7801;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x7279;&#x522B;&#x6709;&#x7528;</span></span><br><span class="line">lxrun /setdefaultuser xxx</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org144ab12" class="outline-3"><h3 id="org144ab12"><span class="section-number-3">7.2</span> &#x66F4;&#x65B0;Ubuntu</h3><div class="outline-text-3" id="text-7-2"><p>&#x6211;&#x6BD4;&#x8F83;&#x5173;&#x5FC3;&#x7684;&#x662F;emacs&#x662F;&#x5426;&#x80FD;&#x591F;&#x4F7F;&#x7528;&#xFF0C;Ubuntu&#x5B50;&#x7CFB;&#x7EDF;&#x7684;14.04.4 LTS&#xFF0C;&#x6E90;&#x91CC;&#x7684;emacs&#x76F8;&#x5BF9;&#x6BD4;&#x8F83;&#x65E7;&#xFF0C;&#x4E0D;&#x80FD;&#x652F;&#x6301;&#x6240;&#x6709;&#x7684;spacemas&#x7684;&#x7279;&#x6027;&#x3002;&#x60F3;&#x7F16;&#x8BD1;&#x65B0;&#x7248;&#x672C;&#x7684;emacs&#xFF0C;&#x63D0;&#x793A;&#x5982;&#x4E0B;&#x9519;&#x8BEF;&#xFF1A;Segmentation fault      (core dumped) ./temacs &#x2013;batch &#x2013;load loadup bootstrap&#x7F16;&#x8BD1;&#x65E0;&#x6CD5;&#x901A;&#x8FC7;&#xFF0C;google&#x5230;&#x6709;&#x4EBA;&#x78B0;&#x5230;&#x7C7B;&#x4F3C;&#x7684;&#x9519;&#x8BEF;&#x5E76;&#x4E14;&#x81EA;&#x884C;&#x89E3;&#x51B3;&#x4E86;&#xFF0C;&#x4ED6;&#x653E;&#x51FA;&#x6765;deb&#x5305;&#xFF0C;&#x6211;&#x6D4B;&#x8BD5;&#x8FC7;&#x57FA;&#x672C;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x4F7F;&#x7528;&#x3002;<a href="https://s3-us-west-1.amazonaws.com/royseto-public/dpkg/emacs24.5.2_24.5.2-1_amd64.deb" target="_blank" rel="noopener">https://s3-us-west-1.amazonaws.com/royseto-public/dpkg/emacs24.5.2_24.5.2-1_amd64.deb</a>&#x867D;&#x7136;&#x53EF;&#x4EE5;&#x7528;&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x6709;&#x95EE;&#x9898;&#x3002;&#x6211;&#x5C1D;&#x8BD5;&#x865A;&#x62DF;&#x673A;&#x5B89;&#x88C5;&#x4E00;&#x4E2A;Ubuntu 14.04&#xFF0C;&#x6839;&#x636E;&#x4E0B;&#x9762;&#x7684;&#x6559;&#x7A0B;&#xFF0C;&#x987A;&#x5229;&#x7F16;&#x8BD1;&#x6210;&#x529F;&#x3002;</p><p>#&#x7F16;&#x8BD1;&#x6559;&#x7A0B;&#xFF0C;&#x9700;&#x8981;&#x7FFB;&#x5899;&#xFF0C;&#x5DF2;&#x7ECF;&#x4FDD;&#x5B58;&#x5230;&#x4E3A;&#x77E5;&#x7B14;&#x8BB0;<a href="https://gist.github.com/favadi/18438172892bc4178b27" target="_blank" rel="noopener">https://gist.github.com/favadi/18438172892bc4178b27</a></p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#&#x66F4;&#x6539;cn.archive&#x6E90;&#x4F1A;&#x5FEB;&#x4E00;&#x4E9B;</span></span><br><span class="line">deb http://cn.archive.ubuntu.com/ubuntu trusty main restricted universe multiverse</span><br><span class="line">deb-src http://cn.archive.ubuntu.com/ubuntu trusty main restricted multiverse universe</span><br><span class="line">deb http://cn.archive.ubuntu.com/ubuntu trusty-updates main restricted universe multiverse</span><br><span class="line">deb-src http://cn.archive.ubuntu.com/ubuntu trusty-updates main restricted universe multiverse</span><br><span class="line">deb http://cn.archive.ubuntu.com/ubuntu trusty-security main restricted universe multiverse</span><br><span class="line">deb-src http://cn.archive.ubuntu.com/ubuntu trusty-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">sudo apt-get update </span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org8929fac" class="outline-3"><h3 id="org8929fac"><span class="section-number-3">7.3</span> &#x5347;&#x7EA7;&#x5230;ubuntu 16.04</h3><div class="outline-text-3" id="text-7-3"><p>&#x6211;&#x81EA;&#x5DF1;&#x7528;&#x5F97;&#x6BD4;&#x8F83;&#x591A;&#x7684;&#x662F;emacs&#xFF0C;ubuntu 14.04&#x9ED8;&#x8BA4;&#x7684;emacs&#x662F;24.3&#xFF0C;spacemacs&#x5B98;&#x65B9;&#x76EE;&#x524D;&#x7684;&#x7248;&#x672C;&#x5DF2;&#x7ECF;&#x4E0D;&#x652F;&#x6301;&#x4E86;&#xFF0C;&#x5347;&#x7EA7;&#x5230;Ubuntu 16.04&#x53EF;&#x4EE5;&#x5F7B;&#x5E95;&#x89E3;&#x51B3;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#&#x66F4;&#x6539;16.04&#x6E90;</span></span><br><span class="line">deb http://cn.archive.ubuntu.com/ubuntu xenial main restricted universe multiverse</span><br><span class="line">deb-src http://cn.archive.ubuntu.com/ubuntu xenial main restricted universe multiverse</span><br><span class="line">deb http://cn.archive.ubuntu.com/ubuntu xenial-updates main restricted universe multiverse</span><br><span class="line">deb-src http://cn.archive.ubuntu.com/ubuntu xenial-updates main restricted universe multiverse</span><br><span class="line">deb http://cn.archive.ubuntu.com/ubuntu xenial-security main restricted universe multiverse</span><br><span class="line">deb-src http://cn.archive.ubuntu.com/ubuntu xenial-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get dist-upgrade</span><br></pre></td></tr></table></figure></div><p>&#x4E2D;&#x95F4;&#x51FA;&#x73B0;&#x4E24;&#x6B21;&#x9700;&#x8981;&#x4F60;&#x786E;&#x8BA4;&#x7684;&#xFF0C;&#x4F60;&#x90FD;yes&#x5C31;&#x597D;&#x4E86;&#xFF0C;&#x606D;&#x559C;&#x4F60;&#xFF0C;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x5347;&#x7EA7;&#x5230;ubuntu 16.04&#xFF0C;&#x4F46;&#x662F;&#x8FDB;&#x5165;bash&#x4F1A;&#x51FA;&#x73B0;&#x8FD9;&#x6837;&#x7684;&#x63D0;&#x793A;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo: no tty present and no askpass program specified </span><br><span class="line"><span class="comment">#&#x9000;&#x51FA;bash</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">lxrun /setdefaultuser root</span><br><span class="line">vim /etc/sudoers</span><br><span class="line"><span class="comment">#&#x589E;&#x52A0;&#x884C; Defaults visiblepw</span></span><br><span class="line"><span class="comment">#&#x4E3A;&#x4F60;&#x7684;&#x7528;&#x6237;&#x6DFB;&#x52A0;root&#x6743;&#x9650;</span></span><br><span class="line">your_username ALL=(ALL) ALL </span><br><span class="line"><span class="comment">#&#x4FDD;&#x5B58;&#x9000;&#x51FA;</span></span><br><span class="line"><span class="comment">#&#x4FEE;&#x6539;sudoers&#x6743;&#x9650;&#xFF0C;&#x5426;&#x5219;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x9519;&#x8BEF;</span></span><br><span class="line">sudo: /etc/sudoers is world writable</span><br><span class="line">sudo: no valid sudoers sources found, quitting</span><br><span class="line">sudo: unable to initialize policy plugin</span><br><span class="line"><span class="comment">#&#x53D6;&#x6D88;&#x5199;&#x7684;&#x6743;&#x9650;</span></span><br><span class="line">chmod o-w /etc/sudoers</span><br><span class="line"></span><br><span class="line">lsb_release <span class="operator">-a</span></span><br><span class="line"><span class="comment">#No LSB modules are available.</span></span><br><span class="line"><span class="comment">#Distributor ID: Ubuntu</span></span><br><span class="line"><span class="comment">#Description:    Ubuntu 16.04 LTS</span></span><br><span class="line"><span class="comment">#Release:        16.04</span></span><br><span class="line"><span class="comment">#Codename:       xenial</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgad68cd8" class="outline-3"><h3 id="orgad68cd8"><span class="section-number-3">7.4</span> &#x5B89;&#x88C5;Emacs</h3><div class="outline-text-3" id="text-7-4"><p>Ubuntu 16.04&#x8F6F;&#x4EF6;&#x4ED3;&#x5E93;&#x5F53;&#x4E2D;&#x7684;&#x662F;Emacs 24.5&#xFF0C;&#x4E0D;&#x4F1A;&#x518D;&#x51FA;&#x73B0;<a href="https://github.com/syl20bnr/spacemacs/issues/4443" target="_blank" rel="noopener">helm-flx do not support emacs-24,3</a>&#x7684;&#x95EE;&#x9898;&#x3002;&#x4F46;&#x901A;&#x8FC7;Xserver&#x542F;&#x52A8;&#x65F6;&#x53D1;&#x751F;&#x5982;&#x4E0B;&#x9519;&#x8BEF;&#xFF1A;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Couldn<span class="string">&apos;t open libGL.so.1: libGL.so.1: cannot open shared object file: No such file or directory</span></span><br></pre></td></tr></table></figure></div><p>&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x7CFB;&#x7EDF;&#x6CA1;&#x6709;&#x5B89;&#x88C5;libgl1-mesa-glx&#x8FD9;&#x4E2A;&#x5E93;&#x5BFC;&#x81F4;&#x7684;&#xFF0C;&#x5177;&#x4F53;&#x53C2;&#x8003;<a href="http://stackoverflow.com/questions/17417211/android-error-libgl-so-cannot-open-shared-object-file-no-such-file-or-direct" target="_blank" rel="noopener">Android : error libGL.so: cannot open shared object file: No such file or directory</a></p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install libgl1-mesa-glx</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org071f963" class="outline-3"><h3 id="org071f963"><span class="section-number-3">7.5</span> &#x5B89;&#x88C5;Spacemacs</h3><div class="outline-text-3" id="text-7-5"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/syl20bnr/spacemacs ~/.emacs.d</span><br><span class="line">emacs --insecure</span><br></pre></td></tr></table></figure></div><p>&#x5B89;&#x88C5;&#x5305;&#x7684;&#x8FC7;&#x7A0B;&#x5F53;&#x4E2D;&#xFF0C;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x9519;&#x8BEF;:</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gnutls.c the tls connection was non-properly</span><br><span class="line">sudo apt-get install gnutls-bin</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org1ac9428" class="outline-3"><h3 id="org1ac9428"><span class="section-number-3">7.6</span> &#x5B89;&#x88C5;&#x641C;&#x72D7;&#x8F93;&#x5165;&#x6CD5;</h3><div class="outline-text-3" id="text-7-6"><p>&#x5C1D;&#x8BD5;&#x8FD0;&#x884C;fcitx -d&#xFF0C;&#x63D0;&#x793A;&#x51FA;&#x9519;X11&#x6CA1;&#x6709;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x4EE5;&#x4E3A;&#x662F;&#x6CA1;&#x6709;&#x5B89;&#x88C5;xserver&#xFF0C;&#x5B89;&#x88C5;xorg&#x540E;&#xFF0C;&#x9519;&#x8BEF;&#x4F9D;&#x65E7;&#xFF0C;&#x6682;&#x65F6;&#x653E;&#x5F03;&#x5B89;&#x88C5;&#x8F93;&#x5165;&#x6CD5;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#&#x5B89;&#x88C5;xorg</span></span><br><span class="line">sudo apt-get install xorg</span><br><span class="line"><span class="comment">#&#x5B89;&#x88C5;sogou&#x8F93;&#x5165;&#x6CD5;</span></span><br><span class="line">sudo dpkg -i sogoupinyin.deb</span><br><span class="line"><span class="comment">#&#x5378;&#x8F7D;sogou&#x8F93;&#x5165;&#x6CD5;</span></span><br><span class="line">sudo apt-get remove fcitx* <span class="comment">#&#xFF08;&#x5982;&#x4E0D;&#x9700;&#x4FDD;&#x7559;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7528;purge&#xFF09;</span></span><br><span class="line">sudo apt-get autoremove <span class="comment">#&#xFF08;&#x81EA;&#x52A8;&#x5378;&#x8F7D;&#x4F9D;&#x8D56;&#x8F6F;&#x4EF6;&#xFF09;</span></span><br><span class="line">sudo dpkg &#x2013;get-selections | grep fcitx<span class="comment">#&#xFF08;&#x67E5;&#x8BE2;fcitx&#x76F8;&#x5173;&#x7684;&#x8F6F;&#x4EF6;&#x5305;&#x662F;&#x5426;&#x5378;&#x8F7D;&#xFF09;</span></span><br></pre></td></tr></table></figure></div><p>&#x6298;&#x817E;&#x4E86;Bash On Ubuntu on Windows&#x4E00;&#x5929;&#x4E86;&#xFF0C;&#x611F;&#x89C9;&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#x975E;&#x5E38;&#x597D;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x5FAE;&#x8F6F;&#x628A;&#x8FD9;&#x4EF6;&#x4E8B;&#x60C5;&#x505A;&#x597D;&#x4E86;&#xFF0C;&#x5206;&#x5206;&#x949F;&#x53EF;&#x4EE5;&#x626D;&#x8F6C;&#x4E7E;&#x5764;&#x3002;&#x5728;&#x8F6F;&#x4EF6;&#x4ED3;&#x5E93;&#x6216;&#x8005;&#x7F16;&#x8BD1;&#x597D;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x662F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x5B50;&#x7CFB;&#x7EDF;&#x4E2D;&#x8FD0;&#x884C;&#x7684;&#x3002;&#x7A0B;&#x5E8F;&#x5728;&#x5B50;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6267;&#x884C;&#x901F;&#x5EA6;&#x8981;&#x6BD4;&#x865A;&#x62DF;&#x673A;&#x7684;&#x7CFB;&#x7EDF;&#x8981;&#x6162;&#x4E00;&#x4E9B;&#xFF0C;&#x8FD9;&#x662F;&#x6211;&#x5728;&#x7F16;&#x8BD1;Emacs&#x7684;&#x65F6;&#x5019;&#x4F53;&#x9A8C;&#x5230;&#x7684;&#x3002;&#x4F46;&#x662F;Ubuntu&#x5B50;&#x7CFB;&#x7EDF;&#x7684;&#x597D;&#x5904;&#x5728;&#x4E8E;&#xFF0C;&#x4E0D;&#x8FD0;&#x884C;&#x5B50;&#x7CFB;&#x7EDF;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E0D;&#x592A;&#x4F1A;CPU&#x548C;&#x5185;&#x5B58;&#x7B49;&#x8D44;&#x6E90;&#x3002;&#x5B8C;&#x7F8E;&#x517C;&#x5BB9;&#x4E24;&#x4E2A;&#x7CFB;&#x7EDF;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x5F88;&#x591A;&#x5DE5;&#x4F5C;&#x8981;&#x505A;&#xFF0C;&#x4F46;&#x662F;&#x5FC5;&#x987B;&#x8981;&#x4E2A;&#x5FAE;&#x8F6F;&#x70B9;&#x4E2A;&#x8D5E;&#xFF0C;Ubuntu&#x5B50;&#x7CFB;&#x7EDF;&#x7684;&#x8FD9;&#x4E2A;&#x60F3;&#x6CD5;&#x975E;&#x5E38;&#x68D2;&#xFF0C;&#x6211;&#x4EEC;&#x5E7F;&#x5927;&#x5C4C;&#x4E1D;&#x5C31;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;Windows&#x7684;&#x5E73;&#x53F0;&#x4E86;&#x3002;</p><p>&#x901A;&#x8FC7;Xserver&#x8FD0;&#x884C;Firefox&#x3001;virt-manager&#x7B49;&#x5E94;&#x7528;&#x4F1A;&#x5D29;&#x6E83;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x3002;<a href="https://www.reddit.com/r/Windows10/comments/4rsmzp/bash_on_windows_getting_dbus_and_x_server_working/" target="_blank" rel="noopener">Getting dbus and X server working</a></p><p>Sublime Text 3&#x65E0;&#x6CD5;&#x6253;&#x5F00;&#x8DEF;&#x5F84;&#x5E26;&#x7A7A;&#x683C;&#x7684;&#x6587;&#x4EF6;&#x4FEE;&#x6539;&#x6CE8;&#x518C;&#x8868;&#xFF0C;&#x8DEF;&#x5F84;&#x6DFB;&#x52A0;&#x53CC;&#x5F15;&#x53F7;&#xFF0C;&#x5176;&#x4ED6;&#x7F16;&#x8F91;&#x5668;&#x4E5F;&#x7C7B;&#x4F3C;&#x7684;&#xFF0C;&#x8DEF;&#x5F84;&#x53C2;&#x6570;&#x9700;&#x8981;double quotes</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Windows Registry Editor Version <span class="number">5.00</span></span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\*\shell\Edit with Sublime Text]</span><br><span class="line"><span class="string">&quot;Icon&quot;</span>=<span class="string">&quot;D:\\Software\\Sublime_Text_3\\sublime_text.exe,0&quot;</span></span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\*\shell\Edit with Sublime Text\<span class="built_in">command</span>]</span><br><span class="line">@=<span class="string">&quot;D:\\Software\\Sublime_Text_3\\sublime_text.exe \&quot;%1\&quot;&quot;</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orge00fac1" class="outline-3"><h3 id="orge00fac1"><span class="section-number-3">7.7</span> &#x76EE;&#x524D;&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898;</h3><div class="outline-text-3" id="text-7-7"></div><div id="outline-container-org7f1b1d3" class="outline-4"><h4 id="org7f1b1d3"><span class="section-number-4">7.7.1</span> &#x4E0D;&#x80FD;&#x6B63;&#x5E38;&#x4F7F;&#x7528;cli&#x7684;&#x7A0B;&#x5E8F;</h4><div class="outline-text-4" id="text-7-7-1"><p>nmap,mysql<a href="https://github.com/Microsoft/BashOnWindows/issues" target="_blank" rel="noopener">https://github.com/Microsoft/BashOnWindows/issues</a></p></div></div></div></div><div id="outline-container-org19ccc1c" class="outline-2"><h2 id="org19ccc1c"><span class="section-number-2">8</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;</h2><div class="outline-text-2" id="text-8"><ol class="org-ol"><li><a href="https://msdn.microsoft.com/en-us/commandline/wsl/about" target="_blank" rel="noopener">Bash on Ubuntu on Windows</a></li><li><a href="https://blog.mussard.org.uk/2014/05/30/efi-dualboot-changing-efi-nvram-boot-order-from-windows/" target="_blank" rel="noopener">EFI Dualboot &#x2013; Changing EFI NVRAM boot order from Windows</a></li><li><a href="http://www.cnblogs.com/Bob-wei/p/5364732.html" target="_blank" rel="noopener">Win10 14316 bash - Bob-wei</a></li><li><a href="http://www.howtogeek.com/261188/how-to-uninstall-or-reinstall-windows-10s-ubuntu-bash-shell/" target="_blank" rel="noopener">How to Uninstall (or Reinstall) Windows 10&#x2019;s Ubuntu Bash Shell</a></li><li><a href="https://www.variantweb.net/blog/running-fedora-on-windows-10-using-wsl/" target="_blank" rel="noopener">Running Fedora on Windows 10 using WSL</a></li></ol></div></div></div><div id="postamble" class="status">Last Updated 2016-07-17.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &amp;#xFEFF;&lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#
      
    
    </summary>
    
      <category term="Windows" scheme="http://wing-ho.github.io/categories/Windows/"/>
    
    
  </entry>
  
  <entry>
    <title>在Linux中运行ASP</title>
    <link href="http://wing-ho.github.io/2016/07/07/%E5%9C%A8Linux%E4%B8%AD%E8%BF%90%E8%A1%8CASP/"/>
    <id>http://wing-ho.github.io/2016/07/07/在Linux中运行ASP/</id>
    <published>2016-07-07T00:00:00.000Z</published>
    <updated>2018-10-01T10:22:34.258Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#org7a14fc6">1. &#x7CFB;&#x7EDF;&#x73AF;&#x5883;</a></li><li><a href="#org8766d74">2. &#x5B89;&#x88C5;apache 2.0.x</a></li><li><a href="#org1a7a271">3. &#x5B89;&#x88C5;iasp</a></li><li><a href="#org9838ae8">4. &#x8FD0;&#x884C;&#x4F8B;&#x5B50;</a></li><li><a href="#org99053d4">5. &#x6D4B;&#x8BD5;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;</a><ul><li><a href="#org2b55129">5.1. MySQL</a></li><li><a href="#org9f10999">5.2. Access</a></li></ul></li><li><a href="#org0f324af">6. &#x53C2;&#x8003;&#x6587;&#x7AE0;</a></li></ul></div></div><p>&#x4E00;&#x76F4;&#x5E0C;&#x671B;&#x80FD;&#x627E;&#x5728;Linux&#x73AF;&#x5883;&#x4E0B;&#x8FD0;&#x884C;&#x7684;ASP&#x8FD0;&#x884C;&#x73AF;&#x5883;&#xFF0C;&#x4ECA;&#x5929;&#x603B;&#x7B97;&#x5F97;&#x507F;&#x6240;&#x613F;&#xFF0C;&#x5C06;iasp&#x914D;&#x7F6E;&#x6210;&#x529F;&#x3002;&#x6709;&#x4E86;&#x8FD9;&#x4E2A;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x5C06;asp&#x8FC1;&#x79FB;&#x5230;Linux&#x4E3B;&#x673A;&#x5F53;&#x4E2D;&#x6210;&#x4E3A;&#x4E86;&#x53EF;&#x80FD;&#x3002;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x652F;&#x6301;&#x6211;&#x6BD4;&#x8F83;&#x62C5;&#x5FC3;&#x7684;&#x662F;&#x5BF9;Access&#x6570;&#x636E;&#x5E93;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x6709;&#x7EAF;Java&#x5B9E;&#x73B0;&#x7684;UCanAccess&#x7684;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#xFF0C;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x5728;Linux&#x5E73;&#x53F0;&#x4E0B;&#x8BBF;&#x95EE;Access&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x6240;&#x6709;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x3002;&#x53E6;&#x5916;&#x6211;&#x6D4B;&#x8BD5;&#x4E86;&#x4E00;&#x4E0B;iasp&#x5BF9;JScript&#x7684;&#x8BED;&#x6CD5;&#x7684;&#x652F;&#x6301;&#x7A0B;&#x5EA6;&#xFF0C;&#x53D1;&#x73B0;&#x4E0D;&#x652F;&#x6301;&#x533F;&#x540D;&#x51FD;&#x6570;&#xFF0C;&#x539F;&#x578B;&#x94FE;&#x7B49;&#x7279;&#x6027;&#xFF0C;&#x8FD9;&#x662F;JScript&#x6700;&#x4E3A;&#x5F3A;&#x5927;&#x548C;&#x5438;&#x5F15;&#x4EBA;&#x7684;&#x5730;&#x65B9;&#x3002;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x65B9;&#x6848;&#x5E76;&#x6CA1;&#x6709;&#x5B9E;&#x65BD;&#x7684;&#x4EF7;&#x503C;&#xFF0C;&#x771F;&#x6B63;&#x6709;&#x4EF7;&#x503C;&#x7684;&#x65B9;&#x6848;&#x5E94;&#x8BE5;&#x662F;&#x4E0D;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x6E90;&#x4EE3;&#x7801;&#x7684;&#x3002;&#x968F;&#x7740;&#x81EA;&#x5DF1;&#x5BF9;&#x865A;&#x62DF;&#x673A;&#x7684;&#x6DF1;&#x5165;&#x7406;&#x89E3;&#xFF0C;&#x5E94;&#x5BF9;&#x9057;&#x7559;Window&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x7528;kvm&#x865A;&#x62DF;&#x673A;&#x5E94;&#x8BE5;&#x662F;&#x6700;&#x4F73;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;</p><div id="outline-container-org7a14fc6" class="outline-2"><h2 id="org7a14fc6"><span class="section-number-2">1</span> &#x7CFB;&#x7EDF;&#x73AF;&#x5883;</h2><div class="outline-text-2" id="text-1"><p>&#x7CFB;&#x7EDF;&#xFF1A;Arch Linux 4.6.3-1-ARCHWebServer&#xFF1A; apache 2.0.63ASP&#xFF1A;iasp 2.1.01JDK: 1.6</p></div></div><div id="outline-container-org8766d74" class="outline-2"><h2 id="org8766d74"><span class="section-number-2">2</span> &#x5B89;&#x88C5;apache 2.0.x</h2><div class="outline-text-2" id="text-2"><p>&#x6211;&#x5728;apache 2.4&#x4E0A;&#x9762;&#x5B89;&#x88C5;iasp&#xFF0C;&#x542F;&#x52A8;apache&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x51FA;&#x73B0;&#x4EE5;&#x4E0B;&#x63D0;&#x793A;&#xFF1A;</p><div class="org-src-container"><figure class="highlight"><table><tr><td class="code"><pre><span class="line">httpd: Syntax error on line 527 of /etc/httpd/conf/httpd.conf: Cannot load /usr/lib/httpd/modules/mod_iasp.so into server: /usr/lib/httpd/modules/mod_iasp.so: undefined symbol: ap_pstrdup</span><br></pre></td></tr></table></figure></div><p>&#x51FA;&#x73B0;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#x56E0;&#x4E3A;iasp2.1.1&#x53D1;&#x5E03;&#x7684;&#x65F6;&#x5019;apache&#x6700;&#x9AD8;&#x7684;&#x7248;&#x672C;&#x662F;2.0.x&#xFF0C;&#x800C;2.0&#x548C;2.4&#x662F;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x5F00;&#x53D1;&#x5206;&#x652F;&#xFF0C;api&#x4F1A;&#x6709;&#x4E00;&#x4E9B;&#x5DEE;&#x5F02;&#x5BFC;&#x81F4;&#x7684;&#x3002;&#x60F3;&#x652F;&#x6301;apache2.4&#xFF0C;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x52A8;&#x624B;&#x53BB;&#x4FEE;&#x6539;mod<sub>iasp.c&#x7684;&#x6E90;&#x4EE3;&#x7801;</sub>&#xFF0C;&#x8FD9;&#x4E2A;&#x96BE;&#x5EA6;&#x5C31;&#x4F1A;&#x6BD4;&#x8F83;&#x5927;&#x4E86;&#x3002;&#x6258;&#x7F51;&#x53CB;&#x7684;&#x798F;&#xFF0C;&#x5DF2;&#x7ECF;&#x6709;&#x4EBA;&#x5DF2;&#x7ECF;&#x628A;iasp&#x4FEE;&#x6539;&#x6210;&#x652F;&#x6301;2.2&#x7248;&#x672C;&#x7684;apache&#xFF0C;&#x53EF;&#x4EE5;&#x7528;2.2&#x7248;&#x672C;&#x7684;apache&#x4E5F;&#x4E0D;&#x9519;&#xFF0C;&#x8D77;&#x7801;&#x5B98;&#x65B9;&#x8FD8;&#x5728;&#x7EF4;&#x62A4;2.2&#x7248;&#x672C;&#x7684;apache&#x3002;&#x6211;&#x770B;&#x5230;&#x591A;&#x6570;&#x7F51;&#x53CB;&#x4F7F;&#x7528;&#x7684;2.0.x&#x6765;&#x505A;&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x6211;&#x4E5F;&#x9996;&#x5148;&#x4ECE;apache 2.0.x&#x5F00;&#x59CB;&#x642D;&#x5EFA;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#xFF0C;&#x786E;&#x5B9E;&#x628A;&#x8FD9;&#x4E2A;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x8D77;&#x6765;&#x4E86;&#x3002;&#x9996;&#x5148;&#x4E0B;&#x8F7D;apache 2.0.x&#xFF0C;<a href="http://archive.apache.org/dist/httpd/httpd-2.0.63.tar.bz2" target="_blank" rel="noopener">http://archive.apache.org/dist/httpd/httpd-2.0.63.tar.bz2</a></p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /tmp</span><br><span class="line">wget -c http://archive.apache.org/dist/httpd/httpd-<span class="number">2.0</span>.<span class="number">63</span>.tar.bz2</span><br><span class="line">tar xvjf httpd-<span class="number">2.0</span>.<span class="number">63</span>.tar.bz2</span><br><span class="line"><span class="built_in">cd</span> httpd-<span class="number">2.0</span>.<span class="number">63</span></span><br><span class="line">./configure --prefix=/usr/<span class="built_in">local</span>/apache2</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br><span class="line">&#x5982;&#x679C;&#x7F16;&#x8BD1;&#x65F6;&#x5019;&#x51FA;&#x9519;libexpat</span><br><span class="line">rm /usr/lib/libexpat.so</span><br><span class="line">ln <span class="operator">-s</span> /lib64/libexpat.so.<span class="number">0.5</span>.<span class="number">0</span> /usr/lib/libexpat.so</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org1a7a271" class="outline-2"><h2 id="org1a7a271"><span class="section-number-2">3</span> &#x5B89;&#x88C5;iasp</h2><div class="outline-text-2" id="text-3"><p>&#x5B89;&#x88C5;iasp&#x56F0;&#x96BE;&#x7684;&#x5730;&#x65B9;&#x5728;&#x4E8E;&#x9009;&#x62E9;&#x5408;&#x9002;&#x7684;apache&#x7248;&#x672C;&#xFF0C;&#x7531;&#x4E8E;iasp&#x5DF2;&#x7ECF;&#x6CA1;&#x6709;&#x4EBA;&#x7EF4;&#x62A4;&#x4E86;&#xFF0C;&#x9ED8;&#x8BA4;&#x53EA;&#x652F;&#x6301;&#x5230;apache 2.0.x&#x3002;&#x7F51;&#x53CB;&#x6D4B;&#x6D4B;&#x8BD5;&#x8FC7;&#x9ED8;&#x8BA4;&#x652F;&#x6301;&#x7684;&#x6700;&#x9AD8;&#x7248;&#x672C;&#x662F;apache 2.0.56&#x3002;&#x6709;&#x4E2A;&#x6BD4;&#x8F83;&#x8010;&#x5FC3;&#x7684;&#x7F51;&#x53CB;&#xFF0C;&#x5C06;iasp&#x4FEE;&#x6539;&#x5230;&#x53EF;&#x4EE5;&#x652F;&#x6301;apache 2.2.x&#x3002;&#x6211;&#x53EA;&#x5728;csdn&#x627E;&#x5230;iasp 2.1.01&#x7684;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x4E0B;&#x8F7D;&#x7684;&#xFF0C;&#x53BB;&#x6CE8;&#x518C;&#x4E2A;&#x8D26;&#x53F7;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /tmp</span><br><span class="line">tar xvzf iASP2.<span class="number">1.01</span>.tar.gz</span><br><span class="line">./install.sh</span><br><span class="line"><span class="comment">#&#x6839;&#x636E;&#x63D0;&#x793A;&#x5B89;&#x88C5;&#xFF0C;&#x9700;&#x8981;&#x6307;&#x5B9A;jdk&#x8DEF;&#x5F84;&#xFF0C;iasp&#x5B89;&#x88C5;&#x76EE;&#x5F55;/usr/local/iasp21&#xFF0C;apache&#x914D;&#x7F6E;&#x76EE;&#x5F55;/usr/local/apache2/conf</span></span><br><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/iasp21/bin/apache/<span class="built_in">source</span>/<span class="number">2.0</span></span><br><span class="line"><span class="comment">#&#x7F16;&#x8BD1;&#x5B89;&#x88C5;(&#x4F1A;&#x81EA;&#x52A8;&#x590D;&#x5236;&#x6A21;&#x5757;&#x5230;apache modules)</span></span><br><span class="line">/usr/<span class="built_in">local</span>/apache2/bin/apxs -i -c *.c</span><br><span class="line"><span class="comment">#&#x4FEE;&#x6539;httpd.conf</span></span><br><span class="line">sudo vim /usr/<span class="built_in">local</span>/apache2.<span class="number">0</span>/conf/httpd.conf</span><br><span class="line"><span class="comment">#&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;</span></span><br><span class="line"><span class="comment"># iASP Setting</span></span><br><span class="line">LoadModule iasp_module <span class="string">&quot;modules/mod_iasp.so&quot;</span></span><br><span class="line">Alias /iasp <span class="string">&quot;/usr/local/iasp21&quot;</span></span><br><span class="line">IaspConfig server <span class="string">&quot;/usr/local/iasp21/properties/server.properties&quot;</span></span><br><span class="line">IaspConfig rules <span class="string">&quot;/usr/local/iasp21/properties/rules.properties&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#&#x542F;&#x52A8;apache&#x548C;IASP:</span></span><br><span class="line">sudo /usr/<span class="built_in">local</span>/apache/bin/apachectl start</span><br><span class="line">sudo /usr/<span class="built_in">local</span>/iasp/iasp21/start-server.sh</span><br><span class="line"></span><br><span class="line">sudo vim /usr/<span class="built_in">local</span>/apache2.<span class="number">0</span>/htdocs/index.asp</span><br><span class="line">&lt;%</span><br><span class="line">Response.Write <span class="string">&quot;Hello world&quot;</span></span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure></div><div class="figure"><p><img src="/2016/07/07/在Linux中运行ASP/helloworld.png"></p></div></div></div><div id="outline-container-org9838ae8" class="outline-2"><h2 id="org9838ae8"><span class="section-number-2">4</span> &#x8FD0;&#x884C;&#x4F8B;&#x5B50;</h2><div class="outline-text-2" id="text-4"><p>&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x8D77;&#x6765;&#x4E86;&#xFF0C;&#x6211;&#x6BD4;&#x8F83;&#x5173;&#x5FC3;&#x7684;&#x662F;iasp&#x5BF9;jscript&#x7684;&#x652F;&#x6301;&#x7A0B;&#x5EA6;&#xFF0C;&#x53D1;&#x73B0;&#x7ED3;&#x679C;&#x5E76;&#x4E0D;&#x5982;&#x610F;&#x3002;&#x6211;&#x7B80;&#x5355;&#x5730;&#x505A;&#x4E86;&#x5982;&#x4E0B;&#x6D4B;&#x8BD5;</p><div class="org-src-container"><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="title">%@language=&quot;jscript&quot;</span> <span class="attribute">codepage</span>=<span class="value">&quot;65001&quot;</span><span class="value">%</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">&quot;Content-Type&quot;</span> <span class="attribute">content</span>=<span class="value">&quot;text/html; charset=utf-8&quot;</span> /&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="title">%</span></span><br><span class="line">  <span class="attribute">Session.CodePage</span> = &quot;<span class="attribute">65001</span>&quot;;</span><br><span class="line"><span class="attribute">Response.Write</span>(&quot;&#x4E2D;&#x6587;&#x4E0D;&#x4E71;&#x7801;&#xFF01;&quot;);</span><br><span class="line">//&#x6B63;&#x5E38;&#x8F93;&#x51FA;</span><br><span class="line"><span class="attribute">function</span> <span class="attribute">testcallback</span>(<span class="attribute">callback</span>){</span><br><span class="line">  <span class="attribute">return</span> <span class="attribute">callback</span>();</span><br><span class="line">}</span><br><span class="line">//<span class="attribute">testcallback</span>(<span class="attribute">function</span>(){<span class="attribute">return</span> <span class="attribute">true</span>;});</span><br><span class="line">//<span class="attribute">Halcyon</span> <span class="attribute">JScript</span> <span class="attribute">compilation</span> <span class="attribute">error</span> <span class="attribute">2786</span> </span><br><span class="line"><span class="attribute">function</span> <span class="attribute">Person</span>(<span class="attribute">_name</span>){</span><br><span class="line">  <span class="attribute">this.name</span> = <span class="attribute">_name</span>;</span><br><span class="line">}</span><br><span class="line">//<span class="attribute">Response.Write</span>(<span class="attribute">Person.prototype</span>);</span><br><span class="line">//<span class="attribute">Halcyon</span> <span class="attribute">JScript</span> <span class="attribute">runtime</span> <span class="attribute">error</span> </span><br><span class="line"><span class="attribute">var</span> <span class="attribute">p</span> = <span class="attribute">new</span> <span class="attribute">Person</span>(&quot;<span class="attribute">wing</span>&quot;);</span><br><span class="line"><span class="attribute">Response.Write</span>(<span class="attribute">p.name</span>);</span><br><span class="line">//&#x6B63;&#x5E38;&#x8F93;&#x51FA;</span><br><span class="line"><span class="attribute">var</span> <span class="attribute">p</span> = {<span class="attribute">name:</span>&quot;<span class="attribute">wing</span>&quot;,<span class="attribute">age:30</span>};</span><br><span class="line"><span class="attribute">Response.Write</span>(<span class="attribute">p.age</span>);</span><br><span class="line">//&#x6B63;&#x5E38;&#x8F93;&#x51FA;</span><br><span class="line">  %&gt;</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org99053d4" class="outline-2"><h2 id="org99053d4"><span class="section-number-2">5</span> &#x6D4B;&#x8BD5;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;</h2><div class="outline-text-2" id="text-5"><p>iasp&#x7684;sample&#x4E2D;&#x7684;&#x6837;&#x4F8B;&#x7A0B;&#x5E8F;&#x5DF2;&#x7ECF;&#x6BD4;&#x8F83;&#x65E7;&#x4E86;&#xFF0C;&#x4F8B;&#x5B50;&#x4E2D;&#x6240;&#x7528;&#x5230;&#x7684;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#xFF0C;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x4E0D;&#x9002;&#x7528;&#x4E86;&#xFF0C;&#x6211;&#x4E0B;&#x8F7D;&#x4E86;&#x6700;&#x65B0;&#x7248;&#x7684;jdbc&#x9A71;&#x52A8;&#xFF0C;&#x4FEE;&#x6539;start-server.sh&#x811A;&#x672C;&#xFF0C;&#x628A;&#x9A71;&#x52A8;&#x6DFB;&#x52A0;&#x5230;&#x542F;&#x52A8;&#x811A;&#x672C;&#x7684;classpath&#x4E2D;&#xFF0C;&#x6211;&#x6D4B;&#x8BD5;&#x4E86;&#x4E09;&#x79CD;&#x6700;&#x5E38;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x6210;&#x529F;&#x8FDE;&#x63A5;&#x5230;&#x6570;&#x636E;&#x5E93;&#x3002;</p></div><div id="outline-container-org2b55129" class="outline-3"><h3 id="org2b55129"><span class="section-number-3">5.1</span> MySQL</h3><div class="outline-text-3" id="text-5-1"><p>&#x597D;&#x4E45;&#x6CA1;&#x6709;&#x5B9E;&#x7528;&#x8FC7;mysql&#xFF0C;Arch Linux&#x5DF2;&#x7ECF;&#x629B;&#x5F03;&#x4E86;Oracle&#x7248;&#x7684;mysql&#xFF0C;&#x7528;&#x793E;&#x533A;&#x7EF4;&#x62A4;&#x7684;mysql&#x5206;&#x652F;MariaDB&#x53D6;&#x800C;&#x4EE3;&#x4E4B;&#x3002;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x53C2;&#x8003;<a href="https://wiki.archlinux.org/index.php/MySQL_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/MySQL_(&#x7B80;&#x4F53;&#x4E2D;&#x6587;)</a></p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#&#x5BFC;&#x5165;&#x6D4B;&#x8BD5;&#x6570;&#x636E;</span></span><br><span class="line">mysql -u root -p</span><br><span class="line">create database MysqlDB</span><br><span class="line"><span class="built_in">source</span> /usr/<span class="built_in">local</span>/iasp21/docs/iasp/samples/database/MysqlDB.sql</span><br><span class="line"><span class="comment">#&#x4FEE;&#x6539;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x66F4;&#x65B0;&#x9A71;&#x52A8;&#x540D;&#x79F0;</span></span><br><span class="line">sudo vim /usr/<span class="built_in">local</span>/iasp21/docs/iasp/samples/vbscript/ado/animals/main.asp</span><br><span class="line"><span class="comment">#DrvArry(1) = &quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;</span></span><br><span class="line"><span class="comment">#DrvArry(5) = &quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">firefox http://localhost/iasp/docs/iasp/samples/vbscript/ado/animals/selectdb.asp &amp;</span><br><span class="line"><span class="comment">#&#x4FEE;&#x6539;&#x8FDE;&#x63A5;MySQL&#x6570;&#x636E;&#x5E93;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4E3A;{jdbc:mysql://localhost:3306/MysqlDBy}</span></span><br></pre></td></tr></table></figure></div><p><img src="/2016/07/07/在Linux中运行ASP/mysql.png"><img src="/2016/07/07/在Linux中运行ASP/conn_mysql.png"></p></div></div><div id="outline-container-org9f10999" class="outline-3"><h3 id="org9f10999"><span class="section-number-3">5.2</span> Access</h3><div class="outline-text-3" id="text-5-2"><p>Linux&#x4E5F;&#x6709;&#x67E5;&#x770B;Access&#x6570;&#x636E;&#x5E93;&#x7684;GUI&#x5DE5;&#x5177;gmdb2&#xFF0C;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#x5728;mdbtools&#x5DE5;&#x5177;&#x96C6;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;BlackArch&#x7684;&#x6E90;&#x91CC;&#x9762;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5230;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#xFF0C;&#x5177;&#x4F53;&#x5B89;&#x88C5;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x53C2;&#x8003;&#x6587;&#x7AE0;<a href="http://mdbtools.sourceforge.net/" target="_blank" rel="noopener">MDB Tools project</a>&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">firefox http://localhost/iasp/docs/iasp/samples/vbscript/ado/animals/selectdb.asp &amp;</span><br><span class="line"><span class="comment">#&#x4FEE;&#x6539;&#x8FDE;&#x63A5;Access&#x6570;&#x636E;&#x5E93;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4E3A;{jdbc:ucanaccess:///usr/local/iasp21/docs/iasp/samples/database/AccessDB.mdb}</span></span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org0f324af" class="outline-2"><h2 id="org0f324af"><span class="section-number-2">6</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;</h2><div class="outline-text-2" id="text-6"><ol class="org-ol"><li><a href="http://blog.chinaunix.net/uid-21505614-id-289458.html" target="_blank" rel="noopener">Linux&#xFF0B;Apache&#xFF0B;iASP&#xFF0B;ASP</a></li><li><a href="http://whoami1731.blog.163.com/blog/static/5773946920098452515832/" target="_blank" rel="noopener">&#x5728;LINUX&#x4E0B;&#x8FD0;&#x884C;ASP&#x7A0B;&#x5E8F;-&#x53EA;&#x9700;&#x8981;6&#x4E2A;&#x6B65;&#x9AA4;</a></li><li><a href="http://forum.ubuntu.org.cn/viewtopic.php?t=62042" target="_blank" rel="noopener">ubuntu&#x65B0;&#x624B;&#x7528;apache2&#x548C;iasp&#x6784;&#x5EFA;ASP&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x5B9E;&#x6218;</a></li><li><a href="http://plans.blog.163.com/blog/static/17505705320110120271188/" target="_blank" rel="noopener">ubuntu10.04+apache2+iasp</a></li><li><a href="http://blog.csdn.net/ewintec/article/details/41068659" target="_blank" rel="noopener">linux&#x4E0B;&#x5B89;&#x88C5;iasp&#x4EE5;&#x53CA;apache&#x591A;&#x7AD9;&#x70B9;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x914D;&#x7F6E;</a></li><li><a href="http://archive.apache.org/dist/httpd/" target="_blank" rel="noopener">apache2.x&#x4E0B;&#x8F7D;&#x5730;&#x5740;</a></li><li><a href="http://ucanaccess.sourceforge.net/site.html" target="_blank" rel="noopener">UCanAccess&#x9A71;&#x52A8;&#x4E0B;&#x8F7D;&#x5730;&#x5740;</a></li><li><a href="http://www.ibm.com/developerworks/cn/linux/l-diffp/index.html" target="_blank" rel="noopener">&#x7528;Diff&#x548C;Patch&#x5DE5;&#x5177;&#x7EF4;&#x62A4;&#x6E90;&#x7801;</a></li></ol></div></div></div><div id="postamble" class="status">Last Updated 2016-07-07.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#org7a14fc6&quot;&gt;1
      
    
    </summary>
    
      <category term="JavaScript" scheme="http://wing-ho.github.io/categories/JavaScript/"/>
    
    
  </entry>
  
  <entry>
    <title>无线中继方案</title>
    <link href="http://wing-ho.github.io/2016/06/22/%E6%97%A0%E7%BA%BF%E4%B8%AD%E7%BB%A7%E6%96%B9%E6%A1%88/"/>
    <id>http://wing-ho.github.io/2016/06/22/无线中继方案/</id>
    <published>2016-06-22T00:00:00.000Z</published>
    <updated>2018-09-10T02:24:19.843Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#org4407a1e">1. &#x65B9;&#x6848;1</a></li><li><a href="#org506ea96">2. &#x65B9;&#x6848;2</a></li><li><a href="#org39d4b43">3. &#x65B9;&#x6848;3</a></li></ul></div></div><p>&#x53BB;&#x4E2D;&#x56FD;&#x7535;&#x4FE1;&#x54A8;&#x8BE2;&#x4E86;&#x4E00;&#x4E0B;&#x76EE;&#x524D;&#x4F4F;&#x7684;&#x5730;&#x65B9;&#x7684;&#x5BBD;&#x5E26;&#x7684;&#x4EF7;&#x683C;&#x60C5;&#x51B5;&#xFF0C;&#x7B54;&#x590D;&#x6CA1;&#x6709;&#x5149;&#x7EA4;&#xFF0C;&#x53EA;&#x6709;&#x94DC;&#x7F06;&#x6700;&#x9AD8;&#x901F;&#x5EA6;8M&#xFF0C;&#x4E00;&#x5E74;&#x8D39;&#x7528;1700+&#xFF0C;&#x4F5B;&#x5C71;&#x8001;&#x5BB6;&#x7684;50M&#x5149;&#x7EA4;&#xFF0C;&#x624D;900&#x5757;&#x4E00;&#x5E74;&#xFF0C;&#x679C;&#x65AD;&#x4E0D;&#x88C5;&#x5BBD;&#x5E26;&#x3002;&#x90A3;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x53EF;&#x4EE5;&#x4E2D;&#x7EE7;&#x5B66;&#x6821;&#x7684;&#x7F51;&#x7EDC;&#xFF0C;&#x6216;&#x8005;&#x8E6D;&#x4E00;&#x4E0B;&#x90BB;&#x5C45;&#x7684;&#x7F51;&#x7EDC;&#x3002;&#x8FD9;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x90FD;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x529F;&#x7387;&#x5927;&#x70B9;&#x7684;&#x7F51;&#x5361;&#x548C;&#x5929;&#x7EBF;&#x3002;&#x521D;&#x6B65;&#x8BBE;&#x60F3;&#x6709;&#x4E09;&#x79CD;&#x53EF;&#x884C;&#x7684;&#x65B9;&#x6848;&#xFF1A;</p><div id="outline-container-org4407a1e" class="outline-2"><h2 id="org4407a1e"><span class="section-number-2">1</span> &#x65B9;&#x6848;1</h2><div class="outline-text-2" id="text-1"><ul class="org-ul"><li>HG255D&#x8DEF;&#x7531;</li><li>3070L+6649 USB&#x65E0;&#x7EBF;&#x7F51;&#x5361;&#xFF0C;&#x81EA;&#x5E26;&#x5929;&#x7EBF;</li><li>&#x53EF;&#x9009;&#xFF1A;14db&#x5B9A;&#x5411;&#x5929;&#x7EBF;</li></ul><p>&#x73B0;&#x5728;&#x6DD8;&#x5B9D;&#x4E0A;&#x80FD;&#x4E70;&#x5230;3070L+6649&#x7684;USB&#x65E0;&#x7EBF;&#x7F51;&#x5361;&#xFF0C;&#x90FD;&#x662F;&#x4E9B;&#x6CA1;&#x6709;&#x54C1;&#x724C;&#x7684;&#x5C71;&#x5BE8;&#x4EA7;&#x54C1;&#xFF0C;&#x5177;&#x4F53;&#x6027;&#x80FD;&#x600E;&#x4E48;&#x6837;&#xFF0C;&#x8FD8;&#x771F;&#x4E0D;&#x597D;&#x8BF4;&#x3002;N&#x5E74;&#x4E4B;&#x524D;&#xFF0C;&#x4E70;&#x8FC7;&#x4E00;&#x5F20;8187L&#x7684;&#x5927;&#x529F;&#x7387;&#x65E0;&#x7EBF;&#x7F51;&#x5361;&#x6765;&#x4E2D;&#x7EE7;ChinaNet&#x7684;&#x4FE1;&#x53F7;&#xFF0C;&#x6027;&#x80FD;&#x4E5F;&#x5C31;&#x4E00;&#x822C;&#x822C;&#x3002;&#x6548;&#x679C;&#x8FD8;&#x4E0D;&#x5982;&#x76F4;&#x63A5;&#x7528;&#x8DEF;&#x7531;&#x52A0;&#x5B9A;&#x5411;&#x5929;&#x6027;&#x7684;&#x6548;&#x679C;&#x597D;&#x3002;&#x4E0D;&#x8FC7;&#x5F53;&#x5E74;&#x6D41;&#x884C;&#x7684;&#x65E0;&#x7EBF;&#x4E2D;&#x7EE7;&#x8BBE;&#x5907;DB120&#x6027;&#x80FD;&#x6BD4;&#x8F83;&#x5F31;&#xFF0C;USB&#x7AEF;&#x53E3;&#x7684;&#x8BFB;&#x53D6;&#x901F;&#x5EA6;&#x6BD4;&#x8F83;&#x6162;&#x3002;&#x76F8;&#x6BD4;&#x4E4B;&#x4E0B;HG255D&#x7684;&#x6027;&#x80FD;&#x8981;&#x597D;&#x8BB8;&#x591A;&#x3002;&#x5F53;&#x521D;&#x4E70;HG255D&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x6253;&#x7B97;&#x7528;&#x6765;&#x505A;&#x4E2D;&#x7EE7;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x6CA1;&#x6709;&#x4E70;&#x5E26;SMA&#x63A5;&#x53E3;&#x5929;&#x7EBF;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x5426;&#x5219;&#x518D;&#x52A0;&#x4E2A;&#x5B9A;&#x5411;&#x5929;&#x7EBF;&#x5E94;&#x8BE5;&#x5C31;&#x80FD;&#x6EE1;&#x8DB3;&#x6211;&#x7684;&#x4E2D;&#x7EE7;&#x9700;&#x6C42;&#x3002;</p></div></div><div id="outline-container-org506ea96" class="outline-2"><h2 id="org506ea96"><span class="section-number-2">2</span> &#x65B9;&#x6848;2</h2><div class="outline-text-2" id="text-2"><ul class="org-ul"><li>HG255d&#x8DEF;&#x7531;&#x6216;&#x6811;&#x8393;&#x6D3E;</li><li>Tenda W311u+ USB&#x65E0;&#x7EBF;&#x7F51;&#x5361;&#xFF0C;&#x81EA;&#x5E26;&#x5929;&#x7EBF;</li><li>&#x53EF;&#x9009;&#xFF1A;14db&#x5B9A;&#x5411;&#x5929;&#x7EBF;</li></ul><p>&#x6811;&#x8393;&#x6D3E;&#x5728;&#x7528;USB&#x65E0;&#x7EBF;&#x7F51;&#x5361;&#x662F;EDUP EP-N8508GS &#x975E;&#x5E38;&#x9E21;&#x808B;&#xFF0C;&#x662F;rtl8188cus&#x82AF;&#x7247;&#xFF0C;&#x6811;&#x8393;&#x6D3E;&#x7684;&#x81EA;&#x5E26;&#x9A71;&#x52A8;&#x4E0D;&#x652F;&#x6301;Monitor&#x6A21;&#x5F0F;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x73A9;wifi&#x7834;&#x89E3;&#x57FA;&#x672C;&#x4E0D;&#x53EF;&#x80FD;&#xFF0C;&#x53E6;&#x5916;&#x8FD9;&#x4E2A;&#x7F51;&#x5361;&#x505A;AP&#x7684;&#x65F6;&#x5019;&#x6027;&#x80FD;&#x4E5F;&#x975E;&#x5E38;&#x5DEE;&#xFF0C;Tenda W311u+&#x53EF;&#x80FD;&#x662F;&#x4E2A;&#x4E0D;&#x9519;&#x7684;&#x9009;&#x62E9;&#x3002;Tenda W311u+&#x540C;&#x6837;&#x662F;&#x4F7F;&#x7528;3070L&#x82AF;&#x7247;U&#x76D8;&#x5927;&#x5C0F;&#x7684;USB&#x65E0;&#x7EBF;&#x7F51;&#x5361;&#xFF0C;&#x56E0;&#x4E3A;&#x4F53;&#x79EF;&#x6709;&#x9650;&#x4F3C;&#x4E4E;&#x6CA1;&#x6709;&#x96C6;&#x6210;6649&#x7684;&#x653E;&#x5927;&#x82AF;&#x7247;&#xFF0C;&#x4F18;&#x52BF;&#x5728;&#x4E8E;&#x54C1;&#x724C;&#x5382;&#x5BB6;&#x751F;&#x4EA7;&#xFF0C;&#x8D28;&#x91CF;&#x6709;&#x4FDD;&#x8BC1;&#xFF0C;&#x6811;&#x8393;&#x6D3E;&#x80FD;&#x9A71;&#x52A8;&#xFF0C;&#x6709;&#x4E86;&#x5B83;&#x53EF;&#x4EE5;&#x5C06;&#x6811;&#x8393;&#x6D3E;&#x914D;&#x7F6E;&#x6210;&#x65E0;&#x7EBF;&#x8DEF;&#x7531;&#x5668;&#x6216;&#x8005;&#x7834;&#x89E3;&#x70ED;&#x70B9;&#x90FD;&#x6BD4;&#x8F83;&#x65B9;&#x4FBF;&#x3002;&#x56E0;&#x4E3A;&#x5929;&#x7EBF;&#x662F;&#x53EF;&#x62C6;&#x5378;&#x7684;&#xFF0C;&#x540C;&#x6837;&#x53EF;&#x4EE5;&#x589E;&#x52A0;&#x5B9A;&#x5411;&#x5929;&#x7EBF;&#x6765;&#x589E;&#x5F3A;&#x4FE1;&#x53F7;&#x63A5;&#x6536;&#x6548;&#x679C;&#x3002;</p><p>&#x62FF;&#x6811;&#x8393;&#x6D3E;&#x6765;&#x505A;&#x65E0;&#x7EBF;&#x8DEF;&#x7531;&#xFF0C;&#x53EF;&#x4EE5;&#x5E72;&#x561B;&#x5462;&#xFF1F;NAS&#xFF1F;&#x76F4;&#x63A5;&#x7528;&#x79FB;&#x52A8;&#x786C;&#x76D8;&#x5C31;&#x597D;&#x4E86;&#x3002;&#x62FF;&#x6765;&#x7834;&#x89E3;wifi&#xFF0C;&#x9700;&#x8981;&#x4E00;&#x5F20;&#x529F;&#x7387;&#x9002;&#x4E2D;&#x7684;&#x65E0;&#x7EBF;&#x7F51;&#x5361;&#x3002;&#x73B0;&#x5728;&#x7684;&#x8DEF;&#x7531;&#x8FD8;&#x80FD;&#x4E0D;&#x80FD;&#x7834;&#x89E3;&#xFF0C;&#x6211;&#x81EA;&#x5DF1;&#x8FD8;&#x5F97;&#x62FF;&#x81EA;&#x5DF1;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x5B9E;&#x9A8C;&#x4E00;&#x4E0B;&#xFF0C;&#x624D;&#x77E5;&#x9053;&#xFF0C;&#x5982;&#x679C;&#x786E;&#x5B9E;&#x53EF;&#x4EE5;&#x6355;&#x83B7;&#x5230;&#x63E1;&#x624B;&#x5305;&#xFF0C;&#x8FDB;&#x884C;&#x7834;&#x89E3;&#x7684;&#x8BDD;&#xFF0C;&#x518D;&#x8003;&#x8651;&#x4E70;&#x4E00;&#x4E2A;&#x65E0;&#x7EBF;&#x7F51;&#x5361;&#xFF0C;&#x4E0D;&#x7136;&#x539F;&#x6765;&#x7684;&#x8FF7;&#x4F60;&#x7F51;&#x5361;&#x5DF2;&#x7ECF;&#x591F;&#x7528;&#x4E86;&#x3002;&#x5148;&#x5B9E;&#x9A8C;&#x7834;&#x89E3;&#x540E;&#x518D;&#x52A8;&#x624B;&#x4E70;&#x4E1C;&#x897F;&#xFF0C;&#x7834;&#x89E3;&#x8FD9;&#x79CD;&#x4E8B;&#x60C5;&#x53EA;&#x4F1A;&#x5076;&#x5C14;&#x505A;&#x4E00;&#x4E0B;&#xFF0C;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x4E3A;&#x4E86;&#x7834;&#x89E3;&#x4E13;&#x95E8;&#x53BB;&#x4E70;&#x4E00;&#x4E2A;&#x53EF;&#x80FD;&#x4F1A;&#x6BD4;&#x8F83;&#x9E21;&#x808B;&#x7684;&#x7F51;&#x5361;&#xFF0C;&#x76F4;&#x63A5;&#x4E70;&#x5927;&#x529F;&#x7387;&#x7684;3070&#x7F51;&#x5361;&#x5C31;&#x5B8C;&#x4E86;&#xFF0C;&#x5C06;&#x6765;&#x76F4;&#x63A5;&#x4E2D;&#x7EE7;&#x5B66;&#x6821;&#x7684;&#x65E0;&#x7EBF;&#x7F51;&#x7EDC;&#xFF0C;&#x5C31;&#x4E0D;&#x7528;&#x8001;&#x662F;&#x8E6D;&#x90BB;&#x5C45;&#x7684;&#x7F51;&#x3002;</p></div></div><div id="outline-container-org39d4b43" class="outline-2"><h2 id="org39d4b43"><span class="section-number-2">3</span> &#x65B9;&#x6848;3</h2><div class="outline-text-2" id="text-3"><ul class="org-ul"><li>TP-WA933RE&#x65E0;&#x7EBF;&#x4E2D;&#x7EE7;&#x5668;</li></ul><p>TP-Link&#x751F;&#x4EA7;&#x7684;&#x65E0;&#x7EBF;&#x4FE1;&#x53F7;&#x653E;&#x5927;&#x5668;&#xFF0C;3&#x6570;&#x636E;&#x6D41;&#x51B0;&#x6CD5;&#xFF0C;3&#xD7;3MIMO&#x67B6;&#x6784;&#xFF0C;&#x4F53;&#x79EF;&#x5C0F;&#xFF0C;&#x96C6;&#x6210;&#x5EA6;&#x9AD8;&#xFF0C;&#x914D;&#x7F6E;&#x7B80;&#x5355;&#xFF0C;&#x6700;&#x9AD8;&#x6269;&#x5C55;&#x901F;&#x5EA6;450M&#x3002;&#x76EE;&#x524D;&#x5728;&#x7528;&#x7684;&#x65B9;&#x6848;&#xFF0C;&#x7528;&#x6765;&#x4E2D;&#x7EE7;&#x4E0A;&#x7F51;&#x975E;&#x5E38;&#x7A33;&#x5B9A;&#x3002;&#x4F46;&#x4E2D;&#x7EE7;&#x5668;&#x6CA1;&#x6709;&#x8DEF;&#x7531;&#x529F;&#x80FD;&#xFF0C;&#x4E2D;&#x7EE7;web&#x8BA4;&#x8BC1;&#x7684;&#x70ED;&#x70B9;&#x540E;&#xFF0C;&#x53EA;&#x5141;&#x8BB8;&#x8BA4;&#x8BC1;&#x8FC7;&#x7684;&#x8BBE;&#x5907;&#x4E0A;&#x7F51;&#xFF0C;&#x5176;&#x4ED6;&#x8BBE;&#x5907;&#x8FDE;&#x4E0A;&#x4E86;&#xFF0C;&#x4E5F;&#x4E0A;&#x4E0D;&#x4E86;&#x7F51;&#x7684;&#xFF0C;&#x6211;&#x9700;&#x8981;&#x8BA4;&#x8BC1;&#x540E;&#x591A;&#x53F0;&#x8BBE;&#x5907;&#x80FD;&#x591F;&#x540C;&#x65F6;&#x4E0A;&#x7F51;&#xFF0C;&#x6240;&#x4EE5;&#x8FD8;&#x9700;&#x8981;&#x6298;&#x817E;&#x8DEF;&#x7531;&#x7684;&#x4E2D;&#x7EE7;&#x65B9;&#x6848;&#x3002;</p><p>&#x6DD8;&#x5B9D;&#x4E0A;&#x4E70;&#x6765;&#x4E86;&#x5C71;&#x5BE8;&#x7684;3070L+6649 USB&#x65E0;&#x7EBF;&#x7F51;&#x5361;&#xFF0C;&#x8BD5;&#x4E86;&#x4E00;&#x4E0B;&#xFF0C;&#x6536;&#x5230;&#x7684;&#x4FE1;&#x53F7;&#x786E;&#x5B9E;&#x6BD4;&#x6211;&#x7B14;&#x8BB0;&#x672C;&#x7684;&#x7F51;&#x5361;&#x8981;&#x591A;&#xFF0C;&#x8FDE;&#x63A5;&#x7684;&#x8D28;&#x91CF;&#x4E5F;&#x8981;&#x597D;&#x4E00;&#x4E9B;&#x3002;&#x6211;&#x8FD8;&#x4E13;&#x95E8;&#x4E3A;hg255d&#x7F16;&#x8BD1;&#x4E86;&#x6700;&#x65B0;&#x7684;OpenWrt&#x7684;trunk&#x7248;&#x672C;&#x56FA;&#x4EF6;&#x3002;&#x8FD9;&#x4E2A;&#x7F51;&#x5361;&#x81EA;&#x5E26;&#x7684;&#x662F;7db&#x7684;&#x5168;&#x5411;&#x5929;&#x7EBF;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x662F;&#x7528;&#x6765;&#x4E2D;&#x7EE7;&#x8DDD;&#x79BB;&#x6BD4;&#x8F83;&#x8FDC;&#x7684;&#x4FE1;&#x53F7;&#xFF0C;&#x6240;&#x4EE5;&#x5B9A;&#x5411;&#x5929;&#x7EBF;&#x4F1A;&#x66F4;&#x52A0;&#x597D;&#x3002;&#x5728;&#x6DD8;&#x5B9D;&#x4E0A;&#x6709;&#x4E70;&#x4E86;&#x5E26;3&#x7C73;&#x7684;&#x9988;&#x7EBF;&#x5B9A;&#x5411;&#x5929;&#x7EBF;&#xFF0C;&#x63A5;&#x53D7;&#x5230;&#x6765;&#x81EA;&#x5B66;&#x6821;&#x7684;&#x65E0;&#x7EBF;&#x4FE1;&#x53F7;&#x786E;&#x5B9E;&#x662F;&#x66F4;&#x597D;&#x4E86;&#xFF0C;&#x626B;&#x63CF;&#x7684;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4FE1;&#x53F7;100%&#x3002;&#x867D;&#x7136;&#x626B;&#x63CF;&#x5230;&#x7684;&#x4FE1;&#x53F7;&#x662F;100%&#xFF0C;&#x4F46;&#x662F;&#x8FDE;&#x63A5;&#x7684;&#x8D28;&#x91CF;&#x5374;&#x75C5;&#x4E0D;&#x662F;&#x5F88;&#x9AD8;&#xFF0C;&#x8FDE;&#x63A5;&#x901F;&#x5EA6;&#x57FA;&#x672C;&#x4E0A;&#x90FD;&#x662F;52m&#x4EE5;&#x4E0B;&#x7684;&#xFF0C;&#x8FD8;&#x65F6;&#x4E0D;&#x65F6;&#x6389;&#x5230;1m&#xFF0C;&#x540C;&#x6837;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x6539;&#x7528;&#x624B;&#x63D0;&#x7535;&#x8111;&#x76F4;&#x63A5;&#x8FDE;&#x63A5;&#x4E4B;&#x540E;&#xFF0C;&#x901F;&#x5EA6;&#x4F1A;&#x6709;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x63D0;&#x5347;&#xFF0C;&#x57FA;&#x672C;&#x90FD;&#x662F;52m&#x4EE5;&#x4E0A;&#x7684;&#xFF0C;&#x521D;&#x6B65;&#x5224;&#x65AD;&#x662F;usb&#x53E3;&#x7684;&#x4F9B;&#x7535;&#x4E0D;&#x8DB3;&#x9020;&#x6210;&#x7684;&#x3002;</p><p>&#x5BF9;&#x4E8E;USB&#x4F9B;&#x7535;&#x4E0D;&#x8DB3;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x6709;&#x4E24;&#x4E2A;</p><ol class="org-ol"><li>&#x65B9;&#x6848;1</li></ol><p>&#x6362;&#x4E00;&#x4E2A;&#x529F;&#x7387;&#x66F4;&#x5927;&#x7684;&#x7535;&#x6E90;&#x9002;&#x914D;&#x5668;&#xFF0C;&#x73B0;&#x5728;&#x7528;&#x7684;12v 1A&#x7684;&#x7535;&#x6E90;&#xFF0C;&#x5E94;&#x8BE5;&#x6362;&#x4E00;&#x4E2A;12v 2A&#x6216;&#x8005;&#x66F4;&#x5927;&#x7684;&#x7535;&#x6E90;</p><ol class="org-ol"><li>&#x65B9;&#x6848;2</li></ol><p>&#x52A0;&#x4E00;&#x4E2A;&#x989D;&#x5916;&#x4F9B;&#x7535;&#x7684;USB Hub&#xFF0C;&#x7535;&#x6E90;&#x4E3A;5v 2A</p><p>&#x6211;&#x5DF2;&#x7ECF;&#x8BD5;&#x8FC7;&#x7528;&#x6811;&#x8393;&#x6D3E;&#x7684;usb&#x63A5;&#x79FB;&#x52A8;&#x786C;&#x76D8;&#xFF0C;&#x53D1;&#x73B0;&#x5B83;&#x7684;&#x63A5;&#x53E3;&#x4F9B;&#x7535;&#x662F;&#x4E25;&#x91CD;&#x4E0D;&#x8DB3;&#x7684;&#xFF0C;&#x79FB;&#x52A8;&#x786C;&#x76D8;&#x9700;&#x8981;&#x53E6;&#x5916;&#x63A5;&#x7535;&#x6E90;&#x7684;&#xFF0C;&#x4E70;&#x4E00;&#x4E2A;USB Hub&#x7684;&#x8BDD;&#xFF0C;&#x6811;&#x8393;&#x6D3E;&#x7684;&#x65B9;&#x6848;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x65BD;&#x3002;&#x6700;&#x7EC8;&#x6211;&#x628A;&#x7535;&#x6E90;&#x548C;USB Hub&#x90FD;&#x4E70;&#x56DE;&#x6765;&#x6D4B;&#x8BD5;&#x8FC7;&#xFF0C;&#x4E24;&#x4E2A;&#x65B9;&#x6848;&#x90FD;&#x80FD;&#x6539;&#x5584;&#x4F9B;&#x7535;&#x4E0D;&#x8DB3;&#x7684;&#x60C5;&#x51B5;&#xFF0C;USB Hub&#x7ED9;&#x6811;&#x8393;&#x6D3E;&#x7528;&#x4E86;&#xFF0C;&#x7528;12V 5A&#x7684;&#x7535;&#x6E90;&#x7ED9;&#x8DEF;&#x7531;&#x5668;&#x4F9B;&#x7535;&#xFF0C;&#x7F51;&#x901F;&#x6BD4;12V 1A&#x4F9B;&#x7535;&#x65F6;&#x66F4;&#x7A33;&#x5B9A;&#x66F4;&#x5FEB;&#xFF0C;&#x4F46;&#x662F;&#x7528;&#x6765;&#x770B;&#x5728;&#x7EBF;&#x89C6;&#x9891;&#xFF0C;&#x8DEF;&#x7531;&#x5668;&#x4F1A;&#x6302;&#x6389;&#xFF0C;&#x4F30;&#x8BA1;&#x662F;&#x67D0;&#x4E2A;&#x82AF;&#x7247;&#x8FC7;&#x70ED;&#x5BFC;&#x81F4;&#x7684;&#xFF0C;&#x4F30;&#x8BA1;&#x8FD8;&#x5F97;&#x589E;&#x52A0;&#x6563;&#x70ED;&#x98CE;&#x6247;&#x624D;&#x80FD;&#x6539;&#x5584;&#x3002;</p></div></div></div><div id="postamble" class="status">Last Updated 2016-06-22.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#org4407a1e&quot;&gt;1
      
    
    </summary>
    
      <category term="Router" scheme="http://wing-ho.github.io/categories/Router/"/>
    
    
  </entry>
  
  <entry>
    <title>Firefox中文版和英文版的区别</title>
    <link href="http://wing-ho.github.io/2016/04/09/Firefox%E4%B8%AD%E6%96%87%E7%89%88%E5%92%8C%E8%8B%B1%E6%96%87%E7%89%88%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <id>http://wing-ho.github.io/2016/04/09/Firefox中文版和英文版的区别/</id>
    <published>2016-04-09T00:00:00.000Z</published>
    <updated>2018-10-01T11:18:30.923Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><p>Google&#x63A8;&#x51FA;Chrome&#x6D4F;&#x89C8;&#x5668;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4E00;&#x76F4;&#x90FD;&#x5C06;&#x5B83;&#x4F5C;&#x4E3A;&#x6211;&#x7684;&#x9ED8;&#x8BA4;&#x6D4F;&#x89C8;&#x5668;&#x3002;&#x5728;Windows&#x5E73;&#x53F0;&#x4E0B;&#x9762;&#x5012;&#x6CA1;&#x6709;&#x89C9;&#x5F97;&#x6709;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#xFF0C;&#x6700;&#x8FD1;&#x5DE5;&#x4F5C;&#x73AF;&#x5883;&#x5207;&#x6362;&#x5230;Arch Linux&#x4E4B;&#x540E;&#xFF0C;&#x53D1;&#x73B0;Chrome&#x6D4F;&#x89C8;&#x5668;&#x5728;&#x8F93;&#x5165;&#x7F51;&#x5740;&#x7684;&#x65F6;&#x5019;&#x6709;&#x975E;&#x5E38;&#x660E;&#x663E;&#x7684;&#x5361;&#x987F;&#xFF0C;Google&#x5B98;&#x65B9;&#x9ED8;&#x8BA4;&#x53EA;&#x63D0;&#x4F9B;&#x4E86;deb&#x548C;rpm&#x5B89;&#x88C5;&#x5305;&#xFF0C;&#x53EF;&#x80FD;&#x5BF9;Arch Linux&#x652F;&#x6301;&#x4E0D;&#x662F;&#x5F88;&#x5B8C;&#x5584;&#x3002;&#x6211;&#x8BD5;&#x8FC7;&#x5B89;&#x88C5;&#x5F00;&#x6E90;&#x7248;&#x672C;&#x7684;chromium&#x3001;Opera&#x7B49;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x8F93;&#x5165;&#x7F51;&#x5740;&#x5361;&#x987F;&#x7684;&#x95EE;&#x9898;&#x540C;&#x6837;&#x5B58;&#x5728;&#x3002;&#x6700;&#x540E;&#x6362;&#x56DE;Firefox&#xFF0C;&#x624D;&#x53D1;&#x73B0;Firefox&#x662F;&#x6700;&#x6D41;&#x7545;&#x7684;&#xFF0C;&#x800C;&#x4E14;vimfx&#x63D2;&#x4EF6;&#x6BD4;chrome&#x4E0B;&#x7684;vimium&#x597D;&#x7528;&#xFF0C;&#x5728;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5FEB;&#x6377;&#x952E;&#x4ECD;&#x7136;&#x53EF;&#x7528;&#x3002;</p><p>Arch Linux&#x5E73;&#x53F0;&#x4E0B;&#x9762;&#x5B89;&#x88C5;&#x7684;Firefox&#x9ED8;&#x8BA4;&#x662F;&#x82F1;&#x6587;&#x56FD;&#x9645;&#x7248;&#xFF0C;&#x6CE8;&#x518C;Firefox&#x7684;&#x8D26;&#x53F7;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x56FD;&#x9645;&#x670D;&#x52A1;&#xFF0C;&#x5728;Windows&#x5E73;&#x53F0;&#x4E0B;&#x9762;&#x7684;&#x8BDD;&#xFF0C;&#x4F60;&#x4E00;&#x4E0D;&#x5C0F;&#x5FC3;&#x5C31;&#x4F1A;&#x4E0B;&#x8F7D;&#x5230;&#x4E2D;&#x56FD;&#x7248;&#x7684;Firefox&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5B89;&#x88C5;&#x4E86;&#x5F88;&#x591A;&#x5783;&#x573E;&#x63D2;&#x4EF6;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x5F3A;&#x70C8;&#x63A8;&#x8350;&#x4F60;&#x5230;Firefox&#x7684;&#x82F1;&#x6587;&#x7AD9;&#x70B9;&#x53BB;&#x4E0B;&#x8F7D;&#x56FD;&#x9645;&#x7248;&#x7684;Firefox&#xFF0C;&#x5B83;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x56FD;&#x9645;&#x670D;&#x52A1;&#x3002;&#x5982;&#x679C;&#x4F60;&#x5DF2;&#x7ECF;&#x4E0D;&#x5C0F;&#x5FC3;&#x5B89;&#x88C5;&#x4E86;&#x4E2D;&#x56FD;&#x7248;&#x7684;Firefox&#xFF0C;&#x53D1;&#x73B0;&#x6CE8;&#x518C;&#x8FC7;&#x7684;&#x8D26;&#x53F7;&#x600E;&#x4E48;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x540C;&#x6B65;&#x4F60;&#x7684;&#x4E66;&#x7B7E;&#xFF0C;&#x6216;&#x8BB8;&#x4F60;&#x50CF;&#x6211;&#x4E00;&#x6837;&#xFF0C;&#x6CE8;&#x518C;&#x4E86;&#x4E24;&#x4E2A;&#x8D26;&#x53F7;&#x624D;&#x53D1;&#x73B0;&#xFF0C;&#x8FD9;&#x91CC;&#x9762;&#x7684;&#x5751;&#x3002;&#x5982;&#x679C;&#x4F60;&#x7684;&#x5DF2;&#x7ECF;&#x540C;&#x6B65;&#x8FC7;&#x4E2D;&#x56FD;&#x7248;&#x7684;Firefox&#xFF0C;&#x4F60;&#x4F1A;&#x53D1;&#x73B0;&#x5373;&#x4F7F;&#x4F60;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x4E86;&#x56FD;&#x9645;&#x7248;&#x7684;Firefox&#xFF0C;&#x4F60;&#x4E5F;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x540C;&#x6B65;&#x56FD;&#x9645;&#x670D;&#x52A1;&#x4E0A;&#x7684;&#x4E66;&#x7B7E;&#xFF0C;&#x89E3;&#x51B3;&#x7684;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x5220;&#x6389;Firefox&#x7684;profile&#x6587;&#x4EF6;%APPDATA%/Roaming/Mozilla/Firefox/Profiles/{xxx}.default&#xFF0C;&#x5E76;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x56FD;&#x9645;&#x7248;&#x7248;&#x7684;Firefox&#x3002;&#x53C8;&#x6216;&#x8005;&#x4FEE;&#x6539;&#x76EE;&#x5F55;&#x4E0B;&#x7684;prefs.js&#xFF0C;&#x5207;&#x6362;&#x5230;&#x56FD;&#x9645;&#x670D;&#x52A1;&#xFF0C;&#x6211;&#x89C9;&#x5F97;&#x91CD;&#x88C5;Firefox&#x7684;&#x65B9;&#x6CD5;&#x66F4;&#x76F4;&#x63A5;&#x66F4;&#x5FEB;&#xFF0C;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x6CD5;&#x5C31;&#x4E0D;&#x518D;&#x8BE6;&#x8FF0;&#x4E86;&#x3002; </p><p>&#x56FD;&#x9645;&#x7248;&#x7684;Firefox&#x4F7F;&#x7528;&#x7684;&#x56FD;&#x9645;&#x670D;&#x52A1;&#xFF0C;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x56FD;&#x5185;&#x516C;&#x53F8;&#x6839;&#x672C;&#x4E0D;&#x4F1A;&#x5728;&#x610F;&#x9690;&#x79C1;&#x4FDD;&#x62A4;&#x7684;&#x57FA;&#x672C;&#x6743;&#x5229;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x88AB;&#x67E5;&#x6C34;&#x8868;&#x3002;</p><div id="outline-container-org09a3d70" class="outline-2"><h2 id="org09a3d70"><span class="section-number-2">1</span> &#x540E;&#x8BB0;</h2><div class="outline-text-2" id="text-1"><p>&#x6700;&#x8FD1;&#x5C06;&#x684C;&#x9762;&#x73AF;&#x5883;&#x6362;&#x56DE;xfce4&#xFF0C;&#x53D1;&#x73B0;chrome&#x5361;&#x987F;&#x7684;&#x95EE;&#x9898;&#x6CA1;&#x6709;&#x4E86;&#xFF0C;&#x770B;&#x6765;&#x662F;chrome&#x8DDF;fvwm&#x7A97;&#x53E3;&#x7BA1;&#x7406;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x517C;&#x5BB9;&#x6027;&#x95EE;&#x9898;&#x3002;</p></div></div></div><div id="postamble" class="status">Last Updated 2016-04-09.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;p&gt;
Google&amp;#x63A8;&amp;#x51FA;Chrome&amp;#x6D4F;&amp;#x89C8;&amp;#x5668;&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x6211;&amp;#x4E00;&amp;#x76F4;&amp;#x90FD;&amp;#x5C06;&amp;
      
    
    </summary>
    
      <category term="Linux" scheme="http://wing-ho.github.io/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>Virtualbox直接运行物理分区的系统</title>
    <link href="http://wing-ho.github.io/2016/03/29/Virtualbox%E7%9B%B4%E6%8E%A5%E8%BF%90%E8%A1%8C%E7%89%A9%E7%90%86%E5%88%86%E5%8C%BA%E7%9A%84%E7%B3%BB%E7%BB%9F/"/>
    <id>http://wing-ho.github.io/2016/03/29/Virtualbox直接运行物理分区的系统/</id>
    <published>2016-03-29T00:00:00.000Z</published>
    <updated>2018-09-10T02:24:18.719Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#org4f3c126">1. &#x786C;&#x76D8;&#x4E0A;&#x7684;&#x5206;&#x533A;&#x60C5;&#x51B5;</a></li><li><a href="#org0a37f0b">2. &#x5728;Windows&#x4E0B;&#x542F;&#x52A8;&#x5B89;&#x88C5;&#x5728;&#x7269;&#x7406;&#x5206;&#x533A;&#x7684;Linux</a><ul><li><a href="#orgc1c04f3">2.1. &#x521B;&#x5EFA;&#x865A;&#x62DF;&#x673A;</a></li><li><a href="#orgb348469">2.2. &#x521B;&#x5EFA;&#x865A;&#x62DF;&#x786C;&#x76D8;</a></li><li><a href="#org56426c9">2.3. &#x628A;&#x865A;&#x62DF;&#x786C;&#x76D8;&#x6587;&#x4EF6;vmdk&#x6DFB;&#x52A0;&#x5230;&#x865A;&#x62DF;&#x673A;&#x4E2D;</a></li></ul></li><li><a href="#org8b252c1">3. &#x5728;Linux&#x4E0B;&#x542F;&#x52A8;&#x5B89;&#x88C5;&#x5728;&#x7269;&#x7406;&#x5206;&#x533A;&#x7684;Windows</a><ul><li><a href="#org0f1a62c">3.1. &#x521B;&#x5EFA;&#x865A;&#x62DF;&#x673A;</a></li><li><a href="#org697a342">3.2. &#x521B;&#x5EFA;&#x865A;&#x62DF;&#x786C;&#x76D8;</a></li><li><a href="#org4c5238b">3.3. &#x628A;&#x865A;&#x62DF;&#x786C;&#x76D8;&#x6587;&#x4EF6;vmdk&#x6DFB;&#x52A0;&#x5230;&#x865A;&#x62DF;&#x673A;&#x4E2D;</a></li><li><a href="#org829ed9c">3.4. &#x6210;&#x529F;&#x542F;&#x52A8;Windows 10</a></li></ul></li><li><a href="#orgd871360">4. &#x540E;&#x8BB0;</a><ul><li><a href="#orgfebc10e">4.1. X server does not come up in VirtualBox VM after upgrade to kernel 4.5</a><ul><li><a href="#org59d7e0a">4.1.1. &#x65B9;&#x6CD5;&#x4E00;&#xFF1A;&#x5185;&#x6838;&#x964D;&#x7EA7;</a></li><li><a href="#orgf3d396b">4.1.2. &#x65B9;&#x6CD5;&#x4E8C;&#xFF1A;&#x6DFB;&#x52A0;&#x5185;&#x6838;&#x53C2;&#x6570;</a></li></ul></li></ul></li><li><a href="#orgaa990f5">5. &#x53C2;&#x8003;&#x6587;&#x7AE0;</a></li></ul></div></div><p>&#x6211;&#x7684;&#x786C;&#x76D8;&#x4E0A;&#x5B89;&#x88C5;&#x4E86;Windows 10&#x548C;Arch Linux&#xFF0C;&#x5E76;&#x4E14;&#x662F;GPT&#x683C;&#x5F0F;&#x7684;&#x5206;&#x533A;&#x8868;&#xFF0C;&#x6709;&#x65F6;&#x5019;&#x4F1A;&#x78B0;&#x5230;&#x9700;&#x8981;&#x540C;&#x65F6;&#x542F;&#x52A8;&#x4E24;&#x4E2A;&#x7CFB;&#x7EDF;&#x6765;&#x505A;&#x4E00;&#x4E9B;&#x6D4B;&#x8BD5;&#xFF0C;&#x8FD9;&#x5C31;&#x9700;&#x8981;&#x7528;&#x5230;&#x865A;&#x62DF;&#x673A;&#x6280;&#x672F;&#xFF0C;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x5F00;&#x6E90;&#x65B9;&#x6848;Virtualbox&#xFF0C;&#x786C;&#x76D8;&#x5F53;&#x4E2D;&#x5DF2;&#x7ECF;&#x6709;&#x4E24;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x80FD;&#x591F;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x7269;&#x7406;&#x5206;&#x533A;&#x4E0A;&#x7684;&#x7CFB;&#x7EDF;&#x5C31;&#x80FD;&#x514D;&#x53BB;&#x8BB8;&#x591A;&#x91CD;&#x65B0;&#x914D;&#x7F6E;&#x7CFB;&#x7EDF;&#x7684;&#x9EBB;&#x70E6;&#x3002;&#x7ECF;&#x8FC7;&#x4E00;&#x756A;&#x641C;&#x7D22;&#x4E4B;&#x540E;&#xFF0C;&#x53D1;&#x73B0;Virtualbox&#x786E;&#x5B9E;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x8FD9;&#x4E00;&#x60F3;&#x6CD5;&#xFF0C;&#x65E2;&#x53EF;&#x4EE5;&#x4ECE;Windows&#x4E0B;&#x542F;&#x52A8;Linux&#x7CFB;&#x7EDF;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4ECE;Linux&#x4E0B;&#x542F;&#x52A8;Windows&#x7CFB;&#x7EDF;&#xFF0C;&#x591A;&#x6570;&#x7B14;&#x8BB0;&#x672C;&#xFF08;&#x5305;&#x62EC;&#x6211;&#x81EA;&#x5DF1;&#x7684;&#xFF09;&#x5BF9;Linux&#x7684;&#x9A71;&#x52A8;&#x652F;&#x6301;&#x90FD;&#x4E0D;&#x662F;&#x5341;&#x5206;&#x5B8C;&#x5584;&#xFF0C;Linux&#x7684;&#x542F;&#x52A8;Window&#x5C31;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x6709;&#x8FD9;&#x65B9;&#x9762;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x8BF7;&#x53C2;&#x7167;&#x53C2;&#x8003;&#x6587;&#x7AE0;&#x7684;&#x505A;&#x6CD5;&#x3002;&#x4EE5;&#x4E0B;&#x662F;Windows&#x4E0B;&#x542F;&#x52A8;Linux&#x7CFB;&#x7EDF;&#x7684;&#x5177;&#x4F53;&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;&#xFF1A;</p><div id="outline-container-org4f3c126" class="outline-2"><h2 id="org4f3c126"><span class="section-number-2">1</span> &#x786C;&#x76D8;&#x4E0A;&#x7684;&#x5206;&#x533A;&#x60C5;&#x51B5;</h2><div class="outline-text-2" id="text-1"><p alt="&#x5206;&#x533A;&#x60C5;&#x51B5;"><img src="/2016/03/29/Virtualbox直接运行物理分区的系统/partitions.png">&#x7B2C;1&#x4E2A;&#x662F;EFI&#x5206;&#x533A;&#xFF08;&#x91CC;&#x9762;&#x6709;Linux&#x548C;Windows&#x7684;&#x542F;&#x52A8;&#x6587;&#x4EF6;&#xFF09;&#xFF0C;&#x7B2C;2&#x4E2A;&#x662F;MSR&#x5206;&#x533A;&#xFF0C;&#x7B2C;3,4&#x4E2A;&#x5206;&#x533A;&#x662F;NTFS&#x5206;&#x533A;&#xFF0C;&#x7B2C;5&#x4E2A;&#x662F;swap&#x5206;&#x533A;&#xFF0C;&#x7B2C;6&#x3001;7&#x4E2A;&#x662F;ext4&#x5206;&#x533A;&#x3002;&#x6240;&#x4EE5;&#x521B;&#x5EFA;rawdisk&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9700;&#x8981;&#x5305;&#x542B;&#x7B2C;1&#x4E2A;&#x5206;&#x533A;&#xFF0C;&#x624D;&#x80FD;&#x987A;&#x5229;&#x542F;&#x52A8;&#x7269;&#x7406;&#x5206;&#x533A;&#x4E0A;&#x7684;Arch Linux&#x3002;</p></div></div><div id="outline-container-org0a37f0b" class="outline-2"><h2 id="org0a37f0b"><span class="section-number-2">2</span> &#x5728;Windows&#x4E0B;&#x542F;&#x52A8;&#x5B89;&#x88C5;&#x5728;&#x7269;&#x7406;&#x5206;&#x533A;&#x7684;Linux</h2><div class="outline-text-2" id="text-2"></div><div id="outline-container-orgc1c04f3" class="outline-3"><h3 id="orgc1c04f3"><span class="section-number-3">2.1</span> &#x521B;&#x5EFA;&#x865A;&#x62DF;&#x673A;</h3><div class="outline-text-3" id="text-2-1"><p>&#x4E0B;&#x8F7D;&#x5E76;&#x5B89;&#x88C5;Virtualbox&#xFF0C;&#x7136;&#x540E;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;Arch Linux&#x7684;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x521B;&#x5EFA;&#x865A;&#x62DF;&#x786C;&#x76D8;&#xFF0C;&#x901A;&#x8FC7;VBoxManage&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;&#x521B;&#x5EFA;&#x865A;&#x62DF;&#x786C;&#x76D8;&#xFF0C;&#x7136;&#x540E;&#x6DFB;&#x52A0;&#x5230;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x7684;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x3002;</p><p alt="&#x521B;&#x5EFA;Arch Linux&#x865A;&#x62DF;&#x673A;"><img src="/2016/03/29/Virtualbox直接运行物理分区的系统/create_linux_vm.png">&#x53E6;&#x5916;&#x865A;&#x62DF;&#x673A;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x4F7F;&#x7528;EFI&#x542F;&#x52A8;&#xFF0C;&#x5426;&#x5219;&#x65E0;&#x6CD5;&#x542F;&#x52A8;GPT&#x683C;&#x5F0F;&#x7684;&#x865A;&#x62DF;&#x786C;&#x76D8;&#x3002;</p></div></div><div id="outline-container-orgb348469" class="outline-3"><h3 id="orgb348469"><span class="section-number-3">2.2</span> &#x521B;&#x5EFA;&#x865A;&#x62DF;&#x786C;&#x76D8;</h3><div class="outline-text-3" id="text-2-2"><p alt="&#x521B;&#x5EFA;vmdk"><img src="/2016/03/29/Virtualbox直接运行物理分区的系统/create_vmdk.png">&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x865A;&#x62DF;&#x673A;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#x5F15;&#x5BFC;&#x5230;Windows&#x7CFB;&#x7EDF;&#xFF0C;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;partitions&#x53C2;&#x6570;&#xFF0C;&#x53BB;&#x9664;&#x7B2C;3,4&#x5206;&#x533A;&#xFF0C;&#x4F46;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x9020;&#x6210;grub&#x542F;&#x52A8;&#x627E;&#x4E0D;&#x5230;&#x5206;&#x533A;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x6700;&#x597D;&#x5148;&#x68C0;&#x67E5;&#x4E00;&#x4E0B;/etc/fstab&#xFF0C;&#x786E;&#x4FDD;&#x5206;&#x533A;&#x662F;&#x4EE5;UUID&#x7684;&#x65B9;&#x5F0F;&#x6302;&#x8F7D;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#&#x67E5;&#x770B;&#x5206;&#x533A;UUID&#x7684;&#x547D;&#x4EE4;</span></span><br><span class="line">sudo /usr/sbin/blkid</span><br><span class="line">VBoxManage internalcommands listpartitions -rawdisk <span class="string">&quot;\\.\PhysicalDrive0&quot;</span></span><br><span class="line">VBoxManage internalcommands createrawvmdk -filename <span class="string">&quot;D:\VMs\Arch Linux\linux_hd.vmdk&quot;</span> -rawdisk <span class="string">&quot;\\.\PhysicalDrive0&quot;</span> -partitions <span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org56426c9" class="outline-3"><h3 id="org56426c9"><span class="section-number-3">2.3</span> &#x628A;&#x865A;&#x62DF;&#x786C;&#x76D8;&#x6587;&#x4EF6;vmdk&#x6DFB;&#x52A0;&#x5230;&#x865A;&#x62DF;&#x673A;&#x4E2D;</h3></div></div><div id="outline-container-org8b252c1" class="outline-2"><h2 id="org8b252c1"><span class="section-number-2">3</span> &#x5728;Linux&#x4E0B;&#x542F;&#x52A8;&#x5B89;&#x88C5;&#x5728;&#x7269;&#x7406;&#x5206;&#x533A;&#x7684;Windows</h2><div class="outline-text-2" id="text-3"></div><div id="outline-container-org0f1a62c" class="outline-3"><h3 id="org0f1a62c"><span class="section-number-3">3.1</span> &#x521B;&#x5EFA;&#x865A;&#x62DF;&#x673A;</h3></div><div id="outline-container-org697a342" class="outline-3"><h3 id="org697a342"><span class="section-number-3">3.2</span> &#x521B;&#x5EFA;&#x865A;&#x62DF;&#x786C;&#x76D8;</h3><div class="outline-text-3" id="text-3-2"><p>&#x4E00;&#x5F00;&#x59CB;&#x4E0D;&#x77E5;&#x9053;Virtualbox&#x7684;efi&#x53EA;&#x80FD;&#x5F15;&#x5BFC;Win 8&#x4EE5;&#x4E0A;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#xFF0C;&#x8D70;&#x4E86;&#x4E0D;&#x5C11;&#x5F2F;&#x8DEF;&#xFF0C;&#x8BE6;&#x7EC6;&#x60C5;&#x51B5;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x6587;&#x7AE0;&#x300A;<a href="https://www.virtualbox.org/ticket/7702" target="_blank" rel="noopener">UEFI support for Windows guests</a>&#x300B;&#xFF0C;&#x77E5;&#x9053;Win10&#x63A8;&#x51FA;&#x4E86;Bash on Ubuntu on Windows&#xFF0C;&#x6211;&#x5C31;&#x7D22;&#x6027;&#x5C06;Win 2008 R2&#x6362;&#x6210;&#x4E86;Win 10&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vboxmanage internalcommands listpartitions -rawdisk /dev/sda</span><br><span class="line"><span class="comment">#&#x5C06;&#x5F53;&#x524D;&#x7528;&#x6237;&#x52A0;&#x5165;&#x5230;vboxusers&#x7528;&#x6237;&#x7EC4;</span></span><br><span class="line">sudo usermod -G vboxusers <span class="operator">-a</span> `whoami`</span><br><span class="line"><span class="comment">#&#x9700;&#x91CD;&#x65B0;&#x767B;&#x5F55;</span></span><br><span class="line">sudo chmod o+rw /dev/sda</span><br><span class="line">VBoxManage internalcommands createrawvmdk -filename /home/wing/VirtualBox\ VMs/W<span class="keyword">in</span>10/W<span class="keyword">in</span>10.vmdk -rawdisk /dev/sda -relative</span><br><span class="line"><span class="comment">#&#x5C06;&#x6574;&#x4E2A;&#x786C;&#x76D8;&#x521B;&#x5EFA;&#x6210;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x786C;&#x76D8;&#x53EF;&#x4EE5;&#x907F;&#x514D;Windows&#x5F15;&#x5BFC;&#x51FA;&#x9519;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x5BF9;windows boot manager&#x6BD4;&#x8F83;&#x719F;&#x6089;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x53EA;&#x9009;&#x62E9;&#x90E8;&#x5206;&#x5206;&#x533A;&#x521B;&#x5EFA;&#x865A;&#x62DF;&#x786C;&#x76D8;&#xFF0C;&#x9700;&#x8981;&#x53E6;&#x5916;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x5F15;&#x5BFC;&#x5206;&#x533A;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;vmdk&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x670B;&#x53CB;&#x53EF;&#x4EE5;&#x7814;&#x7A76;&#x7814;&#x7A76;&#x3002;</span></span><br><span class="line">sudo chmod o+rw /dev/sda3</span><br><span class="line">sudo chmod o+rw /dev/sda4</span><br><span class="line">VBoxManage internalcommands createrawvmdk -filename /home/wing/VirtualBox\ VMs/W<span class="keyword">in</span>10/W<span class="keyword">in</span>10.vmdk -rawdisk /dev/sda -partitions <span class="number">3</span>,<span class="number">4</span> -relative</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org4c5238b" class="outline-3"><h3 id="org4c5238b"><span class="section-number-3">3.3</span> &#x628A;&#x865A;&#x62DF;&#x786C;&#x76D8;&#x6587;&#x4EF6;vmdk&#x6DFB;&#x52A0;&#x5230;&#x865A;&#x62DF;&#x673A;&#x4E2D;</h3><div class="outline-text-3" id="text-3-3"><div class="figure"><p><img src="/2016/03/29/Virtualbox直接运行物理分区的系统/attach_vmdk_win10.png"></p></div></div></div><div id="outline-container-org829ed9c" class="outline-3"><h3 id="org829ed9c"><span class="section-number-3">3.4</span> &#x6210;&#x529F;&#x542F;&#x52A8;Windows 10</h3><div class="outline-text-3" id="text-3-4"><div class="figure"><p><img src="/2016/03/29/Virtualbox直接运行物理分区的系统/boot_win10.png"></p></div></div></div></div><div id="outline-container-orgd871360" class="outline-2"><h2 id="orgd871360"><span class="section-number-2">4</span> &#x540E;&#x8BB0;</h2><div class="outline-text-2" id="text-4"></div><div id="outline-container-orgfebc10e" class="outline-3"><h3 id="orgfebc10e"><span class="section-number-3">4.1</span> X server does not come up in VirtualBox VM after upgrade to kernel 4.5</h3><div class="outline-text-3" id="text-4-1"></div><div id="outline-container-org59d7e0a" class="outline-4"><h4 id="org59d7e0a"><span class="section-number-4">4.1.1</span> &#x65B9;&#x6CD5;&#x4E00;&#xFF1A;&#x5185;&#x6838;&#x964D;&#x7EA7;</h4><div class="outline-text-4" id="text-4-1-1"><p>&#x5728;2016.4.15&#x66F4;&#x65B0;&#x5185;&#x6838;&#x5230;Linux 4.5&#x548C;Linux-header 4.5&#x4E4B;&#x540E;&#xFF0C;&#x4ECE;Virtualbox&#x542F;&#x52A8;Arch&#x5C31;&#x65E0;&#x6CD5;&#x8FDB;&#x5165;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x4E86;&#xFF0C;Arch&#x7684;&#x5B98;&#x65B9;&#x8BBA;&#x575B;&#x6709;&#x4EBA;&#x4E5F;&#x78B0;&#x5230;&#x4E86;&#x76F8;&#x540C;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4E0D;&#x7136;&#x6211;&#x8FD8;&#x5F97;&#x4E00;&#x76F4;&#x7528;&#x547D;&#x4EE4;&#x884C;&#x3002;&#x65B9;&#x6CD5;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5C31;&#x662F;&#x5185;&#x6838;&#x964D;&#x7EA7;&#x5230;Linux 4.4.5&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F60;&#x66F4;&#x65B0;&#x540E;&#x4E5F;&#x7F13;&#x5B58;&#x91CC;&#x7684;&#x65E7;&#x7248;&#x5185;&#x6838;&#x5E94;&#x8BE5;&#x8FD8;&#x5728;&#x7684;&#xFF0C;&#x53EA;&#x8981;&#x8FD0;&#x884C;&#x4E00;&#x4E0B;&#x4EE5;&#x4E0B;&#x7684;&#x547D;&#x4EE4;&#x5373;&#x53EF;&#x3002;&#x5982;&#x679C;&#x4F60;&#x5DF2;&#x7ECF;&#x987A;&#x624B;&#x6E05;&#x7A7A;&#x4E86;&#x7F13;&#x5B58;&#xFF0C;&#x4F60;&#x5C31;&#x518D;&#x7B49;&#x7B49;&#x3002;Oracle Virtualbox&#x5B98;&#x65B9;&#x5347;&#x7EA7;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x66F4;&#x65B0;&#x4E00;&#x4E0B;&#x5C31;&#x597D;&#x4E86;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/cache/pacman/pkg</span><br><span class="line">ls | grep linux</span><br><span class="line">sudo pacman --force -U linux-<span class="number">4.4</span>.<span class="number">5</span>-<span class="number">1</span>-x86_64.pkg.tar.xz linux-headers-<span class="number">4.4</span>.<span class="number">5</span>-<span class="number">1</span>-x86_64.pkg.tar.xz</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgf3d396b" class="outline-4"><h4 id="orgf3d396b"><span class="section-number-4">4.1.2</span> &#x65B9;&#x6CD5;&#x4E8C;&#xFF1A;&#x6DFB;&#x52A0;&#x5185;&#x6838;&#x53C2;&#x6570;</h4><div class="outline-text-4" id="text-4-1-2"><p>&#x9664;&#x4E86;&#x5185;&#x6838;&#x964D;&#x7EA7;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;Arch&#x8BBA;&#x575B;&#x91CC;&#x8FD8;&#x6709;&#x4EBA;&#x63D0;&#x51FA;&#x4E86;&#x66F4;&#x597D;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x5C31;&#x662F;&#x6DFB;&#x52A0;kernel parameters&#x3002;&#x4FEE;&#x6539;/etc/default/grub&#xFF0C;&#x5F80;GRUB<sub>CMDLINE</sub><sub>LINUX</sub><sub>DEFAULT&#x53D8;&#x91CF;&#x4E2D;&#x6DFB;&#x52A0;iomem</sub>=relaxed&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=<span class="string">&quot;quiet iomem=relaxed&quot;</span></span><br></pre></td></tr></table></figure></div><p>&#x7136;&#x540E;&#x91CD;&#x65B0;&#x751F;&#x6210;grub.cfg&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure></div><p>&#x4EE5;&#x4E0A;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x90FD;&#x6765;&#x6E90;&#x4E8E;Arch&#x8BBA;&#x575B;<a href="https://bbs.archlinux.org/viewtopic.php?pid=1620192" target="_blank" rel="noopener">https://bbs.archlinux.org/viewtopic.php?pid=1620192</a>&#x3002;</p></div></div></div></div><div id="outline-container-orgaa990f5" class="outline-2"><h2 id="orgaa990f5"><span class="section-number-2">5</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;</h2><div class="outline-text-2" id="text-5"><ol class="org-ol"><li><a href="https://cnzhx.net/blog/boot-linux-partition-on-physical-hd-with-vm-in-windows/" target="_blank" rel="noopener">&#x5728; Windows &#x4E2D;&#x901A;&#x8FC7; VirtualBox &#x542F;&#x52A8;&#x7269;&#x7406;&#x786C;&#x76D8;&#x4E0A;&#x7684; Linux &#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;</a></li><li><a href="http://www.cnblogs.com/nkdanfer/p/5450059.html" target="_blank" rel="noopener">Linux&#x4E0B;VirtualBox&#x542F;&#x52A8;&#x7269;&#x7406;&#x786C;&#x76D8;&#x4E0A;&#x5DF2;&#x5B89;&#x88C5;&#x7684;Window 8&#x7CFB;&#x7EDF;</a></li><li><a href="http://blog.163.com/ksharp_dabu/blog/static/1954880222011102121517766/" target="_blank" rel="noopener">VirtualBox&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x7269;&#x7406;&#x786C;&#x76D8;(linux,windows XP)</a></li></ol></div></div></div><div id="postamble" class="status">Last Updated 2016-03-29.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#org4f3c126&quot;&gt;1
      
    
    </summary>
    
      <category term="VirtualBox" scheme="http://wing-ho.github.io/categories/VirtualBox/"/>
    
    
  </entry>
  
  <entry>
    <title>玩转HG255D路由</title>
    <link href="http://wing-ho.github.io/2016/03/28/%E7%8E%A9%E8%BD%ACHG255D%E8%B7%AF%E7%94%B1/"/>
    <id>http://wing-ho.github.io/2016/03/28/玩转HG255D路由/</id>
    <published>2016-03-28T00:00:00.000Z</published>
    <updated>2018-09-10T02:24:19.891Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#org6714354">1. &#x66F4;&#x6362;uboot</a></li><li><a href="#org089731c">2. TTL&#x5237;&#x673A;&#x6559;&#x7A0B;</a></li><li><a href="#org93e280b">3. &#x7F16;&#x8BD1;OpenWrt&#x56FA;&#x4EF6;&#x6216;&#x8F6F;&#x4EF6;</a></li><li><a href="#org0441e91">4. &#x5B89;&#x88C5;&#x914D;&#x7F6E;dd-wrt</a><ul><li><a href="#orgd651275">4.1. &#x5B89;&#x88C5;optware</a></li><li><a href="#org8743bae">4.2. &#x62E6;&#x622A;&#x5E7F;&#x544A;</a></li></ul></li></ul></div></div><p>HG255D 300m&#x65E0;&#x7EBF;&#x8DEF;&#x7531;&#x4EF7;&#x683C;&#x4FBF;&#x5B9C;&#x3001;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#x3001;&#x53EF;&#x73A9;&#x6027;&#x5F88;&#x5F3A;&#xFF0C;&#x5E26;&#x4E00;&#x4E2A;USB&#x63A5;&#x53E3;&#xFF0C;&#x53EF;&#x4EE5;&#x63A5;&#x786C;&#x76D8;&#x3001;U&#x76D8;&#x548C;&#x65E0;&#x7EBF;&#x7F51;&#x5361;&#x3002;&#x8FD9;&#x4E2A;&#x8DEF;&#x7531;&#x53EF;&#x4EE5;&#x5237;&#x7684;&#x56FA;&#x4EF6;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;&#x4EE5;OpenWrt&#x4E3A;&#x4E3B;&#x7684;&#x5B9A;&#x5236;&#x7248;&#x672C;&#xFF0C;&#x6BD4;&#x8F83;&#x51FA;&#x540D;&#x7684;&#x6709;PandoraBox&#x3001;Dreambox&#x7B49;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x56FA;&#x4EF6;&#x4E0B;&#x8F7D;&#x53EF;&#x4EE5;&#x53C2;&#x8003;<a href="http://www.right.com.cn/forum/thread-140853-1-1.html" target="_blank" rel="noopener">&#x534E;&#x4E3A;HG255d&#x5168;&#x56FA;&#x4EF6;&#x96C6;&#x5408;&#x8D34;</a>&#x3002;&#x4E0A;&#x8FF0;&#x5E16;&#x5B50;&#x4E2D;&#x6CA1;&#x6709;&#x63D0;&#x5230;dd-wrt&#xFF0C;&#x5176;&#x5B9E;dd-wrt&#x4E5F;&#x662F;&#x652F;&#x6301;&#x7684;&#xFF0C;&#x867D;&#x7136;dd-wrt&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x63D0;&#x4F9B;&#x5B98;&#x65B9;&#x652F;&#x6301;&#x7684;&#x56FA;&#x4EF6;&#xFF0C;&#x4F46;&#x5B83;&#x7684;&#x786C;&#x4EF6;&#x548C;Asus RT-N13U B1&#x6BD4;&#x8F83;&#x63A5;&#x8FD1;&#xFF0C;&#x53EF;&#x76F4;&#x63A5;&#x5237;&#x8BE5;&#x578B;&#x53F7;&#x7684;&#x7684;&#x56FA;&#x4EF6;&#x3002;&#x5E26;USB&#x63A5;&#x53E3;&#x7684;&#x597D;&#x5904;&#x5C31;&#x662F;&#xFF0C;&#x6CA1;&#x6709;&#x666E;&#x901A;&#x8DEF;&#x7531;&#x6709;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x7684;&#x9650;&#x5236;&#x4E86;&#xFF0C;&#x4F60;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;fstab&#xFF0C;&#x628A;&#x6574;&#x4E2A;&#x56FA;&#x4EF6;&#x90FD;&#x653E;&#x5728;U&#x76D8;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x4F60;&#x63A5;&#x4E0A;&#x673A;&#x68B0;&#x786C;&#x76D8;&#x7684;&#x8BDD;&#xFF0C;&#x8981;&#x4F7F;&#x7528;&#x5927;&#x529F;&#x7387;&#x7684;&#x7535;&#x6E90;&#xFF0C;&#x6216;&#x8005;&#x5C06;&#x673A;&#x68B0;&#x786C;&#x76D8;&#x5916;&#x63A5;&#x4E00;&#x4E2A;&#x7535;&#x6E90;&#x3002;</p><div id="outline-container-org6714354" class="outline-2"><h2 id="org6714354"><span class="section-number-2">1</span> &#x66F4;&#x6362;uboot</h2><div class="outline-text-2" id="text-1"><p>lintel&#x505A;&#x7684;uboot&#x662F;&#x6700;&#x597D;&#x7528;&#x7684;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;&#x662F;&#x5237;&#x4E0D;&#x6B7B;&#x7684;&#xFF0C;&#x96C6;&#x6210;&#x4E86;dhcp&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5F00;&#x673A;&#x6309;&#x4F4F;wps&#xFF0C;&#x7B49;&#x5F85;&#x6307;&#x793A;&#x706F;&#x4E0D;&#x505C;&#x5730;&#x95EA;&#x70C1;&#x5C31;&#x53EF;&#x8FDB;&#x5165;&#x5237;&#x673A;&#x6A21;&#x5F0F;&#xFF0C;&#x5237;&#x673A;&#x5730;&#x5740;<a href="http://192.168.1.1" target="_blank" rel="noopener">http://192.168.1.1</a></p></div></div><div id="outline-container-org089731c" class="outline-2"><h2 id="org089731c"><span class="section-number-2">2</span> TTL&#x5237;&#x673A;&#x6559;&#x7A0B;</h2><div class="outline-text-2" id="text-2"><p>&#x9ED8;&#x8BA4;&#x6CE2;&#x7279;&#x7387;&#x662F;115200TTL&#x63A5;&#x6CD5;</p></div></div><div id="outline-container-org93e280b" class="outline-2"><h2 id="org93e280b"><span class="section-number-2">3</span> &#x7F16;&#x8BD1;OpenWrt&#x56FA;&#x4EF6;&#x6216;&#x8F6F;&#x4EF6;</h2><div class="outline-text-2" id="text-3"><p>OpenWrt&#x5B98;&#x65B9;&#x7684;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x76F4;&#x63A5;&#x652F;&#x6301;&#x8FD9;&#x4E2A;&#x578B;&#x53F7;&#x3002;&#x6211;&#x5C31;&#x66FE;&#x7ECF;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x7F16;&#x8BD1;&#x4E86;&#x6700;&#x65B0;&#x7684;OpenWrt&#x56FA;&#x4EF6;&#x3001;node.js&#x4EE5;&#x53CA;&#x52A0;&#x5165;&#x6DF7;&#x6DC6;&#x52A0;&#x5BC6;&#x7684;ssh&#x7FFB;&#x5899;&#x5DE5;&#x5177;&#xFF0C;&#x7F16;&#x8BD1;&#x56FA;&#x4EF6;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x300A;<a href="http://www.cnphp6.com/archives/27122" target="_blank" rel="noopener">&#x7F16;&#x8BD1;HG255D&#x7684;openwrt&#x56FA;&#x4EF6;</a>&#x300B;&#x548C;node.js&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x6211;&#x7684;csdn&#x535A;&#x5BA2;<a href="http://blog.csdn.net/genrong/article/details/26099311" target="_blank" rel="noopener">&#x4EA4;&#x53C9;&#x7F16;&#x8BD1;Node.js&#x5230;OpenWrt&#xFF08;HG255D&#xFF09;</a>&#x3002;</p><p>&#x7F16;&#x8BD1;&#x6700;&#x65B0;&#x7248;chaos calmer&#x7684;&#x56FA;&#x4EF6;&#xFF0C;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x5F88;&#x7B80;&#x5355;&#x4E86;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x4E2A;&#x5730;&#x65B9;&#x5C31;&#x53EF;&#x4EE5;&#x7F16;&#x8BD1;&#x51FA;HG255D&#x7684;&#x56FA;&#x4EF6;&#x3002;&#x627E;&#x5230;target/linux/ramips/image/rt305x.mk&#x6587;&#x4EF6;&#xFF0C;&#x627E;&#x5230;Image/Build/Profile/HG255D=\((call BuildFirmware/Default16M/\)(1),$(1),hg255d,HG255D)&#xFF0C;&#x5C06;&#x6CE8;&#x91CA;&#x53BB;&#x6389;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</p><p>&#x5982;&#x679C;&#x60F3;&#x5237;&#x597D;&#x56FA;&#x4EF6;&#x540E;&#x9ED8;&#x8BA4;&#x6253;&#x5F00;wifi&#xFF0C;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x4EE5;&#x4E0B;&#x6587;&#x4EF6;package/kernel/mac80211/files/lib/wifi/mac80211.sh &#x67E5;&#x627E;option disabled 1&#xFF0C;&#x66FF;&#x6362;&#x4E3A;option disabled 0&#x5373;&#x53EF;&#x3002;</p><p>&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x7BA1;&#x7406;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;git&#x6765;&#x7BA1;&#x7406;&#x81EA;&#x5DF1;&#x7684;&#x5206;&#x652F;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git branch hg255d</span><br><span class="line">git checkout hg255d</span><br><span class="line">vim tartget/linux/rampips/images/rt305x.mk</span><br><span class="line"><span class="comment">#&#x67E5;&#x627E;255&#x578B;&#x53F7;&#x8DEF;&#x7531;</span></span><br><span class="line">/<span class="number">255</span></span><br><span class="line"><span class="comment">#&#x53BB;&#x6389;&#x8BE5;&#x884C;&#x6CE8;&#x91CA;</span></span><br><span class="line">vim package/kernel/mac80211/files/lib/wifi/mac80211.sh</span><br><span class="line"><span class="comment">#&#x67E5;&#x627E;wifi&#x5F00;&#x542F;&#x9009;&#x9879;</span></span><br><span class="line">/disabled</span><br><span class="line"><span class="comment">#&#x5C06;option disabled 1&#x6539;&#x4E3A;option disabled 0</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;complile hg255d image.&quot;</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org0441e91" class="outline-2"><h2 id="org0441e91"><span class="section-number-2">4</span> &#x5B89;&#x88C5;&#x914D;&#x7F6E;dd-wrt</h2><div class="outline-text-2" id="text-4"><p>dd-wrt&#x7684;&#x65E0;&#x7EBF;&#x4E2D;&#x7EE7;&#x529F;&#x80FD;&#x5728;&#x7A33;&#x5B9A;&#x6027;&#x548C;&#x6027;&#x80FD;&#x4E0A;&#x90FD;&#x662F;&#x6700;&#x51FA;&#x8272;&#xFF0C;&#x6211;&#x5BB6;&#x91CC;&#x5BBD;&#x5E26;&#x662F;&#x7684;50M&#x5149;&#x7EA4;&#x5B89;&#x88C5;&#x5728;&#x4E00;&#x697C;&#xFF0C;300M&#x65E0;&#x7EBF;&#x5149;&#x732B;&#x5E76;&#x4E0D;&#x80FD;&#x5F88;&#x597D;&#x5730;&#x8986;&#x76D6;&#x4E24;&#x5C42;&#x697C;&#x3002;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x94FA;&#x8BBE;&#x7F51;&#x7EBF;&#x7684;&#x9EBB;&#x70E6;&#xFF0C;&#x4E8C;&#x697C;&#x65E0;&#x7EBF;&#x4FE1;&#x53F7;&#x7684;&#x8986;&#x76D6;&#x51B3;&#x5B9A;&#x91C7;&#x7528;&#x65E0;&#x7EBF;&#x4E2D;&#x7EE7;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x89E3;&#x51B3;&#x3002;OpenWrt&#x548C;dd-wrt&#x6211;&#x90FD;&#x6D4B;&#x8BD5;&#x8FC7;&#xFF0C;dd-wrt&#x7684;&#x901F;&#x5EA6;&#x8981;&#x5FEB;&#x5F97;&#x591A;&#xFF0C;dd-wrt&#x6700;&#x65B0;&#x7684;&#x56FA;&#x4EF6;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;<a href="ftp://ftp.dd-wrt.com/betas/2016/03-28-2016-r29362/asus-rtn13ub1/" target="_blank" rel="noopener">ftp://ftp.dd-wrt.com/betas/2016/03-28-2016-r29362/asus-rtn13ub1/</a></p></div><div id="outline-container-orgd651275" class="outline-3"><h3 id="orgd651275"><span class="section-number-3">4.1</span> &#x5B89;&#x88C5;optware</h3><div class="outline-text-3" id="text-4-1"><p>&#x5982;&#x679C;&#x4F60;&#x89C9;&#x5F97;dd-wrt&#x7F3A;&#x5C11;&#x4F60;&#x5E38;&#x7528;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5B89;&#x88C5;optware&#x6765;&#x5B89;&#x88C5;&#x5176;&#x4ED6;OpenWrt&#x4E0B;&#x5E38;&#x7528;&#x7684;&#x5DE5;&#x5177;&#x3002;&#x63D2;&#x4E00;&#x53EA;u&#x76D8;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x670D;&#x52A1;&#x4E2D;&#x8BBE;&#x7F6E;&#x542F;&#x7528;USB&#x652F;&#x6301;&#xFF0C;&#x5728;Mount this Partition to /opt&#x586B;&#x4E0A;&#x4F60;U&#x76D8;&#x5206;&#x533A;&#x7684;UUID&#x3002;</p><div class="figure"><p><img src="/2016/03/28/玩转HG255D路由/usb.png"></p></div><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget http://www.<span class="number">3</span>iii.dk/linux/optware/optware-install-ddwrt.sh -O - | tr <span class="operator">-d</span> <span class="string">&apos;\r&apos;</span> &gt; /tmp/optware-install.sh</span><br><span class="line">sh /tmp/optware-install.sh</span><br><span class="line">ipkg update</span><br><span class="line">ipkg list</span><br><span class="line">ipkg install wget</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org8743bae" class="outline-3"><h3 id="org8743bae"><span class="section-number-3">4.2</span> &#x62E6;&#x622A;&#x5E7F;&#x544A;</h3><div class="outline-text-3" id="text-4-2"><p>&#x4EE5;&#x4E0B;&#x6559;&#x7A0B;&#x662F;&#x6765;&#x81EA;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x6559;&#x7A0B;&#x300A;<a href="http://www.appinn.com/dd-wrt-router-adblocking/" target="_blank" rel="noopener">DD-WRT &#x8DEF;&#x7531;&#x5668;&#x62E6;&#x622A;&#x5E7F;&#x544A;&#x6559;&#x7A0B;</a>&#x300B;&#xFF0C;&#x4F46;&#x7531;&#x4E8E;chinalistlazy&#x7684;&#x5185;&#x5BB9;&#x6765;&#x81EA;&#x4E8E;googlecode&#xFF0C;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x65E0;&#x6CD5;&#x4E0B;&#x8F7D;&#xFF0C;&#x6211;&#x66F4;&#x6539;&#x4E3A;&#x5176;&#x4ED6;&#x4E0B;&#x8F7D;&#x94FE;&#x63A5;&#xFF0C;&#x53E6;&#x5916;&#x56E0;&#x4E3A;busybox&#x5185;&#x7F6E;&#x7684;wget&#x529F;&#x80FD;&#x592A;&#x5F31;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x4E0B;&#x8F7D;https&#x7684;&#x94FE;&#x63A5;&#xFF0C;&#x9700;&#x8981;&#x901A;&#x8FC7;optware&#x5B89;&#x88C5;&#x5B8C;&#x6574;&#x529F;&#x80FD;&#x7684;wget&#x3002;</p><ol class="org-ol"><li>&#x8FDB;&#x5165; DD-WRT &#x7F51;&#x9875;&#x7BA1;&#x7406;&#x754C;&#x9762;&#xFF0C;Services(&#x670D;&#x52A1;) -&gt; Services(&#x670D;&#x52A1;)&#xFF0C;DNSMasq &#x548C; Local DNS(&#x672C;&#x5730; DNS) &#x5747;&#x8BBE;&#x7F6E;&#x6210; Enable (&#x542F;&#x7528;)&#x3002;&#x6EDA;&#x5230;&#x9875;&#x9762;&#x5E95;&#x90E8;&#x4FDD;&#x5B58;&#x3002;</li><li>telnet 192.168.1.1&#x767B;&#x5F55;&#x5230;&#x8DEF;&#x7531;&#x5668;&#xFF0C;&#x5B89;&#x88C5;wget&#x5E76;&#x4E0B;&#x8F7D;adblock&#x7684;chinalist+easylist.txt&#xFF0C;&#x8F6C;&#x6362;&#x4E3A;dnsmasq&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;</li></ol><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ipkg update</span><br><span class="line">ipkg install wget</span><br><span class="line">/opt/bin/wget --no-check-certificate -O - https://easylist-downloads.adblockplus.org/chinalist+easylist.txt |</span><br><span class="line">grep ^\|\|[^\*]*\^$ |</span><br><span class="line">sed <span class="operator">-e</span> <span class="string">&apos;s:||:address\=\/:&apos;</span> <span class="operator">-e</span> <span class="string">&apos;s:\^:/127\.0\.0\.1:&apos;</span> &gt; /opt/dnsmasq.ads</span><br></pre></td></tr></table></figure></div><ol class="org-ol"><li>&#x8FDB;&#x5165; DD-WRT &#x7F51;&#x9875;&#x7BA1;&#x7406;&#x754C;&#x9762;&#xFF0C;Administration -&gt; Commands&#xFF0C;&#x8D34;&#x5165;&#x5982;&#x4E0B;&#x811A;&#x672C;&#x540E;&#xFF0C;Save Startup&#xFF1A;</li></ol><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="shebang">#!/bin/sh</span></span><br><span class="line"><span class="comment">#logger WAN up script executing</span></span><br><span class="line"><span class="shebang">#!/bin/sh</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> <span class="operator">-e</span> /opt/dnsmasq.ads;<span class="keyword">then</span></span><br><span class="line">  grep conf-file /tmp/dnsmasq.conf || <span class="built_in">echo</span> <span class="operator">-e</span> <span class="string">&quot;\nconf-file=/opt/dnsmasq.ads&quot;</span> &gt;&gt; /tmp/dnsmasq.conf</span><br><span class="line">  logger Restarting dnsmasq</span><br><span class="line">  killall dnsmasq</span><br><span class="line">  dnsmasq --conf-file=/tmp/dnsmasq.conf</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></div><p>&#x4E0A;&#x9762;&#x5176;&#x5B9E;&#x662F;&#x505A;&#x4E86;&#x4E00;&#x4E2A;&#x542F;&#x52A8;&#x811A;&#x672C;&#xFF0C;&#x5728;&#x8DEF;&#x7531;&#x5668;&#x6BCF;&#x6B21;&#x542F;&#x52A8;&#x65F6;&#x8FD0;&#x884C;&#x3002;&#x610F;&#x601D;&#x662F;&#xFF0C;&#x542F;&#x52A8;&#x65F6;&#x628A;&#x4E0B;&#x8F7D;&#x5230;/opt&#x7684;chinalist+easylist.txt&#xFF0C;&#x8F6C;&#x6362;&#x751F;&#x6210; dnsmasq &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x518D;&#x544A;&#x77E5; dnsmasq &#x8C03;&#x7528;&#x3002;4.&#x8FDB;&#x5165; DD-WRT &#x7F51;&#x9875;&#x7BA1;&#x7406;&#x754C;&#x9762;&#xFF0C;Administration -&gt; Management, &#x627E;&#x5230; cron&#xFF0C;enable, &#x7136;&#x540E;&#x5728;&#x4E0B;&#x9762;&#x201D;Additional Cron Jobs&#x201D;&#x8D34;&#x5165;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">* <span class="number">1</span> * * * root /tmp/.rc_startup</span><br></pre></td></tr></table></figure></div><p>&#x9875;&#x9762;&#x6EDA;&#x5230;&#x5E95;&#xFF0C;&#x4FDD;&#x5B58;&#xFF0C;&#x91CD;&#x542F;&#x8DEF;&#x7531;&#x5668;&#x3002;&#x8FDE;&#x4E0A;&#x8DEF;&#x7531;&#xFF0C;&#x6E05;&#x7A7A;&#x6D4F;&#x89C8;&#x5668;&#x7F13;&#x5B58;&#x540E;&#x8BBF;&#x95EE;&#x51E0;&#x4E2A;&#x5927;&#x7F51;&#x7AD9;&#x770B;&#x770B;&#xFF0C;&#x5C4F;&#x853D;&#x6548;&#x679C;&#x5E94;&#x8BE5;&#x76F8;&#x5F53;&#x660E;&#x663E;&#x7684;&#x3002;</p></div></div></div></div><div id="postamble" class="status">Last Updated 2016-03-28.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#org6714354&quot;&gt;1
      
    
    </summary>
    
      <category term="Router" scheme="http://wing-ho.github.io/categories/Router/"/>
    
    
  </entry>
  
  <entry>
    <title>Spacemacs配置备忘</title>
    <link href="http://wing-ho.github.io/2016/01/18/Spacemacs%E9%85%8D%E7%BD%AE%E5%A4%87%E5%BF%98/"/>
    <id>http://wing-ho.github.io/2016/01/18/Spacemacs配置备忘/</id>
    <published>2016-01-18T13:11:00.000Z</published>
    <updated>2018-09-10T02:24:18.427Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#org593d877">1. &#x544A;&#x522B;ESC</a></li><li><a href="#orgdb31f49">2. &#x542F;&#x52A8;&#x540E;Flyspell mode&#x6709;&#x9519;&#x8BEF;&#x63D0;&#x793A;&#xFF1A;</a></li><li><a href="#org6a9bf2a">3. &#x907F;&#x514D;shell&#x4E0B;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x63D0;&#x793A;fontset &apos;tty&apos; does not exist.</a></li><li><a href="#org267c456">4. tern binary not found</a></li><li><a href="#org984eb8d">5. yasnippet&#x5305;&#x66F4;&#x65B0;&#x540E;&#xFF0C;&#x51FA;&#x73B0;&#x4E25;&#x91CD;&#x7684;&#x6545;&#x969C;</a></li><li><a href="#orgd6bc163">6. &#x53C2;&#x8003;&#x6587;&#x7AE0;&#xFF1A;</a></li></ul></div></div><p>&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4F1A;&#x4E0D;&#x5B9A;&#x671F;&#x66F4;&#x65B0;&#xFF0C;&#x628A;&#x914D;&#x7F6E;Spacemacs&#x8FC7;&#x7A0B;&#x4E2D;&#x78B0;&#x5230;&#x7684;&#x95EE;&#x9898;&#x8BB0;&#x5F55;&#x4E0B;&#x6765;&#x3002; </p><div id="outline-container-org593d877" class="outline-2"><h2 id="org593d877"><span class="section-number-2">1</span> &#x544A;&#x522B;ESC</h2><div class="outline-text-2" id="text-1"><p>&#x5982;&#x679C;&#x662F;vim&#x7684;&#x8001;&#x7528;&#x6237;&#x7684;&#x8BDD;&#xFF0C;&#x4F60;&#x4F1A;&#x53D1;&#x73B0;esc&#x952E;&#xFF0C;&#x79BB;&#x4F60;&#x7684;&#x952E;&#x76D8;&#x4E2D;&#x5FC3;&#x592A;&#x8FDC;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x6362;&#x6210;jk&#xFF0C;&#x5207;&#x6362;&#x901F;&#x5EA6;&#x5C31;&#x4F1A;&#x5FEB;&#x5F88;&#x591A;&#x3002;</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> dotspacemacs/user-init <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq-default</span> evil-escape-delay <span class="number">0.2</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">setq-default</span> evil-escape-key-sequence <span class="string">&quot;jk&quot;</span>)</span></span><br><span class="line">)</span></span><br></pre></td></tr></table></figure></div><p>&#x53C2;&#x8003;&#x6587;&#x7AE0;<a href="http://www.guanggua.com/question/10569165-how-to-map-jj-to-esc-in-emacs-evil-mode.html" target="_blank" rel="noopener">http://www.guanggua.com/question/10569165-how-to-map-jj-to-esc-in-emacs-evil-mode.html</a></p></div></div><div id="outline-container-orgdb31f49" class="outline-2"><h2 id="orgdb31f49"><span class="section-number-2">2</span> &#x542F;&#x52A8;&#x540E;Flyspell mode&#x6709;&#x9519;&#x8BEF;&#x63D0;&#x793A;&#xFF1A;</h2><div class="outline-text-2" id="text-2"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">No word lists can be found fro the language <span class="string">&quot;zh_CN&quot;</span></span><br></pre></td></tr></table></figure></div><p>Flyspell mode&#x53EA;&#x5BF9;&#x82F1;&#x6587;&#x6709;&#x6548;&#xFF0C;&#x662F;&#x6CA1;&#x6709;zh<sub>CN</sub> word lists&#x7684;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello, woold&quot;</span> | aspell <span class="operator">-a</span> <span class="operator">-l</span> en</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello, woold&quot;</span> | aspell <span class="operator">-a</span> </span><br><span class="line">sudo pacman -S aspell-en</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org6a9bf2a" class="outline-2"><h2 id="org6a9bf2a"><span class="section-number-2">3</span> &#x907F;&#x514D;shell&#x4E0B;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x63D0;&#x793A;fontset &apos;tty&apos; does not exist.</h2><div class="outline-text-2" id="text-3"><p>&#x7528;if&#x51FD;&#x6570;&#x68C0;&#x6D4B;emacs&#x662F;&#x5426;&#x5728;shell&#x6A21;&#x5F0F;&#x4E0B;&#x8FD0;&#x884C;&#x3002;</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">if</span> window-system</span><br><span class="line">     <span class="list">(<span class="keyword">dolist</span> <span class="list">(<span class="keyword">charset</span> <span class="quoted">&apos;(kana han symbol cjk-misc bopomofo)</span>)</span></span><br><span class="line">       <span class="list">(<span class="keyword">set-fontset-font</span> <span class="list">(<span class="keyword">frame-parameter</span> <span class="literal">nil</span> <span class="quoted">&apos;font</span>)</span></span><br><span class="line"> charset <span class="list">(<span class="keyword">font-spec</span> <span class="keyword">:family</span> <span class="string">&quot;&#x6587;&#x6CC9;&#x9A7F;&#x7B49;&#x5BBD;&#x5FAE;&#x7C73;&#x9ED1;&quot;</span></span><br><span class="line">    <span class="keyword">:size</span> <span class="number">16</span>)</span>)</span>)</span>)</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org267c456" class="outline-2"><h2 id="org267c456"><span class="section-number-2">4</span> tern binary not found</h2><div class="outline-text-2" id="text-4"><p><a href="https://github.com/syl20bnr/spacemacs/issues/7497" target="_blank" rel="noopener">https://github.com/syl20bnr/spacemacs/issues/7497</a></p></div></div><div id="outline-container-org984eb8d" class="outline-2"><h2 id="org984eb8d"><span class="section-number-2">5</span> yasnippet&#x5305;&#x66F4;&#x65B0;&#x540E;&#xFF0C;&#x51FA;&#x73B0;&#x4E25;&#x91CD;&#x7684;&#x6545;&#x969C;</h2><div class="outline-text-2" id="text-5"><p>&#x4F7F;&#x7528;Rollback package update&#x53EF;&#x4EE5;&#x56DE;&#x6EDA;&#x5230;&#x66F4;&#x65B0;&#x524D;&#x7684;&#x5305;&#xFF0C;&#x56E0;&#x4E3A;&#x5BF9;spacemacs&#x8FD8;&#x4E0D;&#x662F;&#x5341;&#x5206;&#x719F;&#x6089;&#xFF0C;&#x8FD9;&#x4E2A;&#x6545;&#x969C;&#x6298;&#x817E;&#x4E86;&#x6211;&#x534A;&#x5929;&#xFF0C;&#x624D;&#x627E;&#x5230;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE5;&#x540E;&#x66F4;&#x65B0;&#x4E0D;&#x7528;&#x90A3;&#x4E48;&#x52E4;&#x5FEB;&#x4E86;&#xFF0C;&#x66F4;&#x65B0;&#x51FA;&#x4E86;&#x95EE;&#x9898;&#x4E5F;&#x86EE;&#x6298;&#x78E8;&#x4EBA;&#x7684;&#x3002;</p></div></div><div id="outline-container-orgd6bc163" class="outline-2"><h2 id="orgd6bc163"><span class="section-number-2">6</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;&#xFF1A;</h2><div class="outline-text-2" id="text-6"><p>1.<a href="http://www.yy42.net/blog/?p=318" target="_blank" rel="noopener"> Linux &#x6280;&#x5DE7;&#xFF1A;&#x6D3B;&#x7528; Emacs &#x7684;&#x5355;&#x8BCD;&#x62FC;&#x5199;&#x68C0;&#x67E5;&#x529F;&#x80FD;</a></p></div></div></div><div id="postamble" class="status">Last Updated 2016-01-18 &#x4E00; 21:11.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#org593d877&quot;&gt;1
      
    
    </summary>
    
      <category term="Emacs" scheme="http://wing-ho.github.io/categories/Emacs/"/>
    
    
  </entry>
  
  <entry>
    <title>Arch Linux安装配置手记</title>
    <link href="http://wing-ho.github.io/2015/12/31/Arch%20Linux%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E6%89%8B%E8%AE%B0/"/>
    <id>http://wing-ho.github.io/2015/12/31/Arch Linux安装配置手记/</id>
    <published>2015-12-30T17:37:00.000Z</published>
    <updated>2018-09-10T02:24:18.407Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#orgfd4174f">1. &#x5B89;&#x88C5;&#x7CFB;&#x7EDF;</a></li><li><a href="#orga71abef">2. &#x4E0A;&#x7F51;&#x95EE;&#x9898;</a><ul><li><a href="#orga27bcd8">2.1. &#x6709;&#x7EBF;&#x4E0A;&#x7F51;</a></li><li><a href="#org6791ecf">2.2. &#x65E0;&#x7EBF;&#x4E0A;&#x7F51;</a></li><li><a href="#org2a290b8">2.3. &#x4F7F;&#x7528;systemd-networkd&#x66FF;&#x4EE3;networkmanager</a><ul><li><a href="#orge067c59">2.3.1. &#x6709;&#x7EBF;&#x8FDE;&#x63A5;</a></li><li><a href="#org14e52d5">2.3.2. &#x65E0;&#x7EBF;&#x8FDE;&#x63A5;</a></li></ul></li></ul></li><li><a href="#org0020a0b">3. &#x5B89;&#x88C5;&#x5E38;&#x7528;&#x7684;&#x8F6F;&#x4EF6;</a></li><li><a href="#org03b72a3">4. &#x6587;&#x4EF6;&#x7BA1;&#x7406;&#x5668;</a><ul><li><a href="#org1fbd9fc">4.1. &#x6DFB;&#x52A0;&#x6302;&#x8F7D;ntfs&#x5206;&#x533A;&#x7684;&#x6743;&#x9650;</a></li></ul></li><li><a href="#org776baf6">5. &#x5B57;&#x4F53;</a></li><li><a href="#org5a6192e">6. &#x53CC;&#x7CFB;&#x7EDF;&#x65F6;&#x95F4;&#x95EE;&#x9898;</a></li><li><a href="#org595b50f">7. &#x914D;&#x7F6E;&#x7A97;&#x53E3;&#x7BA1;&#x7406;&#x5668;</a><ul><li><a href="#org0c30753">7.1. awesome</a><ul><li><a href="#org65bb5fd">7.1.1. &#x89E3;&#x51B3;emacs&#x5728;awesome&#x7684;&#x6700;&#x5927;&#x5316;&#x65F6;&#x5E95;&#x90E8;&#x6709;&#x7A7A;&#x9699;</a></li></ul></li><li><a href="#orgb40e479">7.2. fvwm</a></li><li><a href="#orgc75716c">7.3. xfce4</a></li></ul></li><li><a href="#org36aed0b">8. &#x914D;&#x7F6E;&#x84DD;&#x7259;&#x952E;&#x76D8;&#x548C;&#x84DD;&#x7259;&#x9F20;&#x6807;</a><ul><li><a href="#org5053b84">8.1. &#x624B;&#x52A8;&#x8FDE;&#x63A5;&#x84DD;&#x7259;&#x952E;&#x76D8;&#x9F20;&#x6807;</a></li><li><a href="#orgc87588d">8.2. &#x81EA;&#x52A8;&#x8FDE;&#x63A5;&#x84DD;&#x7259;&#x952E;&#x76D8;&#x9F20;&#x6807;</a><ul><li><a href="#org7a60672">8.2.1. &#x4F7F;&#x7528;systemd&#x670D;&#x52A1;&#x8FDE;&#x63A5;&#x84DD;&#x7259;&#x8BBE;&#x5907;</a></li><li><a href="#org78e7452">8.2.2. &#x4F7F;&#x7528;udev rule&#x542F;&#x52A8;&#x84DD;&#x7259;&#x8FDE;&#x63A5;&#x670D;&#x52A1;</a></li></ul></li></ul></li><li><a href="#org734dba4">9. &#x96F6;&#x788E;&#x95EE;&#x9898;&#x6C47;&#x603B;</a><ul><li><a href="#orga38e225">9.1. &#x4F7F;&#x7528;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#x5F00;&#x673A;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x63D0;&#x793A;&#xFF1A;</a></li><li><a href="#org141e7d5">9.2. Archlinux &#x5B89;&#x88C5; yaourt &#x8F6F;&#x4EF6;&#x5305;&#x7BA1;&#x7406;&#x5668;</a></li></ul></li><li><a href="#org508fad4">10. &#x53C2;&#x8003;&#x6587;&#x7AE0;</a></li></ul></div></div><p>&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x4E00;&#x822C;&#x7684;linux&#x53D1;&#x884C;&#x7248;&#xFF0C;&#x7248;&#x672C;&#x5347;&#x7EA7;&#x5E26;&#x6765;&#x5404;&#x79CD;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x51B3;&#x5B9A;&#x9009;&#x62E9;&#x91C7;&#x7528;&#x6EDA;&#x52A8;&#x5347;&#x7EA7;&#x7B56;&#x7565;&#x7684;Arch Linux&#x3002;&#x6298;&#x817E;Arch Linux&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#xFF0C;&#x53D1;&#x73B0;Arch Linux&#x786E;&#x5B9E;&#x662F;&#x6211;&#x6700;&#x559C;&#x6B22;&#x7684;Linux&#x7248;&#x672C;&#xFF0C;&#x5B98;&#x65B9;&#x7684;wiki&#x662F;&#x505A;&#x5F97;&#x6700;&#x597D;&#x7684;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x95EE;&#x9898;&#x4E0A;&#x9762;&#x90FD;&#x80FD;&#x627E;&#x5230;&#x7B54;&#x6848;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x6211;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x5F53;&#x4E2D;&#x78B0;&#x5230;&#x7684;&#x95EE;&#x9898;&#x7684;&#x6C47;&#x603B;&#x3002;</p><div id="outline-container-orgfd4174f" class="outline-2"><h2 id="orgfd4174f"><span class="section-number-2">1</span> &#x5B89;&#x88C5;&#x7CFB;&#x7EDF;</h2><div class="outline-text-2" id="text-1"><p>&#x6839;&#x636E;<a href="https://bbs.archlinuxcn.org/viewtopic.php?id=1037" target="_blank" rel="noopener">arch Linux &#x5B89;&#x88C5;&#x6307;&#x5357;</a>&#x5B89;&#x88C5;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B89;&#x88C5;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x78B0;&#x5230;&#x7684;&#x95EE;&#x9898;&#x4E3B;&#x8981;&#x6709;&#x4E24;&#x4E2A;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;uefi&#x73AF;&#x5883;&#x4E0B;&#x5982;&#x4F55;&#x5B89;&#x88C5;&#x542F;&#x52A8;&#x5668;&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x5C31;&#x662F;&#x65E0;&#x7EBF;&#x7F51;&#x5361;&#x7684;&#x9A71;&#x52A8;&#x3002;&#x4EE5;&#x4E0B;&#x5C31;&#x662F;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x5F53;&#x4E2D;&#x7684;&#x6D41;&#x6C34;&#x8D26;&#x4E86;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#&#x5B89;&#x88C5;sudo</span></span><br><span class="line">pacman -S sudo</span><br><span class="line"><span class="comment">#&#x6DFB;&#x52A0;yaourt&#x7684;&#x652F;&#x6301;</span></span><br><span class="line"><span class="comment">#&#x6700;&#x7B80;&#x5355;&#x5B89;&#x88C5;Yaourt&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x6DFB;&#x52A0;Yaourt&#x6E90;&#x81F3;&#x60A8;&#x7684; /etc/pacman.conf</span></span><br><span class="line">sudo pacman -Syu yaourt </span><br></pre></td></tr></table></figure></div><p>&#x5728;/etc/pacman.conf&#x4E2D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;:</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line"><span class="comment">#The Chinese Arch Linux communities packages.</span></span><br><span class="line"><span class="comment">#&#x4FE1;&#x4EFB;&#x6240;&#x6709;&#x5305;</span></span><br><span class="line">SigLevel = Optional TrustAll</span><br><span class="line"><span class="comment">#&#x53EA;&#x4FE1;&#x4EFB;</span></span><br><span class="line"><span class="comment">#SigLevel = Optional TrustedOnly</span></span><br><span class="line">Server   = https://mirrors.ustc.edu.cn/archlinuxcn/<span class="variable">$arch</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orga71abef" class="outline-2"><h2 id="orga71abef"><span class="section-number-2">2</span> &#x4E0A;&#x7F51;&#x95EE;&#x9898;</h2><div class="outline-text-2" id="text-2"><p>&#x5982;&#x679C;&#x4F60;gui&#x754C;&#x9762;&#x6BD4;&#x8F83;&#x591A;&#xFF0C;&#x7528;networkmanager&#x53EF;&#x80FD;&#x66F4;&#x52A0;&#x65B9;&#x4FBF;&#x4E00;&#x4E9B;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x5BF9;console&#x66F4;&#x52A0;&#x719F;&#x6089;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;systemd-networkd&#xFF0C;&#x7528;wifi-menu&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5207;&#x6362;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x540C;&#x6837;&#x4E5F;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x7684;&#x3002;</p></div><div id="outline-container-orga27bcd8" class="outline-3"><h3 id="orga27bcd8"><span class="section-number-3">2.1</span> &#x6709;&#x7EBF;&#x4E0A;&#x7F51;</h3><div class="outline-text-3" id="text-2-1"><p>udev&#x5BF9;&#x7F51;&#x5361;&#x7684;&#x547D;&#x540D;&#x89C4;&#x5219;&#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;&#xFF0C;&#x4F8B;&#x5982;&#x6211;&#x7684;&#x7F51;&#x5361;&#x540D;&#x79F0;&#x662F;ens5&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x6362;&#x56DE;&#x539F;&#x6765;&#x7684;eth*&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x5982;&#x4E0B;&#x7684;&#x811A;&#x672C;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo ip link <span class="built_in">set</span> ens5 up</span><br><span class="line">cat ]<span class="comment">#  /etc/udev/rules.d/99-rename-to-eth0.rules &lt;&lt; EOF</span></span><br><span class="line">SUBSYSTEM==<span class="string">&quot;net&quot;</span>, ACTION==<span class="string">&quot;add&quot;</span>, DRIVERS==<span class="string">&quot;?*&quot;</span>, ATTR{address}==<span class="string">&quot;<span class="variable">$(cat /sys/class/net/ens5/address)</span>&quot;</span>, ATTR{dev_id}==<span class="string">&quot;0x0&quot;</span>, ATTR{<span class="built_in">type</span>}==<span class="string">&quot;1&quot;</span>, KERNEL==<span class="string">&quot;eth*&quot;</span>, NAME=<span class="string">&quot;eth0&quot;</span></span><br><span class="line">EOF</span><br><span class="line">systemctl <span class="built_in">enable</span> dhcpcd</span><br><span class="line">sudo pacman -S networmanager networkmanager-pptp gnome-keyring</span><br><span class="line">systemctl <span class="built_in">enable</span> NetworkManager</span><br><span class="line">systemctl <span class="built_in">disable</span> dhcpcd</span><br><span class="line">systemctl start NetworkManager</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org6791ecf" class="outline-3"><h3 id="org6791ecf"><span class="section-number-3">2.2</span> &#x65E0;&#x7EBF;&#x4E0A;&#x7F51;</h3><div class="outline-text-3" id="text-2-2"><p>&#x6211;&#x7684;&#x65E0;&#x7EBF;&#x7F51;&#x5361;&#x662F;b4312&#x65E0;&#x6CD5;&#x76F4;&#x63A5;&#x9A71;&#x52A8;&#xFF0C;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x9A71;&#x52A8;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lspci -vnn <span class="operator">-d</span> <span class="number">14</span>e4:</span><br><span class="line">sudo pacman -S b43-fwcutter</span><br><span class="line">sudo pacman -S dialog</span><br></pre></td></tr></table></figure></div><p>&#x5BF9;&#x4E8E;&#x7ECF;&#x5E38;&#x5207;&#x6362;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x7684;&#x8BDD;&#xFF0C;&#x4F7F;&#x7528;NetworkManager&#x7BA1;&#x7406;&#x7F51;&#x7EDC;&#x4F1A;&#x6BD4;&#x8F83;&#x65B9;&#x4FBF;&#xFF0C;&#x4F46;&#x662F;&#x542F;&#x52A8;&#x901F;&#x5EA6;&#x6BD4;&#x8F83;&#x6162;&#xFF0C;&#x83B7;&#x53D6;IP&#x5730;&#x5740;&#x901F;&#x5EA6;&#x6BD4;&#x8F83;&#x6162;&#xFF0C;&#x800C;&#x4E14;&#x9700;&#x8981;&#x7CFB;&#x7EDF;&#x5FC5;&#x987B;&#x767B;&#x9646;&#x8FC7;&#x4E00;&#x6B21;&#x624D;&#x80FD;&#x8FDE;&#x4E0A;&#x7F51;&#x7EDC;&#xFF0C;&#x5BF9;&#x4E8E;&#x7528;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x91CD;&#x542F;&#x540E;&#x5C31;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x5230;ip&#x5730;&#x5740;&#xFF0C;&#x53EA;&#x6709;dhcpcd&#x6216;&#x8005;systemd-networkd&#x80FD;&#x591F;&#x5B9E;&#x73B0;&#xFF0C;&#x719F;&#x6089;systemd-networkd&#x4E4B;&#x540E;&#xFF0C;&#x5176;&#x5B9E;&#x4F7F;&#x7528;&#x4E0A;&#x5DEE;&#x522B;&#x5E76;&#x4E0D;&#x662F;&#x5F88;&#x5927;&#x3002;</p></div></div><div id="outline-container-org2a290b8" class="outline-3"><h3 id="org2a290b8"><span class="section-number-3">2.3</span> &#x4F7F;&#x7528;systemd-networkd&#x66FF;&#x4EE3;networkmanager</h3><div class="outline-text-3" id="text-2-3"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl stop NetworkManager</span><br><span class="line">systemctl <span class="built_in">enable</span> systemd-networkd</span><br><span class="line">systemctl start systemd-networkd</span><br></pre></td></tr></table></figure></div></div><div id="outline-container-orge067c59" class="outline-4"><h4 id="orge067c59"><span class="section-number-4">2.3.1</span> &#x6709;&#x7EBF;&#x8FDE;&#x63A5;</h4><div class="outline-text-4" id="text-2-3-1"><p>&#x53EF;&#x4EE5;&#x5728;/etc/systemd/network/&#x5EFA;&#x7ACB;.network&#x6587;&#x4EF6;&#xFF0C;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#xFF0C;&#x5177;&#x4F53;&#x914D;&#x7F6E;&#x9879;&#x53C2;&#x8003;&#x6587;&#x7AE0;<a href="http://www.tuicool.com/articles/iAziue" target="_blank" rel="noopener">&#x5C1D;&#x9C9C;: &#x65B0;&#x7684;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x7BA1;&#x7406;&#x5DE5;&#x5177; systemd-networkd</a>&#x6211;&#x81EA;&#x5DF1;&#x7684;wired.network&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Match]</span><br><span class="line">Name=en*</span><br><span class="line"></span><br><span class="line">[Network]</span><br><span class="line">DHCP=yes</span><br><span class="line"><span class="comment">#Address=192.168.0.1/24</span></span><br><span class="line"><span class="comment">#Gateway=192.168.1.1</span></span><br><span class="line"><span class="comment">#DNS=192.168.1.1</span></span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org14e52d5" class="outline-4"><h4 id="org14e52d5"><span class="section-number-4">2.3.2</span> &#x65E0;&#x7EBF;&#x8FDE;&#x63A5;</h4><div class="outline-text-4" id="text-2-3-2"><p>&#x53EF;&#x4EE5;&#x5728;/etc/netctl/&#x4E0B;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5177;&#x4F53;&#x914D;&#x7F6E;&#x9879;&#x53C2;&#x8003;&#x6587;&#x7AE0;<a href="https://wiki.archlinux.org/index.php/Netctl" target="_blank" rel="noopener">netctl&#x914D;&#x7F6E;&#x5DE5;&#x5177;&#x8BF4;&#x660E;</a>&#x3002;&#x901A;&#x8FC7;wifi-menu -o&#x8FDE;&#x63A5;&#x65E0;&#x7EBF;&#x70ED;&#x70B9;&#xFF0C;&#x5C31;&#x4F1A;&#x5728;/etc/netctl/&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo netctl <span class="built_in">enable</span> &#x8BE5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x540D;&#x79F0;</span><br><span class="line">sudo netctl start &#x8BE5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x540D;&#x79F0;</span><br></pre></td></tr></table></figure></div><p>&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x65E0;&#x7EBF;&#x8FDE;&#x63A5;&#xFF0C;&#x4E0D;&#x6210;&#x529F;&#x7684;&#x65F6;&#x5019;&#x6CE8;&#x610F;&#x5305;&#x7684;&#x4F9D;&#x8D56;&#x95EE;&#x9898;&#x3002;</p></div></div></div></div><div id="outline-container-org0020a0b" class="outline-2"><h2 id="org0020a0b"><span class="section-number-2">3</span> &#x5B89;&#x88C5;&#x5E38;&#x7528;&#x7684;&#x8F6F;&#x4EF6;</h2><div class="outline-text-2" id="text-3"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S --needed --noconfirm sakura feh dex xdg-utils screenfetch scrot xcompmgr kdeaccessibility wmname alsa-utils gnome-alsamixer xorg-xbacklight xf86-input-synaptics cheese mpd mpc workrave xscreensaver networkmanager network-manager-applet mate-power-manager arandr xfce4-appfinder xfce4-screenshooter</span><br><span class="line">pcmanfm engrampa unrar zip unzip p7zip unace ntfs-<span class="number">3</span>g udisks udiskie lxsession lxappearance terminator conky gksu launchy</span><br><span class="line">gvim emacs firefox putty remmina synergy fcitx-im fcitx-configtool flashplugin</span><br></pre></td></tr></table></figure></div><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yaourt -S dpkg fcitx-sogoupinyin</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org03b72a3" class="outline-2"><h2 id="org03b72a3"><span class="section-number-2">4</span> &#x6587;&#x4EF6;&#x7BA1;&#x7406;&#x5668;</h2><div class="outline-text-2" id="text-4"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pacman -S pcmanfm engrampa unrar zip unzip p7zip unace</span><br></pre></td></tr></table></figure></div><p>unrar: for RAR uncompressionzip: for ZIP archivesunzip: for ZIP archivesp7zip: 7zip compression utilityarj: for ARJ archivesunace: extraction tool for the proprietary ace archive format</p></div><div id="outline-container-org1fbd9fc" class="outline-3"><h3 id="org1fbd9fc"><span class="section-number-3">4.1</span> &#x6DFB;&#x52A0;&#x6302;&#x8F7D;ntfs&#x5206;&#x533A;&#x7684;&#x6743;&#x9650;</h3><div class="outline-text-3" id="text-4-1"><p>&#x53C2;&#x8003;<a href="https://wiki.archlinux.org/index.php/Polkit#Allow_mounting_a_filesystem_on_a_system_device_for_any_user" target="_blank" rel="noopener">Polkit</a>&#x8BF4;&#x660E;&#x6587;&#x6863;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/polkit-<span class="number">1</span>/rules.d/<span class="number">10</span>-enable-mount.rules</span><br><span class="line">sudo usermod XXX <span class="operator">-a</span>G storage</span><br></pre></td></tr></table></figure></div><div class="org-src-container"><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">polkit.addRule(<span class="function"><span class="keyword">function</span>(<span class="params">action, subject</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (action.id == <span class="string">&quot;org.freedesktop.udisks2.filesystem-mount-system&quot;</span> &amp;&amp; subject.isInGroup(<span class="string">&quot;storage&quot;</span>)) {</span><br><span class="line"><span class="keyword">return</span> polkit.Result.YES;</span><br><span class="line">    }</span><br><span class="line">});</span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org776baf6" class="outline-2"><h2 id="org776baf6"><span class="section-number-2">5</span> &#x5B57;&#x4F53;</h2><div class="outline-text-2" id="text-5"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#&#x5B89;&#x88C5;&#x5E38;&#x7528;&#x4E2D;&#x82F1;&#x6587;&#x5B57;&#x4F53;</span></span><br><span class="line">sudo pacman -S noto-fonts noto-fonts-cjk noto-fonts-emoji wqy-microhei ttf-ms-fonts ttf-dejavu ttf-droid ttf-ubuntu-font-family</span><br><span class="line"><span class="comment">#&#x67E5;&#x770B;&#x5B89;&#x88C5;&#x8FC7;&#x7684;&#x5B57;&#x4F53;</span></span><br><span class="line"><span class="built_in">fc</span>-list</span><br><span class="line"><span class="comment">#&#x5B57;&#x4F53;&#x6E32;&#x67D3;</span></span><br><span class="line"><span class="comment">#&#x6539;&#x5584;&#x5B57;&#x4F53;&#x6E32;&#x67D3;&#x76F8;&#x5173;&#x7684;&#x5305;&#x6709;fontconfig-ubuntu,cario-ubuntu,freetype2-config&#xFF0C;&#x6211;&#x4F7F;&#x7528;&#x7684;&#x662F;cario-ubuntu</span></span><br><span class="line">yaourt -S cario-ubuntu</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org5a6192e" class="outline-2"><h2 id="org5a6192e"><span class="section-number-2">6</span> &#x53CC;&#x7CFB;&#x7EDF;&#x65F6;&#x95F4;&#x95EE;&#x9898;</h2><div class="outline-text-2" id="text-6"><p>&#x6DFB;&#x52A0;/etc/adjtime</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="number">0.0</span> <span class="number">0</span> <span class="number">0.0</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line">LOCAL</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org595b50f" class="outline-2"><h2 id="org595b50f"><span class="section-number-2">7</span> &#x914D;&#x7F6E;&#x7A97;&#x53E3;&#x7BA1;&#x7406;&#x5668;</h2><div class="outline-text-2" id="text-7"><p>&#x4E00;&#x76F4;&#x60F3;&#x628A;&#x81EA;&#x5DF1;&#x7684;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x4E0A;&#x7F51;&#x672C;&#x4E5F;&#x7528;&#x4E0A;&#xFF0C;&#x60F3;&#x4E86;&#x5404;&#x79CD;&#x529E;&#x6CD5;&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x5C31;&#x662F;xdmx&#xFF0C;&#x8BD5;&#x8FC7;&#x591A;&#x4E2A;awesome&#x3001;i3&#x3001;twm&#x3001;fvwm&#x7B49;&#xFF0C;&#x53EA;&#x6709;&#x540E;&#x4E24;&#x8005;&#x662F;&#x652F;&#x6301;xdmx&#x7684;&#xFF0C;&#x5176;&#x4ED6;wm&#x8FDE;&#x63A5;&#x4E0A;&#x4E86;&#xFF0C;&#x53EA;&#x662F;&#x9ED1;&#x5C4F;&#x800C;&#x5DF2;&#xFF0C;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4F53;&#x9A8C;&#x4E4B;&#x540E;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x7528;xdmx&#xFF0C;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x52A0;&#x5165;DISPALY=&#x4E0A;&#x7F51;&#x672C;IP&#x5730;&#x5740;:0&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x80FD;&#x5C06;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x5728;&#x4E0A;&#x7F51;&#x7684;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5B9E;&#x5728;&#x611F;&#x53F9;Linux&#x5B9E;&#x5728;&#x7684;&#x662F;&#x592A;&#x725B;&#x903C;&#x7684;&#x3002;&#x7EFC;&#x5408;&#x5404;&#x4E2A;&#x7A97;&#x53E3;&#x7BA1;&#x7406;&#x5668;&#x7684;&#x7279;&#x6027;&#xFF0C;fvwm&#x57FA;&#x672C;&#x4E0A;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;&#x6211;&#x60F3;&#x8981;&#x7684;&#x591A;&#x6570;&#x529F;&#x80FD;&#xFF0C;&#x5C31;&#x662F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7A0D;&#x5FAE;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#x3002;</p></div><div id="outline-container-org0c30753" class="outline-3"><h3 id="org0c30753"><span class="section-number-3">7.1</span> awesome</h3><div class="outline-text-3" id="text-7-1"><p>&#x5B89;&#x88C5;awesome wm config&#x53CA;&#x5176;&#x4F9D;&#x8D56;<a href="https://github.com/pw4ever/awesome-wm-config" target="_blank" rel="noopener">https://github.com/pw4ever/awesome-wm-config</a></p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S awesome</span><br></pre></td></tr></table></figure></div><p>Arch Linux&#x4E0B;&#x7684;urxvt&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x5751;&#xFF0C;aur&#x91CC;&#x6709;&#x591A;&#x4E2A;&#x7248;&#x672C;&#xFF0C;&#x6211;&#x4E0D;&#x5C0F;&#x5FC3;&#x5B89;&#x88C5;&#x4E86;&#x5176;&#x4ED6;&#x7248;&#x672C;&#xFF0C;&#x4E2D;&#x6587;&#x5B57;&#x4F53;&#x8D85;&#x5BBD;&#x7684;&#xFF0C;&#x5076;&#x5C14;&#x770B;&#x5230;&#x4E00;&#x7BC7;&#x300A;<a href="http://arch.acgtyrant.com/2013/12/13/which-urxvt-should-you-choose/" target="_blank" rel="noopener">&#x6709;&#x597D;&#x591A;&#x597D;&#x591A; urxvt&#xFF0C;&#x600E;&#x9EBC;&#x9078;&#x5462;&#xFF1F;</a>&#x300B;&#x624D;&#x627E;&#x5230;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;</p></div><div id="outline-container-org65bb5fd" class="outline-4"><h4 id="org65bb5fd"><span class="section-number-4">7.1.1</span> &#x89E3;&#x51B3;emacs&#x5728;awesome&#x7684;&#x6700;&#x5927;&#x5316;&#x65F6;&#x5E95;&#x90E8;&#x6709;&#x7A7A;&#x9699;</h4><div class="outline-text-4" id="text-7-1-1"><p>&#x6D88;&#x9664;&#x7A7A;&#x9699;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x5728;rc.lua&#x6DFB;&#x52A0;RULE </p><div class="org-src-container"><figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">{ rule = { class = <span class="string">&quot;Emacs&quot;</span> },</span><br><span class="line">     properties = { size_hints_honor = <span class="keyword">false</span> } },</span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-orgb40e479" class="outline-3"><h3 id="orgb40e479"><span class="section-number-3">7.2</span> fvwm</h3><div class="outline-text-3" id="text-7-2"><p>fvwm&#x5DF2;&#x7ECF;&#x662F;&#x975E;&#x5E38;&#x53E4;&#x8001;&#x7684;&#x6280;&#x672F;&#x4E86;&#xFF0C;&#x76EE;&#x524D;&#x5DF2;&#x7ECF;&#x662F;&#x5F88;&#x5C0F;&#x4F17;&#x7684;&#x7A97;&#x53E3;&#x7BA1;&#x7406;&#x5668;&#x3002;&#x4E0D;&#x662F;&#x4E3A;&#x4E86;&#x914D;&#x7F6E;xdmx&#x7684;&#x8BDD;&#xFF0C;&#x6211;&#x4E5F;&#x4E0D;&#x4F1A;&#x63A5;&#x89E6;&#x5230;&#x8FD9;&#x4E2A;&#x6280;&#x672F;&#x3002;&#x591A;&#x6570;&#x63D0;&#x5230;xdmx&#x7684;&#x6587;&#x7AE0;&#x90FD;&#x662F;&#x4F7F;&#x7528;twm&#x4F5C;&#x4E3A;&#x7A97;&#x53E3;&#x7BA1;&#x7406;&#x5668;&#x7684;&#xFF0C;&#x4F46;&#x662F;twm&#x662F;&#x5728;&#x592A;&#x96BE;&#x770B;&#x4E86;&#x3002;&#x5728;<a href="http://xwinman.org/" target="_blank" rel="noopener">Window Managers for X</a>&#x8BD5;&#x904D;&#x4E86;&#x6240;&#x6709;&#x5E38;&#x89C1;&#x7684;&#x7A97;&#x53E3;&#x7BA1;&#x7406;&#x5668;&#xFF0C;&#x53EA;&#x6709;fvwm&#x6BD4;&#x8F83;&#x7B26;&#x5408;&#x6211;&#x7684;&#x8981;&#x6C42;&#x7684;&#x3002;&#x539F;&#x56E0;&#x4E3B;&#x8981;&#x6709;&#x4E24;&#x4E2A;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x652F;&#x6301;xdmx&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x662F;&#x652F;&#x6301;&#x5E73;&#x94FA;&#x5F0F;&#x7A97;&#x53E3;&#x7BA1;&#x7406;&#x3002;fvwm&#x7684;&#x529F;&#x80FD;&#x5341;&#x5206;&#x4E30;&#x5BCC;&#xFF0C;&#x51E0;&#x4E4E;&#x80FD;&#x5B9E;&#x73B0;&#x4EFB;&#x4F55;&#x5173;&#x4E8E;&#x7A97;&#x53E3;&#x7BA1;&#x7406;&#x65B9;&#x9762;&#x4F60;&#x60F3;&#x8981;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E0B;&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x6781;&#x5176;&#x4E11;&#x964B;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x52A8;&#x624B;&#x6162;&#x6162;&#x53BB;&#x8C03;&#x6559;&#xFF0C;&#x4F46;&#x662F;Robert Ulbricht&#x505A;&#x7684;fvwm&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6EE1;&#x8DB3;&#x4E86;&#x6211;&#x7684;&#x8FD9;&#x4E24;&#x4E2A;&#x57FA;&#x672C;&#x8981;&#x6C42;&#x3002;&#x4ED6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x516C;&#x5F00;&#x5728;github&#x4E0A;&#xFF0C;&#x5730;&#x5740;&#x5982;&#x4E0B;&#xFF1A;<a href="https://github.com/urob/fvwm-tiling" target="_blank" rel="noopener">A tiling window manager configuration for fvwm</a>&#xFF0C;&#x6211;&#x4E0B;&#x8F7D;&#x4E0B;&#x6765;&#x4E4B;&#x540E;&#xFF0C;&#x53D1;&#x73B0;&#x5E73;&#x94FA;&#x6A21;&#x5F0F;&#x4E0B;&#x7684;&#x7A97;&#x53E3;&#x4F4D;&#x7F6E;&#x8BA1;&#x7B97;&#x6709;&#x8BEF;&#x5DEE;&#xFF0C;&#x6211;&#x81EA;&#x5DF1;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5DF2;&#x7ECF;&#x4FEE;&#x6B63;&#x4E86;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/wing-ho/fvwm-tiling.git</span><br><span class="line">sudo pacman -S stalonetray screen dmenu mate-power-manager fcitx-im fcitx-configtool</span><br><span class="line"><span class="comment">#aur/fvwm+&#x662F;&#x6253;&#x597D;&#x4E86;&#x5404;&#x79CD;&#x8865;&#x4E01;&#x7684;&#x5305;</span></span><br><span class="line"><span class="comment">#aur/rxvt-unicode-fontspacing-noinc-vteclear-secondarywheel&#x6253;&#x597D;&#x4E86;&#x5404;&#x79CD;&#x8865;&#x4E01;&#x7684;&#x5305;</span></span><br><span class="line">yaourt -S fvwm+ aur/rxvt-unicode-fontspacing-noinc-vteclear-secondarywheel fcitx-sogoupinyin</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-orgc75716c" class="outline-3"><h3 id="orgc75716c"><span class="section-number-3">7.3</span> xfce4</h3><div class="outline-text-3" id="text-7-3"><p>&#x591A;&#x6570;&#x4EBA;&#x7528;&#x5F97;&#x6BD4;&#x8F83;&#x591A;&#x7684;&#x5C31;&#x662F;&#x7B14;&#x8BB0;&#x672C;&#x7684;&#x663E;&#x793A;&#x5668;&#xFF0C;&#x4E00;&#x822C;&#x5C31;&#x53EA;&#x6709;1366x768&#x7684;&#x5206;&#x8FA8;&#x7387;&#xFF0C;&#x5DE5;&#x4F5C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E00;&#x822C;&#x90FD;&#x4F1A;&#x5C06;&#x5F53;&#x524D;&#x7684;&#x7A0B;&#x5E8F;&#x6700;&#x5927;&#x5316;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4EE5;&#x5E73;&#x94FA;&#x7684;&#x65B9;&#x5F0F;&#x7BA1;&#x7406;&#x7A97;&#x53E3;&#x3002;&#x8FD9;&#x65F6;&#x5019;&#x540C;&#x6837;&#x6BD4;&#x8F83;&#x8F7B;&#x91CF;&#x7684;xfce4&#x662F;&#x6211;&#x6BD4;&#x8F83;&#x63A8;&#x8350;&#x7684;&#x9009;&#x62E9;&#x3002;&#x9ED8;&#x8BA4;&#x7684;xfce4&#x4E3B;&#x9898;&#x6BD4;&#x8F83;&#x4E0D;&#x7B26;&#x5408;&#x6211;&#x7684;&#x5BA1;&#x7F8E;&#x8981;&#x6C42;&#xFF0C;&#x6211;&#x6BD4;&#x8F83;&#x559C;&#x6B22;&#x7684;Numix&#x7684;&#x9ED1;&#x8272;&#x4E3B;&#x9898;&#x548C;&#x56FE;&#x6807;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yaourt -S numix-themes numix-circle-icon-theme-git</span><br><span class="line">sudo pacman -S xfce4 xfce4-goodies</span><br><span class="line">vim .xinitrc</span><br><span class="line"><span class="built_in">exec</span> startxfce4</span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org36aed0b" class="outline-2"><h2 id="org36aed0b"><span class="section-number-2">8</span> &#x914D;&#x7F6E;&#x84DD;&#x7259;&#x952E;&#x76D8;&#x548C;&#x84DD;&#x7259;&#x9F20;&#x6807;</h2><div class="outline-text-2" id="text-8"><p>&#x82F1;&#x6587;&#x597D;&#x7684;&#x670B;&#x53CB;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x53C2;&#x8003;arch linux&#x7684;wiki&#xFF0C;&#x914D;&#x7F6E;&#x65B9;&#x6CD5;&#x4E3B;&#x8981;&#x53C2;&#x8003;&#x4EE5;&#x4E0B;&#x4E24;&#x7BC7;&#x6587;&#x7AE0;&#x3002;</p><ol class="org-ol"><li><a href="https://wiki.archlinux.org/index.php/Bluetooth_keyboard" target="_blank" rel="noopener">Bluetooth keyboard</a></li><li><a href="https://wiki.archlinux.org/index.php/Bluetooth_mouse" target="_blank" rel="noopener">Bluetooth mouse</a></li></ol></div><div id="outline-container-org5053b84" class="outline-3"><h3 id="org5053b84"><span class="section-number-3">8.1</span> &#x624B;&#x52A8;&#x8FDE;&#x63A5;&#x84DD;&#x7259;&#x952E;&#x76D8;&#x9F20;&#x6807;</h3><div class="outline-text-3" id="text-8-1"><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S rfkill</span><br><span class="line">sudo rfkill list</span><br><span class="line">sudo rfkill unblock bluetooth</span><br><span class="line"><span class="comment">#&#x914D;&#x7F6E;&#x84DD;&#x7259;&#x952E;&#x76D8;</span></span><br><span class="line">bluetoothctl</span><br><span class="line">[bluetooth]<span class="comment"># power on</span></span><br><span class="line">[bluetooth]<span class="comment"># agent KeyboardOnly</span></span><br><span class="line">[bluetooth]<span class="comment"># default-agent</span></span><br><span class="line">[bluetooth]<span class="comment"># pairable on</span></span><br><span class="line">[bluetooth]<span class="comment"># scan on</span></span><br><span class="line">[bluetooth]<span class="comment"># pair &lt;keyboard mac&gt;</span></span><br><span class="line">[bluetooth]<span class="comment"># trust &lt;keyboard mac&gt;</span></span><br><span class="line">[bluetooth]<span class="comment"># connect &lt;keyboard mac&gt;</span></span><br><span class="line">[bluetooth]<span class="comment"># quit</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#&#x914D;&#x7F6E;&#x84DD;&#x7259;&#x9F20;&#x6807;</span></span><br><span class="line">[bluetooth]<span class="comment"># list</span></span><br><span class="line">Controller &lt;controller mac&gt; BlueZ <span class="number">5.5</span> [default]</span><br><span class="line">[bluetooth]<span class="comment"># select &lt;controller mac&gt;</span></span><br><span class="line">[bluetooth]<span class="comment"># power on</span></span><br><span class="line">[bluetooth]<span class="comment"># scan on</span></span><br><span class="line">[bluetooth]<span class="comment"># agent on</span></span><br><span class="line">[bluetooth]<span class="comment"># devices</span></span><br><span class="line">Device &lt;mouse mac&gt; Name: Bluetooth Mouse</span><br><span class="line">[bluetooth]<span class="comment"># pair &lt;mouse mac&gt;</span></span><br><span class="line">[bluetooth]<span class="comment"># trust &lt;mouse mac&gt;</span></span><br><span class="line">[bluetooth]<span class="comment"># connect &lt;mouse mac&gt;</span></span><br></pre></td></tr></table></figure></div><p>&#x5982;&#x679C;&#x4E0D;&#x60F3;&#x6BCF;&#x6B21;&#x90FD;&#x624B;&#x52A8;&#x8FDE;&#x63A5;&#x84DD;&#x7259;&#xFF0C;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;systemd service</p></div></div><div id="outline-container-orgc87588d" class="outline-3"><h3 id="orgc87588d"><span class="section-number-3">8.2</span> &#x81EA;&#x52A8;&#x8FDE;&#x63A5;&#x84DD;&#x7259;&#x952E;&#x76D8;&#x9F20;&#x6807;</h3><div class="outline-text-3" id="text-8-2"><p>wiki&#x4E0A;&#x9762;&#x8BF4;&#x662F;udev rule&#x6216;&#x8005;systemd&#x670D;&#x52A1;&#x4EFB;&#x9009;&#x5176;&#x4E00;&#x5C31;&#x80FD;&#x5B9E;&#x73B0;&#x81EA;&#x52A8;&#x8FDE;&#x63A5;&#xFF0C;&#x4F46;&#x662F;&#x524D;&#x63D0;&#x662F;&#x5DF2;&#x7ECF;&#x901A;&#x8FC7;bluetoothctl&#x624B;&#x52A8;&#x914D;&#x5BF9;&#x8FDE;&#x63A5;&#x8FC7;&#x5E76;&#x4E14;&#x4FE1;&#x4EFB;&#x7684;&#x84DD;&#x7259;&#x8BBE;&#x5907;&#x3002;</p></div><div id="outline-container-org7a60672" class="outline-4"><h4 id="org7a60672"><span class="section-number-4">8.2.1</span> &#x4F7F;&#x7528;systemd&#x670D;&#x52A1;&#x8FDE;&#x63A5;&#x84DD;&#x7259;&#x8BBE;&#x5907;</h4><div class="outline-text-4" id="text-8-2-1"><p>&#x9996;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/btkbd.conf</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Config file for btkbd.service</span></span><br><span class="line"><span class="comment"># change when required (e.g. keyboard hardware changes, more hci devices are connected)</span></span><br><span class="line">BTKBDMAC=&lt;mac_address_of_your_device&gt;</span><br><span class="line">HCIDEVICE=&lt;hci_device_identifier&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#mac_address_of_your_device can be found with the scan on command of the bluetoothctl utility. </span></span><br><span class="line"><span class="comment">#hci_device_identifier can be found with:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#hcitool dev</span></span><br><span class="line"><span class="comment">#Devices:</span></span><br><span class="line"><span class="comment">#   hci0   E0:2A:82:34:0D:42</span></span><br></pre></td></tr></table></figure></div><p>&#x5728;/etc/systemd/system/btkbd.service&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x670D;&#x52A1;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=systemd Unit to automatically start a Bluetooth keyboard</span><br><span class="line">Documentation=https://wiki.archlinux.org/index.php/Bluetooth_Keyboard</span><br><span class="line">Requires=dbus-org.bluez.service</span><br><span class="line">After=dbus-bluez.org.service</span><br><span class="line">ConditionPathExists=/etc/btkbd.conf</span><br><span class="line">ConditionPathExists=/usr/bin/hcitool</span><br><span class="line">ConditionPathExists=/usr/bin/hciconfig</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=oneshot</span><br><span class="line">EnvironmentFile=/etc/btkbd.conf</span><br><span class="line">ExecStart=/usr/bin/hciconfig <span class="variable">${HCIDEVICE}</span> up</span><br><span class="line"><span class="comment"># ignore errors on connect, spurious problems with bt? so start next command with -</span></span><br><span class="line">ExecStart=-/usr/bin/hcitool cc <span class="variable">${BTKBDMAC}</span></span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure></div><p>&#x7136;&#x540E;&#x7528;systemctl&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x5F00;&#x542F;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> btkbd.service</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org78e7452" class="outline-4"><h4 id="org78e7452"><span class="section-number-4">8.2.2</span> &#x4F7F;&#x7528;udev rule&#x542F;&#x52A8;&#x84DD;&#x7259;&#x8FDE;&#x63A5;&#x670D;&#x52A1;</h4><div class="outline-text-4" id="text-8-2-2"><p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;/etc/udev/rules.d/10-local.rules</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Set bluetooth power up</span></span><br><span class="line">ACTION==<span class="string">&quot;add&quot;</span>, KERNEL==<span class="string">&quot;hci0&quot;</span>, RUN+=<span class="string">&quot;/usr/bin/hciconfig hci0 up&quot;</span></span><br></pre></td></tr></table></figure></div></div></div></div></div><div id="outline-container-org734dba4" class="outline-2"><h2 id="org734dba4"><span class="section-number-2">9</span> &#x96F6;&#x788E;&#x95EE;&#x9898;&#x6C47;&#x603B;</h2><div class="outline-text-2" id="text-9"></div><div id="outline-container-orga38e225" class="outline-3"><h3 id="orga38e225"><span class="section-number-3">9.1</span> &#x4F7F;&#x7528;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#x5F00;&#x673A;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x63D0;&#x793A;&#xFF1A;</h3><div class="outline-text-3" id="text-9-1"><p>Arch Linux &#x2013; Failed to start Verify integrity of password and group filessystemctl status shadow.service&#x63D0;&#x793A;Failed to start Verify integrity of password and group files</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo userdel -r gdm</span><br><span class="line">systemctl start shadow.service</span><br></pre></td></tr></table></figure></div></div></div><div id="outline-container-org141e7d5" class="outline-3"><h3 id="org141e7d5"><span class="section-number-3">9.2</span> Archlinux &#x5B89;&#x88C5; yaourt &#x8F6F;&#x4EF6;&#x5305;&#x7BA1;&#x7406;&#x5668;</h3><div class="outline-text-3" id="text-9-2"><p>&#x6709;&#x65F6;&#x5019;&#x6CA1;&#x6709;&#x53CA;&#x65F6;&#x8DDF;&#x8FDB;&#x5347;&#x7EA7;&#x7CFB;&#x7EDF;&#xFF0C;yaourt&#x8F6F;&#x4EF6;&#x5305;&#x7BA1;&#x7406;&#x5668;&#x6389;&#x94FE;&#x4E86;&#xFF0C;&#x65E0;&#x6CD5;&#x5347;&#x7EA7;&#x4E86;&#xFF0C;&#x4EE5;&#x4E0B;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5B89;&#x88C5;&#x5230;&#x6700;&#x65B0;&#x7248;&#x672C;&#x7684;yaourt&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://aur.archlinux.org/package-query.git</span><br><span class="line"><span class="built_in">cd</span> package-query</span><br><span class="line">makepkg -si</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">git <span class="built_in">clone</span> https://aur.archlinux.org/yaourt.git</span><br><span class="line"><span class="built_in">cd</span> yaourt</span><br><span class="line">makepkg -si</span><br><span class="line"><span class="built_in">cd</span> ..</span><br></pre></td></tr></table></figure></div></div></div></div><div id="outline-container-org508fad4" class="outline-2"><h2 id="org508fad4"><span class="section-number-2">10</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;</h2><div class="outline-text-2" id="text-10"><ol class="org-ol"><li><a href="https://wiki.archlinux.org/index.php?title=Beginners&apos;_guide" target="_blank" rel="noopener">Beginners&apos; guide</a></li><li><a href="https://bbs.archlinuxcn.org/viewtopic.php?id=1037" target="_blank" rel="noopener">Arch Linux &#x5B89;&#x88C5;&#x6307;&#x5357;</a></li><li><a href="http://blog.sina.com.cn/s/blog_69e5d8400102vp00.html" target="_blank" rel="noopener">archuLINUX201501&#x7248;&#xFF0C;&#x6700;&#x5C0F;&#x5316;&#x7CBE;&#x51CF;</a></li><li><a href="http://blog.csdn.net/Listener_ri/article/details/45407783" target="_blank" rel="noopener">arch-linux+xfce4+lightdm+uefi&#x4E2A;&#x4EBA;&#x5B89;&#x88C5;&#x8BB0;&#x5F55;</a></li><li><a href="https://bbs.archlinuxcn.org/viewtopic.php?id=3474" target="_blank" rel="noopener">win8.1&#x4E0E;archlinux(UEFI+GPT)&#x53CC;&#x7CFB;&#x7EDF;&#x5171;&#x5B58;&#x2014;&#x7A97;&#x53E3;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#xFF08;awesome-slim&#xFF09;</a></li><li><a href="http://arch.acgtyrant.com/2013/12/13/which-urxvt-should-you-choose/" target="_blank" rel="noopener">&#x6709;&#x597D;&#x591A;&#x597D;&#x591A; urxvt&#xFF0C;&#x600E;&#x9EBC;&#x9078;&#x5462;&#xFF1F;</a></li><li><a href="https://archlinux.fr/yaourt-en" target="_blank" rel="noopener">&#x5B89;&#x88C5;yaourt&#x7BA1;&#x7406;&#x5668;</a></li></ol></div></div></div><div id="postamble" class="status">Last Updated <span class="timestamp-wrapper"><span class="timestamp">&lt;2015-12-31 &#x56DB; 01:37&gt;</span></span>#.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#orgfd4174f&quot;&gt;1
      
    
    </summary>
    
      <category term="Linux" scheme="http://wing-ho.github.io/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux设置环境变量</title>
    <link href="http://wing-ho.github.io/2015/12/28/Linux%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/"/>
    <id>http://wing-ho.github.io/2015/12/28/Linux设置环境变量/</id>
    <published>2015-12-28T03:28:00.000Z</published>
    <updated>2018-09-10T02:24:18.427Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#orgf1954aa">1. &#x53C2;&#x8003;&#x6587;&#x7AE0;</a></li></ul></div></div><p>&#x5927;&#x90E8;&#x5206;&#x4EBA;&#x90FD;&#x4F1A;&#x5B89;&#x88C5;zsh&#x4EE5;&#x53CA;oh-my-zsh&#xFF0C;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x8BBE;&#x7F6E;&#x5C31;&#x53D8;&#x5F97;&#x590D;&#x6742;&#x4E86;&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#&#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x5B89;&#x88C5;&#x4E86;&#x90A3;&#x4E9B;shell</span></span><br><span class="line">cat /etc/shells</span><br><span class="line"><span class="comment">#&#x66FF;&#x6362;bash&#x4E3A;zsh</span></span><br><span class="line">chsh <span class="operator">-s</span> /bin/zsh</span><br><span class="line"><span class="comment">#&#x91CD;&#x542F;&#x751F;&#x6548;</span></span><br><span class="line">sudo reboot</span><br><span class="line"><span class="comment">#&#x5B89;&#x88C5;oh-my-zsh</span></span><br><span class="line">wget --no-check-certificate https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh</span><br></pre></td></tr></table></figure></div><p>&#x6211;&#x5728;~/profile&#x4E2D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [ <span class="operator">-f</span> <span class="variable">$HOME</span>/.bashrc ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">source</span> <span class="variable">$HOME</span>/.bashrc</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#&#x8BBE;&#x7F6E;&#x5E38;&#x7528;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;</span></span><br><span class="line">JAVA_HOME=/home/wing/Runtime/jdk1.<span class="number">8.0</span>_60</span><br><span class="line">CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/lib</span><br><span class="line">ANDROID_HOME=/home/wing/Android/Sdk</span><br><span class="line"><span class="comment">#NODE_HOME=/home/wing/Runtime/node-v5.3.0-linux-x64</span></span><br><span class="line">PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$HOME</span>/.local/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure></div><p>&#x611F;&#x89C9;&#x56F0;&#x60D1;&#x7684;&#x539F;&#x56E0;&#x662F;&#x7CFB;&#x7EDF;&#x6709;&#x591A;&#x4E2A;&#x5730;&#x65B9;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x800C;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x6E05;&#x695A;&#x4ED6;&#x4EEC;&#x7684;&#x6267;&#x884C;&#x987A;&#x5E8F;&#x3002;</p><div id="outline-container-orgf1954aa" class="outline-2"><h2 id="orgf1954aa"><span class="section-number-2">1</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;</h2><div class="outline-text-2" id="text-1"><p>1.<a href="https://wido.me/sunteya/understand-bashrc-and-profile" target="_blank" rel="noopener">&#x7406;&#x89E3; bashrc &#x548C; profile</a></p></div></div></div><div id="postamble" class="status">Last Updated 2015-12-28 &#x4E00; 11:28.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#orgf1954aa&quot;&gt;1
      
    
    </summary>
    
      <category term="Linux" scheme="http://wing-ho.github.io/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>基于org-mode的卡片记忆工具org-drill</title>
    <link href="http://wing-ho.github.io/2015/12/27/%E5%9F%BA%E4%BA%8Eorg-mode%E7%9A%84%E5%8D%A1%E7%89%87%E8%AE%B0%E5%BF%86%E5%B7%A5%E5%85%B7org-drill/"/>
    <id>http://wing-ho.github.io/2015/12/27/基于org-mode的卡片记忆工具org-drill/</id>
    <published>2015-12-27T07:20:00.000Z</published>
    <updated>2018-09-10T02:24:18.787Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><p>&#x6211;&#x81EA;&#x5DF1;&#x6700;&#x559C;&#x7231;&#x7684;&#x7F16;&#x8F91;&#x5668;&#x662F;Spacemacs&#xFF0C;&#x5F88;&#x591A;&#x4EBA;&#x4E0D;&#x80FD;&#x79BB;&#x5F00;&#x5B83;&#x7684;&#x4E3B;&#x8981;&#x539F;&#x56E0;&#x5C31;&#x662F;&#x5176;&#x5F3A;&#x5927;&#x7684;org-mode&#x3002;&#x6839;&#x636E;&#x5B50;&#x9F99;&#x5C71;&#x4EBA;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x5B83;&#x7684;&#x5F3A;&#x5927;&#xFF0C;&#x6211;&#x5F53;&#x7136;&#x6E05;&#x695A;&#xFF0C;&#x4E5F;&#x56E0;&#x4E3A;&#x8FC7;&#x4E8E;&#x5F3A;&#x5927;&#x6211;&#x8FD8;&#x6CA1;&#x6709;&#x638C;&#x63E1;&#xFF0C;&#x6162;&#x6162;&#x79EF;&#x7D2F;&#x5427;&#xFF01;&#x6211;&#x4F7F;&#x7528;org-mode&#x4E3B;&#x8981;&#x662F;&#x7528;&#x6765;&#x5199;&#x535A;&#x5BA2;&#x548C;&#x505A;&#x7B14;&#x8BB0;&#x3002;org-mode&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x5F3A;&#x5927;&#x7684;&#x5361;&#x7247;&#x8BB0;&#x5FC6;&#x5DE5;&#x5177;org-drill&#x3002;&#x53EA;&#x8981;&#x5F80;&#x9700;&#x8981;&#x8BB0;&#x5FC6;&#x7684;&#x77E5;&#x8BC6;&#x70B9;&#x4E0A;&#x6DFB;&#x52A0;&#x4E0A;:drill:&#x6807;&#x7B7E;&#xFF0C;org-drill&#x5C31;&#x4F1A;&#x6839;&#x636E;&#x8BB0;&#x5FC6;&#x89C4;&#x5F8B;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x7BA1;&#x7406;&#x4F60;&#x9700;&#x8981;&#x8BB0;&#x5FC6;&#x7684;&#x4E1C;&#x897F;&#x3002;&#x8BE6;&#x7EC6;&#x7684;&#x6587;&#x6863;&#x8BF7;&#x67E5;&#x770B;<a href="http://orgmode.org/worg/org-contrib/org-drill.html" target="_blank" rel="noopener">org-drill.el-flashcards and spaced repetition for org-mode</a>&#x4FEE;&#x6539;.spacemacs&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x542F;&#x7528;org layer&#xFF0C;&#x9ED8;&#x8BA4;&#x5C31;&#x4F1A;&#x5B89;&#x88C5;org-drill&#xFF0C;&#x5728;org-mode&#x4E0B;&#x9ED8;&#x8BA4;&#x5E76;&#x6CA1;&#x6709;&#x52A0;&#x8F7D;&#x8FD9;&#x4E2A;&#x5305;&#xFF0C;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x4E00;&#x4E0B;&#x9ED8;&#x8BA4;&#x52A0;&#x8F7D;&#x7684;&#x5305;&#x3002;&#x914D;&#x7F6E;&#x65B9;&#x6CD5;&#x8BF7;&#x53C2;&#x8003;<a href="https://github.com/syl20bnr/spacemacs/issues/2067" target="_blank" rel="noopener">Installation of org-drill not working as expected</a>&#x3002;</p><blockquote><p>The easiest way is to customise the variable &apos;org-modules&apos; (M-x customize-variables RET org-modules)</p></blockquote><p>&#x4ECA;&#x5929;&#x7A81;&#x7136;&#x53D1;&#x73B0;org-drill&#x51FA;&#x73B0;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x8FC7;&#x7A0B;&#x5F53;&#x4E2D;&#x4F1A;&#x968F;&#x673A;&#x7684;&#x51FA;&#x73B0;&#x7A7A;&#x767D;&#x7684;&#x7A97;&#x53E3;&#xFF0C;&#x4E0D;&#x80FD;&#x770B;&#x5230;&#x5361;&#x7247;&#x63D0;&#x95EE;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6309;&#x4EFB;&#x610F;&#x952E;&#x4E4B;&#x540E;&#xFF0C;&#x53C8;&#x91CD;&#x65B0;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5361;&#x7247;&#x7684;&#x5185;&#x5BB9;&#x3002;google&#x4E4B;&#x540E;&#x53D1;&#x73B0;&#x5DF2;&#x7ECF;&#x6709;&#x4EBA;&#x78B0;&#x5230;&#x8FC7;&#x7C7B;&#x4F3C;&#x7684;&#x95EE;&#x9898;<a href="https://github.com/syl20bnr/spacemacs/issues/3238" target="_blank" rel="noopener">Org-drill shows blank question</a>&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x6CA1;&#x6709;org-drill&#x5B98;&#x65B9;&#x8FD8;&#x6CA1;&#x6709;&#x6B63;&#x5F0F;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;<a href="https://bitbucket.org/eeeickythump/org-drill/issues/30/random-blank-buffer-2" target="_blank" rel="noopener">Random blank buffer</a>&#xFF0C;&#x56E0;&#x4E3A;&#x95EE;&#x9898;&#x6765;&#x6E90;&#x4E8E;&#x4E0A;&#x6E38;org-mode&#xFF0C;&#x76EE;&#x524D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x4E34;&#x65F6;&#x7684;patch&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x7279;&#x522B;&#x8BB0;&#x5F55;&#x4E0B;&#x6765;&#xFF0C;&#x65B9;&#x4FBF;&#x4EE5;&#x540E;org-drill&#x6302;&#x6389;&#x4E4B;&#x540E;&#xFF0C;&#x53C8;&#x9700;&#x8981;&#x67E5;&#x627E;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;</p><blockquote><p>This workaround described at <a href="https://www.mail-archive.com/emacs-orgmode@gnu.org/msg95823.html" target="_blank" rel="noopener">https://www.mail-archive.com/emacs-orgmode@gnu.org/msg95823.html</a> solved the problem for me (Debian Jessie; Emacs 25.0.50 (from londo.ganneff.de); org-drill from org-plus-contrib (2015-11-16)):in org.el, comment out the line &quot;(set-window-start nil window-start)&quot;byte-compile org.el</p></blockquote><p>&#x7528;spacemacs&#x6253;&#x5F00;org.el&#x6587;&#x4EF6;&#xFF0C;&#x67E5;&#x627E;`(set-window-start nil window-start)`&#x8FD9;&#x884C;&#xFF0C;&#x7528;&#x5206;&#x53F7;&#x6CE8;&#x91CA;&#x6389;&#x8FD9;&#x884C;&#xFF0C;&#x7136;&#x540E;&#x6309;Spc + m + c + c&#x91CD;&#x65B0;&#x7F16;&#x8BD1;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x3002;&#x968F;&#x7740;org-plus-contrib&#x5305;&#x7684;&#x5347;&#x7EA7;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5DF2;&#x7ECF;&#x6CA1;&#x6709;&#x7528;&#x4E86;&#xFF0C;&#x4F46;&#x662F;org-drill&#x5B98;&#x65B9;&#x5173;&#x4E8E;&#x8FD9;&#x4E2A;bug&#x8BA8;&#x8BBA;&#x91CC;&#x9762;&#x6709;&#x65B0;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;&#x6253;&#x5F00;.emacs\elpa\org-plus-contrib*\org-drill.el&#x628A;&#x51FD;&#x6570;defun org-drill&#x2013;show-latex-fragments ()&#x66FF;&#x6362;&#x6210;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#x5373;&#x53EF;&#x3002;</p><div class="org-src-container"><figure class="highlight lisp"><table><tr><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">defun</span> org-drill--show-latex-fragments <span class="list">()</span></span><br><span class="line">  <span class="list">(<span class="keyword">org-remove-latex-fragment-image-overlays</span>)</span></span><br><span class="line">  <span class="list">(<span class="keyword">cond</span></span><br><span class="line">  <span class="list">(<span class="list">(<span class="keyword">fboundp</span> <span class="quoted">&apos;org-toggle-latex-fragment</span>)</span></span><br><span class="line">    <span class="list">(<span class="keyword">let</span> <span class="list">(<span class="list">(<span class="keyword">wstart</span> <span class="list">(<span class="keyword">window-start</span> <span class="literal">nil</span>)</span>)</span>)</span></span><br><span class="line">      <span class="list">(<span class="keyword">org-toggle-latex-fragment</span> <span class="quoted">&apos;(<span class="number">4</span>)</span>)</span></span><br><span class="line">      <span class="comment">;; Workaround for a display bug in org-toggle-latex-fragment</span></span><br><span class="line">      <span class="list">(<span class="keyword">set-window-start</span> <span class="literal">nil</span> wstart)</span>)</span>)</span></span><br><span class="line">   <span class="list">(<span class="keyword">t</span></span><br><span class="line">    <span class="list">(<span class="keyword">org-preview-latex-fragment</span> <span class="quoted">&apos;(<span class="number">4</span>)</span>)</span>)</span>)</span>)</span></span><br></pre></td></tr></table></figure></div></div><div id="postamble" class="status">Last Updated 2015-12-27 &#x65E5; 15:20.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;p&gt;
&amp;#x6211;&amp;#x81EA;&amp;#x5DF1;&amp;#x6700;&amp;#x559C;&amp;#x7231;&amp;#x7684;&amp;#x7F16;&amp;#x8F91;&amp;#x5668;&amp;#x662F;Spacemacs&amp;#xFF0C;&amp;#x5F88;&amp;#x5
      
    
    </summary>
    
      <category term="Emacs" scheme="http://wing-ho.github.io/categories/Emacs/"/>
    
    
  </entry>
  
  <entry>
    <title>使用Org Mode写博客</title>
    <link href="http://wing-ho.github.io/2015/12/26/%E4%BD%BF%E7%94%A8Org%20Mode%E5%86%99%E5%8D%9A%E5%AE%A2/"/>
    <id>http://wing-ho.github.io/2015/12/26/使用Org Mode写博客/</id>
    <published>2015-12-26T00:00:00.000Z</published>
    <updated>2018-10-07T14:41:37.026Z</updated>
    
    <content type="html"><![CDATA[<div id="content"><div id="table-of-contents"><h2>&#x76EE;&#x5F55;</h2><div id="text-table-of-contents"><ul><li><a href="#orgd5755b4">1. &#x5728;&#x6B63;&#x6587;&#x4E2D;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x5E76;&#x8F93;&#x51FA;&#x7ED3;&#x679C;</a></li><li><a href="#orgf5f96ac">2. &#x4E3B;&#x9898;</a></li><li><a href="#orgdcbe8a0">3. &#x5173;&#x4E8E;hexo-renderer-org&#x7684;&#x5751;</a><ul><li><a href="#orgcb92f66">3.1. org-version&#x7248;&#x672C;&#x8F83;&#x4F4E;&#x5BFC;&#x81F4;&#x5BFC;&#x51FA;&#x6709;&#x95EE;&#x9898;</a></li><li><a href="#org9bc72cf">3.2. &#x540E;&#x7EED;&#x7684;&#x7EF4;&#x62A4;&#x8005;hexo-renderer-org&#x6539;&#x53D8;&#x4E86;&#x539F;&#x6709;&#x7A0B;&#x5E8F;&#x903B;&#x8F91;&#x5BFC;&#x81F4;&#x7684;&#x6545;&#x969C;</a></li></ul></li><li><a href="#orgf506d21">4. &#x53C2;&#x8003;&#x6587;&#x7AE0;</a></li></ul></div></div><p>&#x73B0;&#x5728;&#x5927;&#x5BB6;&#x6D41;&#x884C;&#x7528;&#x9759;&#x6001;&#x535A;&#x5BA2;&#xFF0C;&#x8FD8;&#x6CA1;&#x6709;&#x63A5;&#x89E6;Emacs&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x662F;&#x6253;&#x7B97;&#x4F7F;&#x7528;Markdown&#x5199;&#x4F5C;&#x7684;&#xFF0C;&#x8BA4;&#x8BC6;Org Mode&#x8FD9;&#x4E2A;&#x5F3A;&#x5927;&#x7684;&#x5DE5;&#x5177;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x5C31;&#x5F00;&#x59CB;&#x60F3;&#x65B9;&#x8BBE;&#x6CD5;&#x6539;&#x7528;Org Mode&#xFF0C;&#x7279;&#x522B;&#x662F;org-mode&#x7684;babel&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6267;&#x884C;&#x6587;&#x7AE0;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x5757;&#x5E76;&#x628A;&#x7ED3;&#x679C;&#x663E;&#x793A;&#x5728;&#x4EE3;&#x7801;&#x5757;&#x540E;&#xFF0C;&#x6211;&#x60F3;&#x8FD9;&#x5C31;&#x662F;&#x6240;&#x8C13;&#x7684;&#x6587;&#x5B66;&#x7F16;&#x7A0B;&#x5427;&#xFF0C;&#x7ECF;&#x8FC7;&#x4E00;&#x756A;&#x52AA;&#x529B;&#x4E4B;&#x540E;&#xFF0C;&#x7EC8;&#x4E8E;&#x9A7E;&#x9A6D;Org Mode&#x5199;&#x535A;&#x5BA2;&#x4E86;&#x3002;&#x5728;&#x770B;&#x4E86;&#x5B50;&#x9F99;&#x5C71;&#x4EBA;&#x7684;&#x535A;&#x5BA2;&#x4E4B;&#x540E;&#xFF0C;&#x5F00;&#x59CB;&#x7528;org-octopress&#x5199;&#x535A;&#x5BA2;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x5305;&#x5E76;&#x4E0D;&#x652F;&#x6301;&#x7BA1;&#x7406;Markdown&#x683C;&#x5F0F;&#x7684;&#x535A;&#x5BA2;&#xFF0C;&#x53EA;&#x80FD;&#x7528;&#x6765;&#x7BA1;&#x7406;org&#x683C;&#x5F0F;&#x7684;&#x6587;&#x7AE0;&#xFF0C;markdown&#x683C;&#x5F0F;&#x7684;&#x6587;&#x7AE0;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x7BA1;&#x7406;&#x3002;&#x540E;&#x6765;&#x53D1;&#x73B0;Codefalling&#x5199;&#x4E86;2&#x4E2A;&#x5305;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;blog&#x2014;admin&#xFF0C;&#x5B83;&#x540C;&#x65F6;&#x80FD;&#x591F;&#x517C;&#x5BB9;org&#x3001;markdown&#x548C;org-page&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x5305;&#x662F;hexo-render-org&#xFF0C;&#x5B83;&#x8BA9;hexo&#x652F;&#x6301;&#x6E32;&#x67D3;org&#x683C;&#x5F0F;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x7EC8;&#x4E8E;&#x9A6F;&#x670D;&#x4E86;Emacs&#x7528;&#x6765;&#x5199;&#x535A;&#x5BA2;&#x3002;</p><p>Codefalling&#x540C;&#x5B66;&#x8FD8;&#x6709;&#x5199;&#x4E86;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x5305;hexo-asset-image&#xFF0C;&#x7528;&#x4E8E;&#x4F7F;hexo&#x652F;&#x6301;&#x672C;&#x5730;&#x56FE;&#x7247;&#xFF0C;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x56FE;&#x5E8A;&#x4E86;&#xFF0C;&#x800C;&#x4E14;&#x8FD9;&#x4E2A;&#x63D2;&#x4EF6;&#x540C;&#x65F6;&#x652F;&#x6301;markdown&#x548C;org&#xFF0C;&#x771F;&#x662F;&#x5E94;&#x8BE5;&#x7ED9;&#x4ED6;&#x70B9;&#x4E2A;&#x8D5E;&#x3002;&#x6211;fork&#x4E86;&#x8FD9;&#x4E2A;&#x5305;&#x4E3A;&#x4E86;&#x652F;&#x6301;file&#x534F;&#x8BAE;&#x6253;&#x4E86;&#x4E2A;&#x5C0F;&#x8865;&#x4E01;&#xFF0C;&#x89C9;&#x5F97;&#x8FD9;&#x53EF;&#x80FD;&#x53EA;&#x6709;&#x6211;&#x6709;&#x8FD9;&#x4E2A;&#x9700;&#x6C42;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4E5F;&#x9700;&#x8981;&#x7684;&#x8BDD;&#xFF0C;&#x8BF7;&#x770B;<a href="https://github.com/wing-ho/hexo-asset-image" target="_blank" rel="noopener">https://github.com/wing-ho/hexo-asset-image</a>&#x3002;</p><p>&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x4E0B;org-mode&#x4E0B;&#x7684;&#x56FE;&#x7247;&#x8FDE;&#x63A5;&#x662F;&#x4F1A;&#x76F4;&#x63A5;&#x663E;&#x793A;&#x56FE;&#x7247;&#x7684;&#xFF0C;&#x8FD9;&#x4F1A;&#x7ED9;&#x7F16;&#x8F91;&#x6587;&#x7AE0;&#x5E26;&#x6765;&#x4E00;&#x4E9B;&#x4E0D;&#x4FBF;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5FEB;&#x6377;&#x952E;,Ti&#x6765;&#x5F00;&#x5173;&#x56FE;&#x7247;&#x663E;&#x793A;&#x529F;&#x80FD;&#x3002;</p><p>&#x6211;&#x4F7F;&#x7528;&#x7684;Emacs&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x662F;&#x5EFA;&#x7ACB;&#x5728;Spacemacs&#x4E4B;&#x4E0A;&#x7684;&#xFF0C;&#x719F;&#x6089;&#x4E86;Spacemacs&#x914D;&#x7F6E;&#x65B9;&#x5F0F;&#xFF0C;&#x4F1A;&#x975E;&#x5E38;&#x559C;&#x6B22;&#x5B83;&#x7528;&#x5C42;&#x6765;&#x9694;&#x79BB;&#x4E0D;&#x540C;&#x7684;&#x914D;&#x7F6E;&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x5982;&#x679C;&#x4F60;&#x6709;&#x540C;&#x6837;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x6211;&#x7684;layer&#x3002;</p><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.emacs.d</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/wing-ho/spacemacs-private.git</span><br><span class="line">mv spacemacs-private/wing private/</span><br><span class="line"><span class="comment">#https://sourceforge.net/projects/plantuml/files/plantuml.jar/download</span></span><br><span class="line"><span class="comment">#&#x4E0B;&#x8F7D;plantuml.jar&#x653E;&#x5230;private&#x6587;&#x4EF6;&#x5939;&#x4E2D;</span></span><br><span class="line">sudo apt-get install graphviz</span><br></pre></td></tr></table></figure></div><div id="outline-container-orgd5755b4" class="outline-2"><h2 id="orgd5755b4"><span class="section-number-2">1</span> &#x5728;&#x6B63;&#x6587;&#x4E2D;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x5E76;&#x8F93;&#x51FA;&#x7ED3;&#x679C;</h2><div class="outline-text-2" id="text-1"><p><img src="/2015/12/26/使用Org Mode写博客/code_block.png">&#x5C06;&#x5149;&#x6807;&#x843D;&#x5728;&#x4EE3;&#x7801;&#x6807;&#x7B7E;&#x5185;&#xFF0C;&#x6309;C-c C-c y&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x5E76;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x3002;:exports&#x9009;&#x9879;&#x662F;&#x63A7;&#x5236;&#x5BFC;&#x51FA;&#x6210;html&#x6216;&#x8005;&#x5176;&#x4ED6;&#x683C;&#x5F0F;&#x65F6;&#x7684;&#x5185;&#x5BB9;&#x3002;</p><ul class="org-ul"><li>code &#x5BFC;&#x51FA;&#x4EE3;&#x7801;</li><li>results &#x5BFC;&#x51FA;&#x6267;&#x884C;&#x7ED3;&#x679C;</li><li>both &#x5BFC;&#x51FA;&#x4EE3;&#x7801;&#x548C;&#x7ED3;&#x679C;</li><li>none &#x4E0D;&#x5BFC;&#x51FA;&#x4EFB;&#x4F55;&#x5185;&#x5BB9;</li></ul><div class="org-src-container"><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure></div><table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides"><colgroup><col class="org-left"><col class="org-right"><col class="org-right"><col class="org-right"><col class="org-right"><col class="org-left"><col class="org-left"></colgroup><tbody><tr><td class="org-left">Filesystem</td><td class="org-right">1K-blocks</td><td class="org-right">Used</td><td class="org-right">Available</td><td class="org-right">Use%</td><td class="org-left">Mounted</td><td class="org-left">on</td></tr><tr><td class="org-left">dev</td><td class="org-right">4025804</td><td class="org-right">0</td><td class="org-right">4025804</td><td class="org-right">0%</td><td class="org-left">/dev</td><td class="org-left">&#xA0;</td></tr><tr><td class="org-left">run</td><td class="org-right">4030776</td><td class="org-right">1280</td><td class="org-right">4029496</td><td class="org-right">1%</td><td class="org-left">/run</td><td class="org-left">&#xA0;</td></tr><tr><td class="org-left">/dev/nvme0n1p6</td><td class="org-right">315518128</td><td class="org-right">41378444</td><td class="org-right">258042560</td><td class="org-right">14%</td><td class="org-left">/</td><td class="org-left">&#xA0;</td></tr><tr><td class="org-left">tmpfs</td><td class="org-right">4030776</td><td class="org-right">0</td><td class="org-right">4030776</td><td class="org-right">0%</td><td class="org-left">/dev/shm</td><td class="org-left">&#xA0;</td></tr><tr><td class="org-left">tmpfs</td><td class="org-right">4030776</td><td class="org-right">0</td><td class="org-right">4030776</td><td class="org-right">0%</td><td class="org-left">/sys/fs/cgroup</td><td class="org-left">&#xA0;</td></tr><tr><td class="org-left">tmpfs</td><td class="org-right">4030776</td><td class="org-right">16</td><td class="org-right">4030760</td><td class="org-right">1%</td><td class="org-left">/tmp</td><td class="org-left">&#xA0;</td></tr><tr><td class="org-left">/dev/nvme0n1p1</td><td class="org-right">98304</td><td class="org-right">25866</td><td class="org-right">72438</td><td class="org-right">27%</td><td class="org-left">/boot/EFI</td><td class="org-left">&#xA0;</td></tr><tr><td class="org-left">tmpfs</td><td class="org-right">806152</td><td class="org-right">12</td><td class="org-right">806140</td><td class="org-right">1%</td><td class="org-left">/run/user/1000</td><td class="org-left">&#xA0;</td></tr></tbody></table></div></div><div id="outline-container-orgf5f96ac" class="outline-2"><h2 id="orgf5f96ac"><span class="section-number-2">2</span> &#x4E3B;&#x9898;</h2><div class="outline-text-2" id="text-2"><p>&#x6211;&#x6BD4;&#x8F83;&#x559C;&#x6B22;&#x7B80;&#x5355;&#x7684;&#x7070;&#x8272;&#x7CFB;&#x4E3B;&#x9898;Maupassant&#xFF0C;&#x4F46;&#x662F;&#x4ED6;&#x8DDF;&#x591A;&#x6570;&#x7684;hexo&#x4E3B;&#x9898;&#x4E00;&#x6837;&#x53EA;&#x652F;&#x6301;Mardown&#x683C;&#x5F0F;&#x7684;&#x535A;&#x5BA2;&#xFF0C;org-mode&#x5199;&#x7684;&#x535A;&#x5BA2;&#xFF0C;&#x76EE;&#x5F55;&#x6837;&#x5F0F;&#x662F;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x7684;&#xFF0C;&#x4E3B;&#x9898;&#x4F5C;&#x8005;&#x5E94;&#x8BE5;&#x4E0D;&#x7528;org-mode&#xFF0C;&#x6211;&#x4E5F;&#x6253;&#x4E86;&#x4E2A;&#x8865;&#x4E01;&#x81EA;&#x7528;&#xFF0C;&#x9700;&#x8981;&#x7684;&#x8BDD;&#xFF0C;&#x8BF7;&#x770B;<a href="https://github.com/wing-ho/maupassant-hexo" target="_blank" rel="noopener">https://github.com/wing-ho/maupassant-hexo</a>&#x3002;</p></div></div><div id="outline-container-orgdcbe8a0" class="outline-2"><h2 id="orgdcbe8a0"><span class="section-number-2">3</span> &#x5173;&#x4E8E;hexo-renderer-org&#x7684;&#x5751;</h2><div class="outline-text-2" id="text-3"></div><div id="outline-container-orgcb92f66" class="outline-3"><h3 id="orgcb92f66"><span class="section-number-3">3.1</span> org-version&#x7248;&#x672C;&#x8F83;&#x4F4E;&#x5BFC;&#x81F4;&#x5BFC;&#x51FA;&#x6709;&#x95EE;&#x9898;</h3><div class="outline-text-3" id="text-3-1"><p>&#x82B1;&#x4E86;&#x51E0;&#x4E2A;&#x5C0F;&#x65F6;&#x8C03;&#x8BD5;hexo-render-org&#x624D;&#x627E;&#x5230;&#x539F;&#x56E0;&#xFF0C;&#x4F30;&#x8BA1;&#x662F;org-mode&#x7684;&#x7248;&#x672C;&#x548C;&#x7F16;&#x8BD1;org-plus-contrib&#x5305;&#x7684;&#x7248;&#x672C;&#x4E0D;&#x4E00;&#x81F4;&#x5BFC;&#x81F4;&#x7684;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x5B89;&#x88C5;spacemacs&#x7684;&#x65F6;&#x5019;&#x65F6;&#x5019;&#x7528;&#x7CFB;&#x7EDF;&#x81EA;&#x5E26;&#x7684;org 8.2&#x7F16;&#x8BD1;org-plus-contrib&#x3002;&#x7248;&#x672C;&#x4E0D;&#x4E00;&#x81F4;&#x8FD8;&#x5BFC;&#x81F4;&#x4E86;&#x5728;org-mode&#x4E0B;code block&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x6309;C-c C-c&#x6267;&#x884C;&#x3002;&#x8FD9;&#x4E2A;bug&#x662F;&#x6BD4;&#x8F83;&#x9690;&#x79D8;&#x7684;&#xFF0C;&#x901A;&#x5E38;&#x53EA;&#x53D1;&#x751F;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x5B89;&#x88C5;spacemacs&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;org-mode&#x7684;package&#x5347;&#x7EA7;&#x8FC7;&#x4E4B;&#x540E;&#x5C31;&#x4E0D;&#x4F1A;&#x6709;&#x8FD9;&#x4E2A;&#x526F;&#x4F5C;&#x7528;&#x4E86;&#x3002;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;M-x package-reinstall&#xFF0C;&#x91CD;&#x65B0;&#x5B89;&#x88C5;org&#x548C;org-plus-contrib&#x5305;&#xFF0C;M-x org-version&#x68C0;&#x67E5;org-mode&#x7684;&#x7248;&#x672C;&#x662F;&#x5426;&#x4E0E;&#x751F;&#x6210;&#x7684;html&#x6587;&#x4EF6;&#x4E00;&#x81F4;&#x3002;</p></div></div><div id="outline-container-org9bc72cf" class="outline-3"><h3 id="org9bc72cf"><span class="section-number-3">3.2</span> &#x540E;&#x7EED;&#x7684;&#x7EF4;&#x62A4;&#x8005;hexo-renderer-org&#x6539;&#x53D8;&#x4E86;&#x539F;&#x6709;&#x7A0B;&#x5E8F;&#x903B;&#x8F91;&#x5BFC;&#x81F4;&#x7684;&#x6545;&#x969C;</h3><div class="outline-text-3" id="text-3-2"><p>&#x51FA;&#x73B0;&#x8FD9;&#x4E2A;&#x6545;&#x969C;&#x662F;&#x56E0;&#x4E3A;&#x6211;&#x9700;&#x8981;&#x7528;&#x5230;plantuml&#x6765;&#x753B;UML&#x56FE;&#xFF0C;file&#x53C2;&#x6570;&#x662F;&#x751F;&#x6210;&#x7684;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#xFF0C;&#x6211;&#x7528;&#x5230;&#x4E86;&#x51FD;&#x6570;buffer-file-name&#xFF0C;CodeFalling&#x7684;&#x5904;&#x7406;&#x903B;&#x8F91;&#x662F;&#x5728;&#x6E90;&#x6587;&#x4EF6;&#x5BFC;&#x51FA;html&#x540E;&#x518D;&#x5904;&#x7406;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;buffer-file-name&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x6709;&#x6548;&#x7684;&#xFF0C;Coldnew&#x7684;&#x5904;&#x7406;&#x903B;&#x8F91;&#x662F;&#x653E;&#x5230;&#x4E00;&#x4E2A;&#x628A;&#x539F;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;temp buffer&#x4E2D;&#x518D;&#x6DFB;&#x52A0;&#x989D;&#x5916;&#x7684;&#x63A7;&#x5236;&#x4FE1;&#x606F;&#xFF0C;&#x518D;&#x5BFC;&#x51FA;html&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x505A;&#x6CD5;&#x4F1A;&#x5BFC;&#x81F4;buffer-file-name&#x8FD9;&#x6837;&#x7684;&#x51FD;&#x6570;&#x8FD4;&#x56DE;nil&#x3002;&#x66F4;&#x65B0;hexo-renderer-org&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x6709;&#x51E0;&#x7BC7;&#x6709;&#x540E;&#x7F6E;&#x5904;&#x7406;&#x7684;&#x535A;&#x5BA2;&#x5C31;&#x6302;&#x6389;&#x4E86;&#xFF0C;&#x53C8;&#x82B1;&#x4E86;&#x534A;&#x5929;&#x65F6;&#x95F4;&#x53BB;&#x8C03;&#x8BD5;&#x4EE3;&#x7801;&#x624D;&#x641E;&#x6E05;&#x695A;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x7684;&#x6D41;&#x7A0B;&#xFF0C;&#x65B0;&#x7684;hexo-renderer-org&#x4E5F;&#x6709;&#x503C;&#x5F97;&#x8868;&#x626C;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x5C31;&#x662F;&#x628A;&#x56FE;&#x7247;&#x62D6;&#x653E;&#x7684;&#x529F;&#x80FD;&#x505A;&#x51FA;&#x6765;&#xFF0C;&#x4EE5;&#x540E;&#x5199;&#x535A;&#x5BA2;&#x5C31;&#x7B80;&#x5355;&#x5F88;&#x591A;&#x4E86;&#x3002;</p></div></div></div><div id="outline-container-orgf506d21" class="outline-2"><h2 id="orgf506d21"><span class="section-number-2">4</span> &#x53C2;&#x8003;&#x6587;&#x7AE0;</h2><div class="outline-text-2" id="text-4"><ol class="org-ol"><li><a href="https://codefalling.com/" target="_blank" rel="noopener">Codefalling&#x540C;&#x5B66;&#x7684;&#x535A;&#x5BA2;</a></li><li><a href="http://www.jianshu.com/p/49f26cd641a2" target="_blank" rel="noopener">&#x4F7F;&#x7528; Org Mode &#x5728;&#x7B80;&#x4E66;&#x5199;&#x4F5C;</a></li><li><a href="https://codefalling.com/2016/01/31/write-blog-in-emacs/" target="_blank" rel="noopener">&#x5728; emacs &#x4E2D;&#x5199;&#x535A;&#x5BA2;</a></li><li><a href="http://www.3zso.com/archives/orgmode-babel.html" target="_blank" rel="noopener">Org-mode Babel&#x4F7F;&#x7528;&#x793A;&#x4F8B;</a></li></ol></div></div></div><div id="postamble" class="status">Last Updated 2015-12-26.<br>Created by <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a> 25.1.1 (<a href="https://orgmode.org" target="_blank" rel="noopener">Org</a> mode 9.1.14)</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;content&quot;&gt;
&lt;div id=&quot;table-of-contents&quot;&gt;
&lt;h2&gt;&amp;#x76EE;&amp;#x5F55;&lt;/h2&gt;
&lt;div id=&quot;text-table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#orgd5755b4&quot;&gt;1
      
    
    </summary>
    
      <category term="Emacs" scheme="http://wing-ho.github.io/categories/Emacs/"/>
    
    
  </entry>
  
</feed>
